let e;function t(e){return e&&e.__esModule?e.default:e}var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.vdom=o.render=o.shallowEqual=o.isFunctionalNode=o.isTextNode=o.isClassNode=o.isIntrinsicNode=o.createComponentKey=o.createChildKey=o.VDom=o.ClassComponent=void 0;class i{constructor(){this.props={},this.children=[],this.vdom=void 0,this.vdomKey="",this.prevRenderedResult=!1,this.unmounting=!1}onMount(){}onUnmount(e){e()}hasChanged(e){return!o.shallowEqual(this.props,e)}internalRender(e,t){return this.props=e,this.children=t,this.render()}forceUpdate(){if(!this.vdom)return;let e=this.rootDomNode();e&&this.vdom.renderDom(e.parentElement,this.render(),this.vdomKey)}rootDomNode(){if(!this.vdom)return null;let e=this.vdom.vdomData[this.vdomKey];return e?e.domNode:null}}o.ClassComponent=i;class s{constructor(e){this.vdomData={},this.nsStack=[],this.rootKey="R",this.processChildNode=e=>"object"==typeof e?e:this.createTextNode(e.toString()),this.doc=e}render(e,t,o){this.nsStack=[],this.renderDom(t,e,o||this.rootKey)}createVDom(e,t,...o){let s=o.flat(1/0).filter(e=>void 0!=e&&"boolean"!=typeof e).map(this.processChildNode);if(t=t||{},"string"==typeof e)return this.createIntrinsicNode(e,t,s);if(e.prototype instanceof i)return this.createClassNode(e,t,s);if("function"==typeof e)return this.createFunctionalNode(e,t,s);throw Error("Unknown virtual node type")}clear(){this.deleteVDomData(this.vdomData[this.rootKey],this.rootKey),this.vdomData={},this.nsStack=[]}createTextNode(e){return{textValue:e}}createIntrinsicNode(e,t,o){let i={},s={},a={},l={};for(let e in t){let o=t[e];r(e,o)?s[e.substr(2)]=o:n(e)?a[e]=o:"style"===e?l=o:"key"===e||(i[e]=o)}return{children:o,nodeName:e,attributes:i,style:l,listeners:s,key:t.key,properties:a}}createClassNode(e,t,o){let i=t.key;return{children:o,ctor:e,props:t=l(t),key:i}}createFunctionalNode(e,t,o){let i=t.key;return{children:o,func:e,props:t=l(t),key:i}}renderDom(e,t,i){let s=this.vdomData[i];return this.hasVElementChanged(null==s?void 0:s.vNode,t)&&this.deleteVDomData(s,i),!!t&&(o.isTextNode(t)?this.renderTextNode(s,e,t,i):o.isClassNode(t)?this.renderClassNode(s,e,t,i):o.isFunctionalNode(t)?this.renderFunctionalNode(e,t,i):!!o.isIntrinsicNode(t)&&this.renderIntrinsicNode(s,e,t,i))}deleteVDomData(e,t){if(e){if(o.isIntrinsicNode(e.vNode)){let i=e.vNode.children;for(let e=0;e<i.length;e++){let s=o.createChildKey(i[e],t,e),r=this.vdomData[s];this.deleteVDomData(r,s)}}else if(o.isFunctionalNode(e.vNode)||o.isClassNode(e.vNode)){let i=o.createComponentKey(t),s=this.vdomData[i];if(o.isClassNode(e.vNode)){let t=e.instance;t.unmounting=!0,t.onUnmount(()=>{t.unmounting&&this.deleteVDomData(s,i)})}else this.deleteVDomData(s,i)}a(e.domNode),delete this.vdomData[t]}}hasVElementChanged(e,t){return!!e&&(!t||(o.isFunctionalNode(e)?e.func!==t.func:o.isClassNode(e)?e.ctor!==t.ctor:!!o.isIntrinsicNode(e)&&e.nodeName!==t.nodeName))}renderTextNode(e,t,o,i){if(e)e.vNode.textValue!==o.textValue&&(e.domNode.nodeValue=o.textValue,this.vdomData[i]={domNode:e.domNode,vNode:o});else{let e=this.doc.createTextNode(o.textValue);t.appendChild(e),this.vdomData[i]={domNode:e,vNode:o}}return!0}renderFunctionalNode(e,t,i){let s=o.createComponentKey(i),r=this.renderDom(e,t.func(t.props,t.children),s);return this.vdomData[i]={vNode:t},r}renderClassNode(e,t,i,s){let r=null==e?void 0:e.instance,n=!r;if(r){if(!r.hasChanged(i.props))return r.prevRenderedResult}else(r=new i.ctor).vdomKey=o.createComponentKey(s),r.vdom=this;let a=r.internalRender(i.props,i.children),l=!1;return a&&(l=this.renderDom(t,a,r.vdomKey)),r.prevRenderedResult=l,this.vdomData[s]={vNode:i,instance:r},(n||r.unmounting)&&(r.unmounting=!1,r.onMount()),l}renderIntrinsicNode(e,t,o,i){var s;let r;let n=null==e?void 0:e.vNode,l=null===(s=o.attributes)||void 0===s?void 0:s.xmlns;if(l&&this.nsStack.push(l),e&&n.nodeName===o.nodeName)r=e.domNode;else{e&&a(e.domNode);let i=this.nsStack[this.nsStack.length-1];r=i?this.doc.createElementNS(i,o.nodeName):this.doc.createElement(o.nodeName),t.appendChild(r)}return this.vdomData[i]={domNode:r,vNode:o},this.renderChildrenNodes(n,r,o,i),this.applyAttributes(r,null==n?void 0:n.attributes,o.attributes),this.applyStyle(r,null==n?void 0:n.style,o.style),this.applyEventListeners(r,null==n?void 0:n.listeners,o.listeners),this.applyProperties(r,null==n?void 0:n.properties,o.properties),l&&this.nsStack.pop(),!0}getChildWithDomNode(e,t){let i=o.isFunctionalNode(e)||o.isClassNode(e)?this.vdomData[o.createComponentKey(t)]:this.vdomData[t];if(i)return!i.domNode&&(o.isFunctionalNode(i.vNode)||o.isClassNode(i.vNode))?this.getChildWithDomNode(i.vNode,o.createComponentKey(t)):i.domNode}renderChildrenNodes(e,t,i,s){let r=null==e?void 0:e.children,n={},a=[];if(r)for(let e=0;e<r.length;e++){let t=r[e],i=o.createChildKey(t,s,e);n[i]=t,a[e]=this.vdomData[i]}let l=t.childNodes;for(let e=0,r=0;e<i.children.length;e++,r++){let a=i.children[e],d=o.createChildKey(a,s,e),h=this.renderDom(t,a,d);if(delete n[d],!h){r--;continue}let u=this.getChildWithDomNode(a,d);u&&l.item(r)!==u&&t.insertBefore(u,l.item(r))}for(let e in n){let t=this.vdomData[e];this.deleteVDomData(t,e)}}applyAttributes(e,t,o){let i=this.diffProps(t,o);for(let t in i.remove)e.removeAttribute(t);for(let t in i.add)e.setAttribute(t,i.add[t]);return i}applyStyle(e,t,o){let i=this.diffProps(t,o);for(let t in i.remove)e.style.removeProperty(t);for(let t in i.add)e.style.setProperty(t,i.add[t]);return i}applyEventListeners(e,t,o){let i=this.diffProps(t,o);for(let t in i.remove)e.removeEventListener(t,i.remove[t]);for(let t in i.add)e.addEventListener(t,i.add[t]);return i}applyProperties(e,t,o){let i=this.diffProps(t,o);for(let t in i.remove)e[t]=void 0;for(let t in i.add)e[t]=i.add[t];return i}diffProps(e,t={}){let o=Object.assign({},e),i={};for(let e in t){let s=o[e],r=t[e];void 0!=s&&s===r?delete o[e]:i[e]=r}return{remove:o,add:i}}}o.VDom=s;const r=(e,t)=>e.startsWith("on")&&"function"==typeof t,n=e=>"value"===e||"checked"===e||"selected"===e,a=e=>{var t;e&&(null===(t=e.parentElement)||void 0===t||t.removeChild(e))},l=e=>(void 0!==e.key&&(e={...e},delete e.key),e);function d(e){return()=>({selectedPageId:e})}o.createChildKey=(e,t,i)=>{if(!o.isTextNode(e)){let o=e.key;if(void 0!=o)return`${t}_:${o}`}return`${t}_${i}`},o.createComponentKey=e=>`${e}_C`,o.isIntrinsicNode=e=>!!e.nodeName,o.isClassNode=e=>!!e.ctor,o.isTextNode=e=>!!e.textValue,o.isFunctionalNode=e=>!!e.func,o.shallowEqual=(e,t)=>{if(e===t)return!0;let o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(let i=0;i<o.length;i++)if(e[o[i]]!==t[o[i]])return!1;return!0},o.render=function(e,t,o){s.current.render(e,t,o)},o.vdom=function(e,t,...o){return s.current.createVDom(e,t,...o)},"undefined"!=typeof document&&(s.current=new s(document));const h={npm:"has-fill",github:"fill-on-hover has-stroke",cog:"fill-on-hover has-stroke",youtube:"fill-on-hover has-stroke",ripples:"has-fill",theme:"theme-icon has-stroke"},u="http://www.w3.org/2000/svg",c="0 0 512 512";class p extends o.ClassComponent{render(){let{icon:e,size:t,active:i,disabled:s}=this.props,r={};"number"==typeof t&&isFinite(t)&&(r.width=r.height=`${t}px`);let n=`icon ${this.props.class||""} ${h[e]||""} ${i?"active":""}`;return"theme"===e?/*#__PURE__*/(0,o.vdom)(m,{class:n}):/*#__PURE__*/(0,o.vdom)("svg",{xmlns:u,style:r,viewBox:c,class:n},/*#__PURE__*/(0,o.vdom)("use",{href:`#${e}`}),s&&/*#__PURE__*/(0,o.vdom)(g,null))}}class m extends o.ClassComponent{render(){let e=this.props.class;return e?.includes("active")?setTimeout(()=>this.gotoMoon()):setTimeout(()=>this.gotoSun()),/*#__PURE__*/(0,o.vdom)("svg",{class:e||"",xmlns:u,viewBox:c},/*#__PURE__*/(0,o.vdom)("g",null,/*#__PURE__*/(0,o.vdom)("animateTransform",{class:"begin-animation",attributeName:"transform",type:"rotate",dur:"0.5",repeatCount:"1",fill:"freeze",calcMode:"spline",begin:"indefinite",keySplines:"0.7 0 0.3 1",values:"0 256 512 ; 180 256 512"}),/*#__PURE__*/(0,o.vdom)("animateTransform",{class:"end-animation",attributeName:"transform",type:"rotate",dur:"0.5",repeatCount:"1",fill:"freeze",calcMode:"spline",begin:"indefinite",keySplines:"0.7 0 0.3 1",values:"180 256 512 ; 360 256 512"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m319 897.73c68-40 92-128 53-197-40-69-128-92-197-53-23 13-42 33-55 57 57-31 138-12 171 44 32 56 23 132-48 168 26.6.1 52-5 76-19z","stroke-linecap":"round","stroke-linejoin":"round"}),/*#__PURE__*/(0,o.vdom)("circle",{cx:"256",cy:"256",r:"88"}),/*#__PURE__*/(0,o.vdom)("g",{"stroke-linecap":"round"},/*#__PURE__*/(0,o.vdom)("path",{d:"m395 116.85-46 46"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m452 256h-65"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m395 395-46-46"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m256 452v-65"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m116 116 46 46"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m59 256h65"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m116 395 46-46"}),/*#__PURE__*/(0,o.vdom)("path",{d:"m256 59v65"}))))}constructor(...e){super(...e),this.gotoMoon=()=>{let e=this.rootDomNode()?.parentElement?.querySelector(".begin-animation");e&&e.beginElement()},this.gotoSun=()=>{let e=this.rootDomNode()?.parentElement?.querySelector(".end-animation");e&&e.beginElement()}}}class g extends o.ClassComponent{onMount(){let e=this.rootDomNode();e&&(this.path=e.querySelector("path"),"undefined"==typeof window?this.path?.classList.add("mounted"):setTimeout(()=>this.path?.classList.add("mounted"),50))}onUnmount(e){if(!this.path){e();return}this.path?.classList.remove("mounted"),this.path?.classList.add("unmounted"),setTimeout(e,300)}render(){return/*#__PURE__*/(0,o.vdom)("svg",{xmlns:u,viewBox:c},/*#__PURE__*/(0,o.vdom)("path",{class:"disabled-icon",d:"M60,60 L452,452",stroke:"#a50505","stroke-width":"36"}))}constructor(...e){super(...e),this.path=null}}class f extends o.ClassComponent{render(){return/*#__PURE__*/(0,o.vdom)("svg",{xmlns:u,style:{display:"none"}},/*#__PURE__*/(0,o.vdom)("defs",null,/*#__PURE__*/(0,o.vdom)("g",{id:"github"},/*#__PURE__*/(0,o.vdom)("path",{d:"m256.04 40.719a12.101 12.101 0 01-.0586.002c-122.18 0-221.01 98.821-221.01 221.04 0 97.422 62.943 179.91 150.26 209.4.38186.0493.69175.0942.87891.10156-.003-3.4698-.11415-15.222-.20508-25.107-27.464 2.7336-47.158-5.0022-59.33-15.113-14.232-11.822-18.799-26.721-18.799-26.721l.32618.9375c-4.7106-11.964-10.209-19.009-14.23-23.041-4.0218-4.0316-5.541-4.543-5.541-4.543a12.101 12.101 0 01-1.6855-.96289c-6.1107-4.173-10.297-7.152-13.012-13.621-1.3576-3.2345-1.7567-8.1312-.04883-12.045 1.7079-3.9138 4.5608-6.0923 6.7617-7.3457 4.4017-2.5068 7.6019-2.7105 10.174-2.9941 2.572-.28365 4.7051-.25391 4.7051-.25391a12.101 12.101 0 01.69727.0293c30.762 2.1653 45.461 30.27 45.461 30.27l-.1543-.26953c8.7038 14.91 17.877 18.479 27.371 19.326 6.9177.61754 14.097-.96515 19.641-2.8203 1.117-4.7619 2.5325-9.1837 4.332-13.15-20.939-4.0467-41.963-11.405-59.438-26.117-22.933-19.308-37.99-51.035-37.99-98.162 0-25.618 8.5952-47.73 22.586-65.25-3.4062-12.042-6.7793-34.8 4.5508-63.455a12.101 12.101 0 017.5586-7.0742s3.2924-.90645 6.8887-1.0723 8.4788.0901 14.646 1.3887c11.453 2.4114 27.524 8.7025 48.361 22.156 18.177-4.5474 37.226-6.9097 56.203-7.0059a12.101 12.101 0 01.13476 0c18.951.11661 37.987 2.4616 56.186 7.0059 20.822-13.453 36.88-19.742 48.324-22.154 6.1631-1.2988 11.042-1.5566 14.637-1.3906 3.5946.16595 6.8867 1.0742 6.8867 1.0742a12.101 12.101 0 017.5508 7.0625c11.354 28.646 7.9789 51.431 4.5938 63.453 14.015 17.535 22.549 39.66 22.549 65.262 0 47.236-15.086 78.97-38.08 98.221-17.459 14.616-38.446 21.904-59.361 25.895 4.2183 9.2458 6.8164 20.618 6.8164 34.104 0 31.009-.2792 55.947-.2832 63.49.20492-.0115.50996-.0576.93555-.11914 87.287-29.535 150.2-111.97 150.2-209.39 0-122.2-98.794-221-220.99-221.04z"})),/*#__PURE__*/(0,o.vdom)("g",{id:"npm"},/*#__PURE__*/(0,o.vdom)("path",{d:"M227.6 213.1H256v57.1h-28.4z"}),/*#__PURE__*/(0,o.vdom)("path",{d:"M0 156v171.4h142.2V356H256v-28.6h256V156zm142.2 142.9h-28.4v-85.7H85.3v85.7H28.4V184.6h113.8zm142.2 0h-56.9v28.6h-56.9V184.6h113.8zm199.2 0h-28.4v-85.7h-28.4v85.7h-28.4v-85.7H370v85.7h-56.9V184.6h170.7v114.3z"})),/*#__PURE__*/(0,o.vdom)("g",{id:"youtube"},/*#__PURE__*/(0,o.vdom)("path",{d:"m254.76 102.98s-35.734-.00038-75.871 1.1914-86.398 4.2719-100.17 7.9629a12.791 12.791 0 01-.0098.004c-15.311 4.091-27.437 16.217-31.529 31.529a12.791 12.791 0 01-.002.008c-4.2204 15.748-6.7922 43.226-7.9727 66.02-1.1805 22.793-1.1816 41.16-1.1816 41.16s-.000768 18.366 1.1797 41.158c1.1805 22.793 3.7538 50.27 7.9746 66.021a12.791 12.791 0 01.0039.008c4.0921 15.312 16.216 27.437 31.529 31.529a12.791 12.791 0 01.0078.004c13.772 3.6901 60.032 6.7707 100.17 7.9629 40.137 1.1922 75.869 1.1914 75.869 1.1914s35.732.00073 75.869-1.1914c40.137-1.1921 86.398-4.2726 100.17-7.9629a12.791 12.791 0 01.008-.004c15.313-4.092 27.434-16.214 31.527-31.529a12.791 12.791 0 010-.006c4.219-15.75 6.7936-43.228 7.9746-66.021 1.181-22.794 1.1816-41.16 1.1816-41.16s-.00086-18.365-1.1816-41.158c-1.1808-22.793-3.7547-50.27-7.9746-66.021a12.791 12.791 0 010-.008c-4.0936-15.313-16.214-27.439-31.525-31.529a12.791 12.791 0 01-.01-.004c-13.77-3.691-60.031-6.7711-100.17-7.9629-40.137-1.1918-75.871-1.1914-75.871-1.1914zm-45.533 66.229a12.791 12.791 0 016.0176 1.707l119.26 68.859a12.791 12.791 0 010 22.152l-119.26 68.857a12.791 12.791 0 01-19.186-11.076v-137.72a12.791 12.791 0 0113.168-12.783z"})),/*#__PURE__*/(0,o.vdom)("g",{id:"cog"},/*#__PURE__*/(0,o.vdom)("path",{d:"m210.06 28.039-11.908 75.131c-16.509 6.2627-31.895 15.159-45.559 26.342l-71.063-27.27-45.938 79.566 59.236 47.979c-1.474 8.6613-2.2473 17.427-2.3125 26.213.02275 8.8217.75954 17.627 2.2031 26.33l-59.127 47.889 45.938 79.566 71.084-27.279c13.66 11.122 29.029 19.962 45.51 26.18l11.934 75.303h91.875l11.912-75.16c16.5-6.2589 31.877-15.146 45.535-26.32l71.08 27.277 45.939-79.564-59.24-47.982c1.4765-8.6688 2.2511-17.443 2.3164-26.236-.0227-8.814-.75818-17.612-2.1992-26.307l59.123-47.885-45.939-79.566-71.061 27.27c-13.667-11.131-29.045-19.978-45.537-26.199l-11.93-75.275zm45.938 171.23c31.331.00055 56.729 25.398 56.73 56.729-.00055 31.331-25.399 56.729-56.73 56.73-31.331-.00055-56.729-25.399-56.73-56.73.00056-31.331 25.399-56.728 56.73-56.729z"})),/*#__PURE__*/(0,o.vdom)("g",{id:"ripples"},/*#__PURE__*/(0,o.vdom)("path",{d:"m102 257c0 86 70 156 156 156 28.0.3 83-10 34-10-81.1 0-146-65-146-146.1 0-81 65-146 146-146 65 3-19-22-66-9-41 5-124 69-124 155zm94-64.1c-10 15-22 56-6 24 30-41 96-60 143-38 50 29 67 93 38 143-23 31 10-1 19-17 30-53 12-121-40-152-16-9-41.123-16-65-15-35 0-75 20-89 55zm123 17c30 30 30 79 0 110-30 30-79 30-110 0-17-22 1 8 9 16 32 32 84 32 117 0 32-32 33.085-81 1-114-10.143-14-34-29-17-12z"}))))}}class v extends o.ClassComponent{render(){let{icon:e,text:t,active:i,disableIcon:s,disabled:r}=this.props,n=`circle-button ${r?"disabled":""}`;return/*#__PURE__*/(0,o.vdom)("div",{class:n,onclick:this.onClick},/*#__PURE__*/(0,o.vdom)("span",{class:"circle-button__text"},t),/*#__PURE__*/(0,o.vdom)(p,{class:"circle-button__icon",icon:e,size:32,active:i,disabled:s}))}constructor(...e){super(...e),this.onClick=()=>{this.props.disabled||"function"!=typeof this.props.onclick||this.props.onclick()}}}class b extends o.ClassComponent{hasChanged(e){return!0}render(){let e=`menu ${this.props.class||""} ${this.showMenu?"active":""}`,t=`menu__row ${this.showMenu?"":"disabled"}`;return/*#__PURE__*/(0,o.vdom)("div",{class:e},/*#__PURE__*/(0,o.vdom)(v,{onclick:this.toggleMenu,icon:"cog",active:this.showMenu}),/*#__PURE__*/(0,o.vdom)("div",{class:"menu__dropdown"},this.children.map((e,i)=>{let s=i+1;this.showMenu||(s=this.children.length-s);let r={"transition-delay":.1*s+"s"};return/*#__PURE__*/(0,o.vdom)("div",{class:t,style:r},e)})))}constructor(...e){super(...e),this.showMenu=!1,this.toggleMenu=()=>{this.showMenu=!this.showMenu,this.forceUpdate()}}}class w extends o.ClassComponent{render(){let{darkTheme:e,ripplesEnabled:t}=this.props;return/*#__PURE__*/(0,o.vdom)(b,null,/*#__PURE__*/(0,o.vdom)(v,{icon:"theme",text:`${e?"Light":"Dark"} Theme`,onclick:this.toggleDarkTheme,active:e}),/*#__PURE__*/(0,o.vdom)(v,{icon:"ripples",text:t?"Ripples Off":"Ripples On",disableIcon:!t,onclick:this.toggleRipples}))}constructor(...t){super(...t),this.toggleDarkTheme=()=>{var t;e.execute((t=!this.props.darkTheme,()=>({darkTheme:t})))},this.toggleRipples=()=>{var t;e.execute((t=!this.props.ripplesEnabled,()=>({ripplesEnabled:t})))}}}class y extends o.ClassComponent{render(){let{page:e,active:t}=this.props;return/*#__PURE__*/(0,o.vdom)("a",{class:`navbar-page-button ${t?"is--active":""}`,href:`/${e.id}`,onclick:this.onClick},e.title)}constructor(...e){super(...e),this.onClick=e=>{0===e.button&&(e.preventDefault(),e.stopPropagation()),this.props.onClick(this.props.page)}}}class x extends o.ClassComponent{render(){let{pages:e,selectedPageId:t,darkTheme:i,ripplesEnabled:s}=this.props;return/*#__PURE__*/(0,o.vdom)("nav",{class:"navbar"},/*#__PURE__*/(0,o.vdom)("h1",null,"Alan Lawrey"),/*#__PURE__*/(0,o.vdom)("div",{class:"navbar__page-buttons"},e.map(e=>/*#__PURE__*/(0,o.vdom)(y,{active:e.id===t,page:e,onClick:this.onClickPage}))),/*#__PURE__*/(0,o.vdom)(w,{darkTheme:i,ripplesEnabled:s}))}constructor(...e){super(...e),this.onClickPage=e=>{this.props.onPageChange(e)}}}class k extends o.ClassComponent{render(){return/*#__PURE__*/(0,o.vdom)("footer",{class:"footer container"},"Alan Lawrey 2023")}}var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=class{constructor(){this.listeners=[],this.length=()=>this.listeners.length}add(e){return this.listeners.push(e),()=>{let t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}}trigger(e){for(let t of this.listeners)if(!1===t(e))break}};const E=new/*@__PURE__*/(t(T)),C=new/*@__PURE__*/(t(T));class R extends o.ClassComponent{render(){let{url:e,fullSizeUrl:t,caption:i}=this.props.picture,s=/*#__PURE__*/(0,o.vdom)("img",{loading:"lazy",src:e,alt:i});return/*#__PURE__*/(0,o.vdom)("div",{class:"post-picture",onmouseenter:this.onMouseEnter,onmouseleave:this.onMouseLeave},t?/*#__PURE__*/(0,o.vdom)("a",{href:t,target:"_blank"},s):s,i&&/*#__PURE__*/(0,o.vdom)("div",{class:"post-picture__caption"},i))}constructor(...e){super(...e),this.onMouseEnter=e=>{let t=e.target;E.trigger(t)},this.onMouseLeave=e=>{let t=e.target;C.trigger(t)}}}class P extends o.ClassComponent{render(){let{url:e,icon:t,title:i}=this.props.link,s={};return i&&(s.title=i),/*#__PURE__*/(0,o.vdom)("div",{class:"post-link"},/*#__PURE__*/(0,o.vdom)("a",{href:e,target:"_blank",...s},/*#__PURE__*/(0,o.vdom)(p,{icon:t})))}}const _=/(\[([^\]]+)\]\(([^\)]+)\))/,A=RegExp(_,"g");class D{static processText(e){if(0>e.indexOf("["))return[e];let t=[],i=e.split(A);for(let e=0;e<i.length;e++){let s=i[e];if(s){if("["===s[0]&&_.test(s)){let s=i[e+1],r=i[e+2];if(e+=2,"link"===s){let e=r.split("|"),i=e[0].trim(),s=e[1].trim();t.push(/*#__PURE__*/(0,o.vdom)("a",{href:s},i))}else if("post-header"===s){let e=r.split("|"),i=e[0].trim(),s=e[1].trim();t.push(/*#__PURE__*/(0,o.vdom)("div",{class:"post-header"},/*#__PURE__*/(0,o.vdom)("h3",null,i)," ",/*#__PURE__*/(0,o.vdom)("small",null,s)))}else("strong"===s||"h1"===s||"h2"===s||"h3"===s)&&t.push((0,o.vdom)(s,{},r))}else t.push(s)}}return t}}class S extends o.ClassComponent{render(){let{text:e,pictures:t,list:i,picturePosition:s,links:r}=this.props.content;return/*#__PURE__*/(0,o.vdom)("div",{class:`post-paragraph is--${s||"right"}`},(e||i||r)&&/*#__PURE__*/(0,o.vdom)("div",{class:"post-paragraph__text-content"},this.processText(),r&&/*#__PURE__*/(0,o.vdom)("div",{class:"post-paragraph__links"},r.map(e=>/*#__PURE__*/(0,o.vdom)(P,{link:e})))),t&&/*#__PURE__*/(0,o.vdom)("div",{class:"post-paragraph__pictures"},t.map(e=>/*#__PURE__*/(0,o.vdom)(R,{picture:e}))))}constructor(...e){super(...e),this.processText=()=>{let{text:e}=this.props.content;if(!e)return null;let t=[],i=null;for(let s of e)0!==s.length&&("*"===s[0]?(null===i&&(i=[]),i.push(s.substr(1).trimLeft())):(null!==i&&(t.push(this.createList(i)),i=null),t.push(/*#__PURE__*/(0,o.vdom)("div",{class:"post-paragraph__line"},D.processText(s)))));return null!==i&&t.push(this.createList(i)),t},this.createList=e=>/*#__PURE__*/(0,o.vdom)("ul",null,e.map(e=>/*#__PURE__*/(0,o.vdom)("li",null,D.processText(e))))}}class I extends o.ClassComponent{render(){let{contents:e}=this.props.post;return/*#__PURE__*/(0,o.vdom)("div",{class:"post"},/*#__PURE__*/(0,o.vdom)("div",null,e.map(e=>/*#__PURE__*/(0,o.vdom)(S,{content:e}))))}}class N extends o.ClassComponent{onMount(){let t=this.rootDomNode();t&&("undefined"==typeof window?t.classList.add("mounted"):setTimeout(()=>{var o;t.classList.add("mounted");let i=t.getBoundingClientRect();e.execute((o=i.height,()=>({postsHeight:o})))},50))}onUnmount(e){let t=this.rootDomNode();if(!t){e();return}t.classList.remove("mounted"),t.classList.add("unmounted"),setTimeout(()=>e(),300)}render(){let{posts:e,category:t}=this.props;return/*#__PURE__*/(0,o.vdom)("div",{class:"posts"},/*#__PURE__*/(0,o.vdom)("div",{class:"posts__content"},t&&/*#__PURE__*/(0,o.vdom)("h2",null,t.title),e&&e.map(e=>/*#__PURE__*/(0,o.vdom)(I,{key:e.pageId,post:e})),/*#__PURE__*/(0,o.vdom)(k,null)))}}class M{constructor(e,t,o,i){this.extension=e,this.linearExtension=t,this.glType=o,this.arrayType=i}}class U{constructor(e,t){this.id=e,this.locations=t}}class F extends U{constructor(...e){super(...e),this.topLeft=new Float32Array(2),this.bottomRight=new Float32Array(2),this.containerRatio=new Float32Array(2),this.scroll=0}}function L(e,t,o,i){function s(e,o){let i=t.createShader(e);if(!i)throw Error("Failed to create shadow");if(t.shaderSource(i,o),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw Error("compile error: "+t.getShaderInfoLog(i));return i}let r=t.createProgram();if(!r)throw Error("Failed to create program");if(t.attachShader(r,s(t.VERTEX_SHADER,o)),t.attachShader(r,s(t.FRAGMENT_SHADER,i)),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw Error("link error: "+t.getProgramInfoLog(r));let n={};t.useProgram(r),t.enableVertexAttribArray(0);let a,l,d=/uniform (\w+) (\w+)/g,h=o+i;for(;null!=(a=d.exec(h));){l=a[2];let e=t.getUniformLocation(r,l);if(!e){console.warn("Failed to get location: "+l);continue}n[l]=e}return new e(r,n)}class B{constructor(e,t=256){this.interactive=!0,this.transparentPixels=function(e,t){try{return new ImageData(32,32)}catch(t){let e=document.createElement("canvas");return e?.getContext("2d")?.createImageData(32,32)}}(0,0),this.textures=[],this.framebuffers=[],this.dropCircleProgram=null,this.dropBoxProgram=null,this.updateProgram=null,this.renderProgram=null,this.backgroundTexture=null,this.backgroundSize=1,this.dropRadius=12,this.perturbance=.03,this.bufferWriteIndex=0,this.bufferReadIndex=1,this.step=()=>{this.computeTextureBoundaries(),this.update(),this.render()},this.dropAtPointer=e=>{this.interactive&&this.drop(e.clientX,e.clientY,this.dropRadius,.005)},this.dropAtTouch=e=>{if(this.interactive)for(let t of e.changedTouches)this.drop(t.clientX,t.clientY,this.dropRadius,.01)},this.dropQuad=(e,t,o,i,s)=>{if(!this.dropBoxProgram)return;let r=this.gl,n=this.canvas.width,a=this.canvas.height,l=Math.max(n,a),d=new Float32Array([(2*(e+.5*o)-n)/l*.5+.5,(a-2*(t+.5*i))/l*.5+.5]),h=new Float32Array([o/l*.5,i/l*.5]);r.viewport(0,0,this.resolution,this.resolution),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffers[this.bufferWriteIndex]),this.bindTexture(this.textures[this.bufferReadIndex]),r.useProgram(this.dropBoxProgram.id),r.uniform2fv(this.dropBoxProgram.locations.center,d),r.uniform2fv(this.dropBoxProgram.locations.boxSize,h),r.uniform1f(this.dropBoxProgram.locations.strength,s),this.drawQuad(),this.swapBufferIndices()},this.canvas=e;let o=e.getContext("webgl");if(!o)throw Error("Unable to get webgl context");if(this.gl=o,this.resolution=t,this.textureDelta=new Float32Array([1/this.resolution,1/this.resolution]),this.config=function(e){let t=e.getExtension("OES_texture_float"),o=e.getExtension("OES_texture_half_float"),i=e.getExtension("OES_texture_float_linear"),s=e.getExtension("OES_texture_half_float_linear");if(!t)return null;let r=[new M(t,i,e.FLOAT,Float32Array)];o&&r.push(new M(o,s,o.HALF_FLOAT_OES,null));let n=e.createTexture(),a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);let l=null;for(let t of r)if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,32,32,0,e.RGBA,t.glType,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE){l=t;break}return l}(o),null==this.config)throw Error("Unable to get webgl config");let i=this.config.arrayType?new this.config.arrayType(this.resolution*this.resolution*4):null;for(let e=0;e<2;e++){let e=o.createTexture(),t=o.createFramebuffer();if(!e||!t)throw Error("Failed to create texture/framebuffer");o.bindFramebuffer(o.FRAMEBUFFER,t),o.bindTexture(o.TEXTURE_2D,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.config.linearExtension?o.LINEAR:o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,this.config.linearExtension?o.LINEAR:o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,this.resolution,this.resolution,0,o.RGBA,this.config.glType,i),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,e,0),this.textures.push(e),this.framebuffers.push(t)}let s=o.createBuffer();if(!s)throw Error("Failed to create draw quad");this.quad=s,o.bindBuffer(o.ARRAY_BUFFER,this.quad),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),o.STATIC_DRAW),this.initShaders(),this.initTexture(),this.setTransparentTexture(),this.setupPointerEvents(),o.clearColor(0,0,0,0),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA);let r=()=>{this.step(),requestAnimationFrame(r)};requestAnimationFrame(r)}loadBackground(e){let t=this.gl,o=t.RGBA,i=t.RGBA,s=t.UNSIGNED_BYTE,r=new Image;r.onload=()=>{var e,n;t.bindTexture(t.TEXTURE_2D,this.backgroundTexture),t.texImage2D(t.TEXTURE_2D,0,o,i,s,r),this.backgroundSize=r.width,(((e=r.width)&e-1)!=0||((n=r.height)&n-1)!=0)&&t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)},r.onerror=t=>{console.error("Failed to load background image",e,t),this.setTransparentTexture()},r.src=e}setupPointerEvents(){let e=this.canvas.parentElement;e&&(e.addEventListener("mousemove",this.dropAtPointer,{passive:!0}),e.addEventListener("touchstart",this.dropAtTouch,{passive:!0}),e.addEventListener("touchmove",this.dropAtTouch,{passive:!0}))}drop(e,t,o,i){if(!this.dropCircleProgram)return;let s=this.gl,r=this.canvas.width,n=this.canvas.height,a=Math.max(r,n);o/=a;let l=new Float32Array([(2*e-r)/a*.5+.5,(n-2*t)/a*.5+.5]);s.viewport(0,0,this.resolution,this.resolution),s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffers[this.bufferWriteIndex]),this.bindTexture(this.textures[this.bufferReadIndex]),s.useProgram(this.dropCircleProgram.id),s.uniform2fv(this.dropCircleProgram.locations.center,l),s.uniform1f(this.dropCircleProgram.locations.radius,o),s.uniform1f(this.dropCircleProgram.locations.strength,i),this.drawQuad(),this.swapBufferIndices()}initShaders(){let e=`attribute vec2 vertex;
varying vec2 coord;
void main() {
    coord = vertex * 0.5 + 0.5;
    gl_Position = vec4(vertex, 0.0, 1.0);
}`;this.dropCircleProgram=L(U,this.gl,e,`precision highp float;

const float PI = 3.141592653589793;
uniform sampler2D texture;
uniform vec2 center;
uniform float radius;
uniform float strength;

varying vec2 coord;

void main() {
    vec4 info = texture2D(texture, coord);

    float drop = max(0.0, 1.0 - length(center - coord) / radius);
    drop = 0.5 - cos(drop * PI) * 0.5;

    info.r += drop * strength;

    gl_FragColor = info;
}`),this.dropBoxProgram=L(U,this.gl,e,`precision highp float;

uniform sampler2D texture;
uniform vec2 center;
uniform vec2 boxSize;
uniform float strength;

varying vec2 coord;

const float boxRounding = 0.01;
const float edgeSoftness  = 0.005;

float roundedBoxSDF(vec2 CenterPosition, vec2 Size, float Radius)
{
    return length(max(abs(CenterPosition)-Size+Radius,0.0))-Radius;
}

void main() {
    vec4 info = texture2D(texture, coord);

    float distance = roundedBoxSDF(coord - center, boxSize, boxRounding);
    float smoothedAlpha = 1.0-smoothstep(0.0, edgeSoftness * 200.0,distance * 100.0);

    info.r += smoothedAlpha * strength;

    gl_FragColor = info;
}`),this.updateProgram=L(U,this.gl,e,`precision highp float;

uniform sampler2D texture;
uniform vec2 delta;

varying vec2 coord;

void main() {
    vec4 info = texture2D(texture, coord);

    vec2 dx = vec2(delta.x, 0.0);
    vec2 dy = vec2(0.0, delta.y);

    float average = (
        texture2D(texture, coord - dx).r +
        texture2D(texture, coord - dy).r +
        texture2D(texture, coord + dx).r +
        texture2D(texture, coord + dy).r
    ) * 0.25;

    info.g += average - info.r;
    info.g *= 0.998;
    info.r += info.g;

    gl_FragColor = info;
}`),this.gl.uniform2fv(this.updateProgram.locations.delta,this.textureDelta),this.renderProgram=L(F,this.gl,`precision highp float;

attribute vec2 vertex;

uniform vec2 topLeft;
uniform vec2 bottomRight;
uniform vec2 containerRatio;
uniform float scroll;

varying vec2 ripplesCoord;
varying vec2 backgroundCoord;

void main() {
    backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);
    backgroundCoord.y += scroll;
    ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;
    gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);
}`,`precision highp float;

uniform sampler2D samplerBackground;
uniform sampler2D samplerRipples;
uniform vec2 delta;
uniform float perturbance;

varying vec2 ripplesCoord;
varying vec2 backgroundCoord;

void main() {
    float height = texture2D(samplerRipples, ripplesCoord).r;
    float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;
    float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;
    vec3 dx = vec3(delta.x, heightX - height, 0.0);
    vec3 dy = vec3(0.0, heightY - height, delta.y);
    vec2 offset = -normalize(cross(dy, dx)).xz;
    float specularPow = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 2.0);
    float specular = smoothstep(0.1, 0.2, specularPow);

    float specMult = specular * 0.1 + 1.0;
    vec4 backgroundColour = texture2D(samplerBackground, backgroundCoord + offset * perturbance);
    gl_FragColor = backgroundColour * vec4(specMult, specMult, specMult, 1.0);
    if (backgroundColour.r < 0.5)
    {
        vec4 specularColour = vec4(0.03 * specular, 0.04 * specular, 0.06 * specular, 1.0);
        gl_FragColor += specularColour;
    }
}`),this.gl.uniform2fv(this.renderProgram.locations.delta,this.textureDelta)}initTexture(){this.backgroundTexture=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this.backgroundTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR)}setTransparentTexture(){this.transparentPixels&&(this.gl.bindTexture(this.gl.TEXTURE_2D,this.backgroundTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.transparentPixels))}computeTextureBoundaries(){if(!this.renderProgram)return;let e=Math.max(this.canvas.width,this.canvas.height),t=e/this.backgroundSize,o=this.scrollElement?this.scrollElement.scrollTop:0;this.renderProgram.topLeft[0]=0,this.renderProgram.topLeft[1]=0,this.renderProgram.bottomRight[0]=this.canvas.width/e*t,this.renderProgram.bottomRight[1]=this.canvas.height/e*t,this.renderProgram.containerRatio[0]=this.canvas.width/e,this.renderProgram.containerRatio[1]=this.canvas.height/e,this.renderProgram.scroll=o/e*t}update(){this.updateProgram&&(this.gl.viewport(0,0,this.resolution,this.resolution),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffers[this.bufferWriteIndex]),this.bindTexture(this.textures[this.bufferReadIndex]),this.gl.useProgram(this.updateProgram.id),this.drawQuad(),this.swapBufferIndices())}swapBufferIndices(){this.bufferWriteIndex=1-this.bufferWriteIndex,this.bufferReadIndex=1-this.bufferReadIndex}bindTexture(e,t){this.gl.activeTexture(this.gl.TEXTURE0+(t||0)),this.gl.bindTexture(this.gl.TEXTURE_2D,e)}drawQuad(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.quad),this.gl.vertexAttribPointer(0,2,this.gl.FLOAT,!1,0,0),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,4)}render(){if(!this.renderProgram)return;let e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,this.canvas.width,this.canvas.height),e.enable(e.BLEND),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.useProgram(this.renderProgram.id),this.backgroundTexture&&this.bindTexture(this.backgroundTexture,0),this.bindTexture(this.textures[0],1),e.uniform1f(this.renderProgram.locations.perturbance,this.perturbance),e.uniform1f(this.renderProgram.locations.scroll,this.renderProgram.scroll),e.uniform2fv(this.renderProgram.locations.topLeft,this.renderProgram.topLeft),e.uniform2fv(this.renderProgram.locations.bottomRight,this.renderProgram.bottomRight),e.uniform2fv(this.renderProgram.locations.containerRatio,this.renderProgram.containerRatio),e.uniform1i(this.renderProgram.locations.samplerBackground,0),e.uniform1i(this.renderProgram.locations.samplerRipples,1),this.drawQuad(),e.disable(e.BLEND)}}let O=!0;class j extends o.ClassComponent{onMount(){"undefined"!=typeof window&&(this.canvas=this.rootDomNode(),this.canvas&&(this.onResize(),this.ripple=new B(this.canvas,512),this.checkBackground(e.state().darkTheme)),window.addEventListener("resize",this.onResize),this.removeOnHoverOver=E.add(this.onHoverOver),this.removeOnHoverOut=C.add(this.onHoverOut))}onUnmount(e){window.removeEventListener("resize",this.onResize),this.removeOnHoverOver&&this.removeOnHoverOver(),this.removeOnHoverOut&&this.removeOnHoverOut(),e()}render(){return this.checkBackground(this.props.darkTheme),/*#__PURE__*/(0,o.vdom)("canvas",{class:"ripples"})}constructor(...e){super(...e),this.ripple=null,this.canvas=null,this.removeOnHoverOver=null,this.removeOnHoverOut=null,this.hoverCount=0,this.checkBackground=e=>{if(this.ripple&&(this.ripple.scrollElement=this.props.scrollElement,e!==this.darkTheme)){if(this.darkTheme=e,O&&"undefined"!=typeof window){let e=window.getComputedStyle(document.body).backgroundImage,t=e.substring(e.indexOf("/",14),e.lastIndexOf('"'));if(O=!1,t){this.ripple.loadBackground(t);return}}let t=this.props.backgrounds,o=function(e){let t=Math.floor(Math.random()*e.length);return e[t]}(e?t.dark:t.light);this.ripple.loadBackground(o)}},this.onHoverOver=e=>{this.ripple&&(this.hoverCount++,this.onHoverElement(e,.01))},this.onHoverOut=e=>{this.ripple&&(this.hoverCount--,this.onHoverElement(e,-.01))},this.onHoverElement=(e,t)=>{if(!this.ripple)return;this.ripple.interactive=this.hoverCount<=0;let o=e.getBoundingClientRect();this.ripple.dropQuad(o.x,o.y,o.width,o.height,t)},this.onResize=()=>{this.canvas&&(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight)}}}class z extends o.ClassComponent{render(){let{pages:e,selectedPageId:t}=this.props;return/*#__PURE__*/(0,o.vdom)("nav",{class:"mobile-bottom-navbar"},/*#__PURE__*/(0,o.vdom)("div",{class:"mobile-bottom-navbar__page-buttons"},e.map(e=>/*#__PURE__*/(0,o.vdom)(y,{active:e.id===t,page:e,onClick:this.onClickPage}))))}constructor(...e){super(...e),this.onClickPage=e=>{this.props.onPageChange(e)}}}class V extends o.ClassComponent{render(){let{darkTheme:e,ripplesEnabled:t}=this.props;return/*#__PURE__*/(0,o.vdom)("div",{class:"mobile-top-navbar"},/*#__PURE__*/(0,o.vdom)("h1",null,"Alan Lawrey"),/*#__PURE__*/(0,o.vdom)(w,{darkTheme:e,ripplesEnabled:t}))}}let X=null,G=null;const H=e=>{let{pages:t,posts:i,selectedPageId:s,darkTheme:r,isMobile:n,ripplesEnabled:a,backgrounds:l}=e.state;return void 0==X&&"undefined"!=typeof window&&(X=document.querySelector(".app__post-container"),G=document.body.parentElement),/*#__PURE__*/(0,o.vdom)("div",{class:"app-wrapper"},/*#__PURE__*/(0,o.vdom)(f,null),/*#__PURE__*/(0,o.vdom)("main",{class:"app"},!n&&/*#__PURE__*/(0,o.vdom)(x,{selectedPageId:s,pages:t,onPageChange:W,darkTheme:r,ripplesEnabled:a}),n&&/*#__PURE__*/(0,o.vdom)(V,{darkTheme:r,ripplesEnabled:a}),/*#__PURE__*/(0,o.vdom)("div",{class:"container app__post-container"},/*#__PURE__*/(0,o.vdom)(N,{key:s,category:t.find(e=>e.id===s),posts:i[s]})),n&&/*#__PURE__*/(0,o.vdom)(z,{selectedPageId:s,pages:t,onPageChange:W})),a&&/*#__PURE__*/(0,o.vdom)(j,{darkTheme:r,backgrounds:l,scrollElement:n?X:G}))};function W(t){let o={pageId:t.id};window.history.pushState(o,t.title,`/${t.id}`),e.execute(d(t.id))}var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.EmptyModifier=void 0,K.EmptyModifier=()=>null,K.default=class{constructor(e){this.subscriptions=[],this.state=()=>this.currentState,this.currentState=e}execute(e,t=!0){let o=e(this.currentState);null!=o&&o!==this.currentState&&(this.currentState=Object.assign({},this.currentState,o),this.triggerSubscriptions(e,t))}subscribe(e,t,o,i){let s=e(this.currentState),r={selector:new $(e,s,o,i),subscription:t};return this.subscriptions.push(r),()=>{let e=this.subscriptions.indexOf(r);e>=0&&this.subscriptions.splice(e,1)}}subscribeAny(e,t){return this.subscribe(e=>e,e,void 0,t)}unsubscribeAll(){this.subscriptions=[]}triggerSubscriptions(e,t){for(let o of this.subscriptions){let i=o.selector.getValue(this.currentState);o.selector.checkIfChanged(i)&&o.subscription(this.currentState,i,e,t)}}};class ${constructor(e,t,o,i){this.getValue=e=>this.selector(e),this.selector=e,this.prevValue=t,this.comparer=o,this.name=i}checkIfChanged(e){let t=!1;return t=void 0!==this.comparer?!this.comparer(this.prevValue,e):e!==this.prevValue,this.prevValue=e,t}}e=new/*@__PURE__*/(t(K))({pages:[{id:"about",title:"About Me",defaultPage:!0},{id:"work",title:"Work"},{id:"projects",title:"Projects"}],posts:function(e){let t={};for(let o of e)(t[o.pageId]||(t[o.pageId]=[])).push(o);return t}([{pageId:"about",contents:[{text:["Software developer from Melbourne Australia.","I've previously worked at [link](migenius | https://www.migenius.com/), [link](Rome2rio | https://rome2rio.com) and [link](Metro Trains Melbourne | https://metrotrains.com.au).","You can contact me via [link](email | mailto:alan.lawrey@gmail.com) or find me on [link](Twitter | https://twitter.com/Alan_Lawrey), [link](LinkedIn | https://www.linkedin.com/in/alan-lawrey-b7509b21/) or [link](reddit | https://www.reddit.com/user/astrellon3/).","These are the things I enjoy working on:","* Making websites, working on both the frontend and backend.","* Creating tooling for processing data, both the processes and the UI for controlling those processes.","* Mentoring in software development.","* Creating small games. [link](I have a small itch.io page. | https://astrellon.itch.io/)","* Artwork [link](Instagram | https://www.instagram.com/astrellon_art/), [link](Redbubble | https://astrellon.redbubble.com), [link](TeePublic | https://teepublic.com/user/astrellonart) and [link](Society6 | https://society6.com/astrellon_art)."],pictures:[{url:"/assets/alanlawrey2021.jpg",caption:"Me at the beach."}]},{text:["I also like learning about how things are done.","As part of that I've re-created several systems for learning purposes.","This website is an example of that, it is built using my own state management ([link](simple-data-store | https://www.npmjs.com/package/simple-data-store)), virtual dom ([link](simple-tsx-vdom | https://www.npmjs.com/package/simple-tsx-vdom)) with server side rendering and hydration.","The source for [link](this data driven website | https://github.com/astrellon/simple-portfolio) along with the [link](data repo | https://github.com/astrellon/simple-portfolio-data).","The background ripples effect is ported from sirxemic's [link](jQuery Ripples Plugin | https://github.com/sirxemic/jquery.ripples/)."]}]},{pageId:"projects",contents:[{text:["[h3](Lysithea)","A scripting language designed to live inside other systems to glue them together","Main features:","* Lisp style syntax.","* Builtin support for booleans, doubles, strings, lists and key-value-pair objects.","* Conditionals as expressions, use an if or switch statement like a function.","* Virtual machine is very light weight and allows for using many at the same time.","* Script execution can be controlled by the host environment, limit how many code lines can execute at a time.","* Simple code, easy to port to new host systems.","* Ported to C#, C++ and TypeScript. Examples written for Unity.","* Reasonably good performance, compared to other NLua or MoonSharp for C#."],links:[{url:"https://www.npmjs.com/package/lysithea-vm",icon:"npm",title:"NPM Page"},{url:"https://github.com/astrellon/lysithea-vm",icon:"github",title:"Github Repository"},{url:"https://www.youtube.com/watch?v=xeuKEHhp0jc",icon:"youtube",title:"Devlog"}],pictures:[{url:"/assets/lysitheaCode.png",caption:"Example of code in Lysithea",fullSizeUrl:"/assets/lysitheaCode.png"}],picturePosition:"right"},{text:["[h3](Tailspin)","A space game about going on an adventure and exploring space with some smart animal companions.","Main features:","* Flying your own spaceship from the cockpit.","* Walk around the interior of your spaceship and interact with different components.","* Fly around large spaces, past stars, black holes, into nebulae, land on planets and dock with space stations.","* Dock a smaller ship in your larger ship for different away missions.","* Explore space to find old shipwrecks to find salvageable parts.","* Find asteroids to mine for resources that can be used for crafting new parts.","* Be self-sufficient in deep space by looking after your ship.","* Made in Unity 2020","Some of these features are still being worked on, however I am keeping a devlog on YouTube.","It's very ambitious and who knows how far I'll get, but I've already gotten a lot further than I thought I would.","Currently I'm not planning on releasing the source code as it also contains paid for Unity assets."],links:[{url:"https://www.youtube.com/playlist?list=PLTf8ZRLo3EcNqP13W1UTFdxuNUngYzYCV",icon:"youtube",title:"Devlog Playlist"}],pictures:[{url:"/assets/tailspinStarPlanetThumbnail.jpg",caption:"A scene showing a nearby planet and the star at the center of the system.",fullSizeUrl:"/assets/tailspinStarPlanet.jpg"},{url:"/assets/tailspinTractorBeamsThumbnail.jpg",caption:"A ship using it's tractor beams to pull in some rocks that have just been mined from an asteroid.",fullSizeUrl:"/assets/tailspinTractorBeams.jpg"},{url:"/assets/tailspinEquipmentThumbnail.jpg",caption:"An example of a ship engine sitting outside of it's hardpoint before it's installed into the ship.",fullSizeUrl:"/assets/tailspinEquipment.jpg"}],picturePosition:"left"},{text:["[h3](Simple Virtual DOM)","I made my own virtual DOM (simple-tsx-vdom) inspired by [link](React | https://reactjs.org/) and [link](Preact | https://preactjs.com/).","It was created for learning but I wanted to take it to the point where I could build something non-trivial with it so this portfolio is the biggest example of it right now.","You can find the source for this portfolio page on [link](GitHub | https://github.com/astrellon/simple-portfolio).","Main features:","* Small filesize (about 2.5kb after compression) written with no dependencies.","* Written in fairly straight forward TypeScript that is all class based and can be extended.","* TSX support (hence the name, also simple-vdom was taken).","* Optional server-side rendering and client side hydration with the help of two extra packages.","* A simple diffing algorithm to reduce DOM manipulations.","* SVG support","* Supports both class and functional components.","* Supports custom handling of removed elements. For example if an element is removed from the vdom you can control how it's removed from the DOM, such as via animation before it's completely removed.","While I have created this website it in it is definitely [strong](NOT) intended for production use!"],links:[{url:"https://www.npmjs.com/package/simple-tsx-vdom",icon:"npm",title:"NPM Page"},{url:"https://github.com/astrellon/simple-tsx-vdom",icon:"github",title:"Github Repository"}],pictures:[{url:"/assets/simpleTsxVdom.jpg",caption:"A code snippet from this website."}]},{text:["[h3](Simple Data Store)","I like what [link](redux | https://redux.js.org/) and other functional state management libraries have done for UI but I found them too unstructured and too generalised. So I put together my own version that is still general but puts just enough structure to fulfil my needs.","Unlike simple-tsx-vdom I have used simple-data-store in production to good effect, even without the extra features of browser devtools.","Main features:","* Small filesize (about 0.5kb after compression) written with no dependencies.","* Immutable data structures.","* Selector support, similar to reselect for redux."],links:[{url:"https://www.npmjs.com/package/simple-data-store",icon:"npm",title:"NPM Page"},{url:"https://github.com/astrellon/simple-data-store",icon:"github",title:"Github Repository"}],pictures:[{url:"/assets/simpleDataStore.jpg",caption:"An example of a really simple counter store."}],picturePosition:"left"},{text:["[h3](Space Doggo)","A space adventure/exploration game that I've been working on for a while now.","The main goal is to explore space and to find things. The scope is deliberately small so that [strong](hopefully) I'll finish it one day.","Main features:","* Features flying ships, floating around inside ships, teleporting to planets and walking around on planets.","* Uses 'space portals' to view other star systems and seamlessly move between locations without loading screens.","* A compendium of animals and things to fill up that makes use 'live photos' that takes a copy of each object in view so that they can be animated later on.","* Written in C++ using [link](SFML | https://www.sfml-dev.org/) for cross platform support.","* Makes use of [link](Box2D | https://box2d.org/) for physics, and [link](earcut | https://github.com/mapbox/earcut.hpp) for creating polygons for collisions.","* Tile based planets that use [link](tmxlite | https://github.com/fallahn/tmxlite) for loading [link](Tiled | https://www.mapeditor.org/) maps.","* Uses [link](yoga | https://yogalayout.com/) for UI layout and [link](Dear ImGui | https://github.com/ocornut/imgui) for debug UI.","* All data is stored in plain JSON and loaded using [link](nlohmann JSON | https://github.com/nlohmann/json) for parsing.","I've also been keeping a dev log about my progress and uploading them to YouTube."],links:[{url:"https://github.com/astrellon/simple-space",icon:"github",title:"Github Repository"},{url:"https://www.youtube.com/playlist?list=PLTf8ZRLo3EcP7A2US2CpGMTsEW_Kzezx8",icon:"youtube",title:"Devlog Playlist"}],pictures:[{url:"/assets/spaceDoggoShipInteriorThumbnail.jpg",caption:"The inside of a ship that you can pilot along with the dog player.",fullSizeUrl:"/assets/spaceDoggoShipInterior.png"},{url:"/assets/spaceDoggoPortalThumbnail.jpg",caption:"A spaceship near a portal showing what is visible on the other side.",fullSizeUrl:"/assets/spaceDoggoPortal.png"},{url:"/assets/spaceDoggoPlanetSurfaceThumbnail.jpg",caption:"A planet surface with some local birds eating their food next to a nest.",fullSizeUrl:"/assets/spaceDoggoPlanetSurface.png"}],picturePosition:"right"},{text:["[h3](LOSS: Lua Operating SyStem)","A project to create an operating system that's built around using Lua with the intention of being light weight.","The main use case was for a game where you may want many simple in-game operating systems that look like a *NIX shell but without actually running a VM.","Main features:","* A modified version of the Lua VM that supports running multiple Lua States in the same thread using Boost Coroutines","* A virtual file system the supports mounting different types of file systems.","* A [link](tmpfs | https://en.wikipedia.org/wiki/Tmpfs) for virtual files (such as /dev and /proc)","* A persistent file system for long term storage.","* A [link](Fuse | https://en.wikipedia.org/wiki/Filesystem_in_Userspace) implementation that allows for mounting the persistent hard drives and modifying them outside of the VM."],links:[{url:"https://github.com/astrellon/loss",icon:"github",title:"Github Repository"}],pictures:[{url:"/assets/loss.png",caption:"An example of starting the VM with an init.d file that just prints some text.",fullSizeUrl:"/assets/loss.png"}],picturePosition:"left"},{text:["[h3](LOSS v0)","An earlier attempt at creating an OS for use in a game, specifically for a space game. This was a relatively naive approach that used NLua which is a C# implementation of Lua for use in Unity.","Main features:","* Basic shell for running Lua.","* A simple [link](VT100 | https://en.wikipedia.org/wiki/VT100) terminal emulator that used built in Unity components for text rendering.","* A very simple file system, however it did not support mounting."],links:[{url:"https://github.com/astrellon/ScalingOctoDubstep",icon:"github",title:"Github Repository"}],pictures:[{url:"/assets/scalingOctoDubstep_small.jpg",caption:"A screenshot of the UI in Unity.",fullSizeUrl:"/assets/scalingOctoDubstep.png"}],picturePosition:"right"},{text:["[h3](Unity Voxel Engine)","A [strong](small) voxel engine aim at being able to create and edit levels entirely within Unity. It performed well enough for the scale of the levels I wanted to created, however getting the editor tools to behave the way I wanted proved to be the most tricky aspect","Original intended to be in the style of [link](Might and Magic | https://en.wikipedia.org/wiki/Might_and_Magic) series which is why the original repository is called 'mm'","Main features:","* Chunked editing and loading. Maps are stored as individual binary files which is optimised for updating chunks during editing.","* Multiple different shapes beyond a cube such as ramps and different corners to allow for smoother terrain.","* Unity editing support for creating levels without needing additional tools."],links:[{url:"https://github.com/astrellon/mm",icon:"github",title:"Github Repository"}],pictures:[{url:"/assets/mmVoxels_small.png",caption:"A screenshot of the Voxel Engine UI in Unity.",fullSizeUrl:"/assets/mmVoxels.png"}],picturePosition:"left"},{text:["[h3](RPG Game)","A topdown 2D RPG game engine written in C++ built using minimal dependencies for the purpose of learning.","This is a fairly old project now, but it does represent a lot of learning in terms of C++, integrating a scripting language, handling modding, dealing with complex UI and handling an audio system.","Main features:","* Tile based 2D graphics with a tile overlapping system for blending between tiles.","* Sound system that supports streaming OGG and WAV files.","* Lua Bindings for controlling just about every aspect of the game. From how a new game is created and loaded to how a door should behave when interacted with.","* Maps are created through Lua and has a mechanism for determining if the map is being played new or loaded from disk, allowing for map scripts to upgrade old save files.","* A dialogue system based on The Elder Scrolls: Morrowind with topics, keywords and actions bound to those keywords.","* HTML documentation taken from the C++ comments using a Python script.","* In game text uses a simplistic CSS and HTML system for rich text.","* An in game map editor for creating new levels."],links:[{url:"https://github.com/astrellon/rouge",icon:"github",title:"Github Repository"}],pictures:[{url:"/assets/rouge.png",caption:"A screenshot of the RPG game",fullSizeUrl:"/assets/rouge.png"},{url:"/assets/rougeMapEditor.png",caption:"A screenshot of the in game map editor",fullSizeUrl:"/assets/rougeMapEditor.png"}],picturePosition:"right"}]},{pageId:"work",contents:[{text:["[post-header](Three Divers | JAN 2020 - PRESENT)","Working on a freight multi-modal routing application for finding how to get cargo from A to B.","Currently not released to the public so can't go into details too much.","My work included:","* A content server for processing data from multiple data sources into a unified structure that can then be manipulated further manually.","* A main server for using the processed data for routing and cataloging relationships between the data.","* A frontend for manipulating the data on in the content server.","* Hosted on AWS using EC2, load balancers, RDS and S3."],pictures:[{url:"/assets/threeDiversMockThumbnail.jpg",caption:"A basic graphic of routing across different modes.",fullSizeUrl:"/assets/threeDiversMock.jpg"}],picturePosition:"left"}]},{pageId:"work",contents:[{text:["[post-header](Metro Trains Melbourne | SEP 2018 - NOV 2020)","Metro Trains Melbourne needed a tool for monitoring real time voltages and currents for testing their new trains.","This work combined hardware installed in the field (created by my co-worker) and a server with a front end (created by me)","The hardware was made up of an industrial PC with a USB oscilloscope and 4G modem","My work included:","* Creating a backend in .Net Core that received the data.","* Creating the frontend for use on a PC or mobile, built using Typescript and React.","* Handling displaying live data of up to 120k samples on a mobile device.","* Storing, retrieving and processes all the data, which ranged between 40k samples per second to 120k samples per second.","* Utilising various Amazon Web Services such as EC2 to host the server, RDS to host the database for users and config, S3 for long term storage of raw data and SQS as a backup connection should the server go down."],pictures:[{url:"/assets/mtmGraphs_small.jpg",caption:"An example of live data from field units being displayed on a web UI."},{url:"/assets/mtmDataLookup_small.jpg",caption:"An example of the data lookup UI for retrieving old data."},{url:"/assets/mtmDataLookup2_small.jpg",caption:"An example of old data that has been looked up."}]}]},{pageId:"work",contents:[{text:["[post-header](Rome2rio | OCT 2014 - JUL 2018)","Rome2rio is a travel search website used for finding and comparing different routes from anywhere in the world. It specialised in ground transport.","I focused on adding timetables, buying tickets and working on internal tools for updating and creating routes live.","My work included:","* Adding schedule information and the ability to buy tickets directly through Rome2rio for UK trains.","* Internal tools for modifying their data through a web UI (not pictured).","* Expanding upon and improved the infrastructure of their tooling.","* For two years I mentored someone which resulted in them being able to shift from a non-dev role into a junior software dev."],pictures:[{url:"/assets/rome2rioTickets_small.png",caption:"An example of buying a train ticket in the UK directly with Rome2rio."},{url:"/assets/rome2rioSchedules.png",caption:"An example of a train timetable in Melbourne."}],picturePosition:"left"}]},{pageId:"work",contents:[{text:["[post-header](miGenius and mental images | JAN 2008 - OCT - 2014)","mental images are a company that specialises in photographic rendering using ray and path tracing software.","After 3 years the Melbourne office split off to form the company migenius which continued to do the same work and allowed for working on stand alone products.","Bloom Unit was their first product and combined the ease of using SketchUp's 3d editing with real time photographic images.","My work included:","* The interface between SketchUp (ruby) and Bloom Unit (C++) for keeping the 3d scene in sync.","* The UI (Internet Explorer 6) for adjusting the render settings and configuring the materials.","We also worked on other projects for various clients:","* Integrating Bloom Unit into Autodesk Revit for Oldcastle.","* Web visualisation projects for Obayashi Corporation and Shimizu Corporation.","* A product visualiser for Takemoto products. [link](Bottle 3d Visualiser | http://www3d1.takemotokk.co.jp/takemoto/?lang=en)","* A product visualiser for Christ Jewellery. [link](Ring Configurator | https://www.christ.de/)"],pictures:[{url:"/assets/bloomunit_small.jpg",caption:"A screenshot of SketchUp with Bloom Unit running."},{url:"/assets/takemoto_small.jpg",caption:"A screenshot of Takemoto's 3d Visualizer being used."},{url:"/assets/christRingConfigurator_small.jpg",caption:"A screenshot of Christ Ring Configurator being used."}]}]}]),backgrounds:{dark:[],light:[]},selectedPageId:"",darkTheme:!1,postsHeight:0,isMobile:!1,ripplesEnabled:!0}),globalThis.__store=e;const q=globalThis.__state;function Y(e){document.body.classList.toggle("dark-theme",e.darkTheme),(0,o.render)(/*#__PURE__*/(0,o.vdom)(H,{state:e}),document.body)}void 0!=q&&e.execute(()=>q),Y(e.state()),e.subscribeAny(e=>{Y(e)}),e.subscribe(e=>e.darkTheme,(e,t)=>{document.cookie=`darkTheme=${t}`}),e.subscribe(e=>e.ripplesEnabled,(e,t)=>{document.cookie=`ripplesEnabled=${t}`}),window.addEventListener("resize",()=>{let t=document.body.offsetWidth<=480;e.state().isMobile!==t&&e.execute(()=>({isMobile:t}))}),window.addEventListener("popstate",t=>{console.log(t);let o=t.state;o.pageId&&e.execute(d(o.pageId))});
//# sourceMappingURL=index.bdebe138.js.map
