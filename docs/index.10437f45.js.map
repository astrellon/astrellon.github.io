{"mappings":"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G,CACC,IAAO,yCACP,QAAW,qGACX,YAAe,+BACnB,EAAE,CACF,gBAAmB,MACvB,EACA,CACI,KAAQ,CACJ,2BACA,2IACA,+KACA,qHACA,iBACA,iFACA,+FACA,8DACA,kGACA,4DACA,gBACA,mDACA,0MACA,sGACH,CACD,MAAS,CAAC,CACN,IAAO,gDACP,KAAQ,MACR,MAAS,UACb,EAAG,CACC,IAAO,+CACP,KAAQ,SACR,MAAS,mBACb,EAAE,CACF,SAAY,CAAC,CACT,IAAO,4BACP,QAAW,mCACf,EAAE,AACN,EACA,CACI,KAAQ,CACJ,0BACA,sRACA,0IACA,iBACA,iFACA,+BACA,qDACH,CACD,MAAS,CAAC,CACN,IAAO,kDACP,KAAQ,MACR,MAAS,UACb,EAAG,CACC,IAAO,iDACP,KAAQ,SACR,MAAS,mBACb,EAAE,CACF,SAAY,CAAC,CACT,IAAO,8BACP,QAAW,8CACf,EAAE,CACF,gBAAmB,MACvB,EACA,CACI,KAAQ,CACJ,oBACA,gFACA,4IACA,iBACA,+GACA,mHACA,+JACA,8FACA,iKACA,kJACA,sIACA,4HACA,oFACH,CACD,MAAS,CAAC,CACN,IAAO,4CACP,KAAQ,SACR,MAAS,mBACb,EACA,CACI,IAAO,2EACP,KAAQ,UACR,MAAS,iBACb,EAAE,CACF,SAAY,CAAC,CACT,IAAO,8CACP,QAAW,qEACX,YAAe,oCACnB,EACA,CACI,IAAO,wCACP,QAAW,uEACX,YAAe,8BACnB,EACA,CACI,IAAO,+CACP,QAAW,2EACX,YAAe,qCACnB,EAAE,CACF,gBAAmB,OACvB,EACA,CACI,KAAQ,CACJ,mCACA,kHACA,2JACA,iBACA,yHACA,iFACA,qGACA,oDACA,oLACH,CACD,MAAS,CAAC,CACN,IAAO,oCACP,KAAQ,SACR,MAAS,mBACb,EAAE,CACF,SAAY,CAAC,CACT,IAAO,mBACP,QAAW,gFACX,YAAe,kBACnB,EAAE,CACF,gBAAmB,MACvB,EACA,CACI,KAAQ,CACJ,gBACA,mMACA,iBACA,iCACA,2IACA,oEACH,CACD,MAAS,CAAC,CACN,IAAO,kDACP,KAAQ,SACR,MAAS,mBACb,EAAE,CACF,SAAY,CAAC,CACT,IAAO,uCACP,QAAW,mCACX,YAAe,gCACnB,EAAE,CACF,gBAAmB,OACvB,EACA,CACI,KAAQ,CACJ,2BACA,8QACA,6KACA,iBACA,mIACA,+GACA,gFACH,CACD,MAAS,CAAC,CACN,IAAO,kCACP,KAAQ,SACR,MAAS,mBACb,EAAE,CACF,SAAY,CAAC,CACT,IAAO,6BACP,QAAW,gDACX,YAAe,sBACnB,EAAE,CACF,gBAAmB,MACvB,EACA,CACI,KAAQ,CACJ,iBACA,4GACA,uMACA,iBACA,sFACA,4DACA,kKACA,6KACA,uHACA,0EACA,sEACA,mDACH,CACD,MAAS,CAAC,CACN,IAAO,qCACP,KAAQ,SACR,MAAS,mBACb,EAAE,CACF,SAAY,CAAC,CACT,IAAO,oBACP,QAAW,+BACX,YAAe,mBACnB,EACA,CACI,IAAO,6BACP,QAAW,yCACX,YAAe,4BACnB,EAAE,CACF,gBAAmB,OACvB,EACH,AACL,ECjRA,CACI,OAAU,OACV,SAAY,CACR,CACI,KAAQ,CACJ,mDACA,iGACA,0EACA,oBACA,4IACA,0GACA,mEACA,yDACH,CACD,SAAY,CAAC,CACT,IAAO,uCACP,QAAW,qDACX,YAAe,6BACnB,EAAE,CACF,gBAAmB,MACvB,EACA,CACI,KAAQ,CACJ,8DACA,oHACA,6HACA,oFACA,oBACA,4DACA,uFACA,4EACA,4HACA,wNACH,CACD,SAAY,CAAC,CACT,IAAO,8BACP,QAAW,uEACf,EACA,CACI,IAAO,kCACP,QAAW,2DACf,EACA,CACI,IAAO,mCACP,QAAW,iDACf,EAAE,AACN,EACA,CACI,KAAQ,CACJ,gDACA,sJACA,sHACA,oBACA,wGACA,6EACA,qEACA,gIACH,CACD,SAAY,CAAC,CACT,IAAO,oCACP,QAAW,uEACf,EACA,CACI,IAAO,gCACP,QAAW,+CACf,EAAE,CACF,gBAAmB,MACvB,EACA,CACI,KAAQ,CACJ,oEACA,8GACA,iKACA,8HACA,oBACA,iGACA,kGACA,wDACA,8DACA,iFACA,gIACA,kGACH,CACD,SAAY,CAAC,CACT,IAAO,8BACP,QAAW,mDAAmD,EAClE,CACI,IAAO,6BACP,QAAW,sDACf,EACA,CACI,IAAO,2CACP,QAAW,sDACf,EAAE,AACN,EACH,AACL,ELhF6C,EAc7C,YAAa,CACT,KAAM,EAAE,CACR,MAAO,EAAE,AACb,EACA,eAAgB,EAChB,UAAW,CAAA,EACX,YAAa,EACb,SAAU,CAAA,EACV,eAAgB,CAAA,CACpB,GO1CO,MAAM,EAAkB,yjHAClB,EAAiB,6mEACjB,EAAqB,OAAS,EAAkB,IAChD,EAAoB,OAAS,EAAiB,GAI3D,OAAM,EAMK,SAAS,CAAsB,CACtC,CACQ,IAAI,CAAC,MAAM,CAEX,EAAS,IAAI,CAAC,KAAK,EAInB,IAAI,CAAC,QAAQ,CAAG,CAExB,CAEO,KAAK,CAAW,CACvB,CAcI,OAbA,IAAI,CAAC,KAAK,CAAC,MAAM,CAAG,KAEhB,IAAI,CAAC,MAAM,CAAG,CAAA,EACV,IAAI,CAAC,QAAQ,EAEb,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAEhC,EACA,IAAI,CAAC,KAAK,CAAC,OAAO,CAAG,AAAC,IAElB,QAAQ,KAAK,CAAC,uBAAwB,EAAK,EAC/C,EACA,IAAI,CAAC,KAAK,CAAC,GAAG,CAAG,EACV,IAAI,AACf,C,a,CAhCgB,IAAA,CAAA,KAAA,CAAQ,IAAI,MACrB,IAAA,CAAA,MAAA,CAAkB,CAAA,C,CAgC7B,CAEoC,IAAI,IAAgB,IAAI,CAAC,GAC1B,IAAI,IAAgB,IAAI,CAAC,EE3C5D,OAAM,EACJ,OAAc,cACZ,CAAsB,CACtB,CAAkB,CACR,KACN,EACA,EACJ,GAAM,EAAa,MAAM,CAAG,EAGrB,CACL,IAAM,EAAc,KAAK,KAAK,CAAC,KAAK,MAAM,GAAK,EAAa,MAAM,EAC5D,EAAQ,CAAY,CAAC,EAAY,CACjC,EAAW,EAAM,QAAQ,CAAC,GAChC,EAAM,EAAS,CAAC,CAChB,EAAa,EAAS,CAAC,AACzB,MARE,EAAM,KAAK,MAAM,GACjB,EAAa,EASf,IAAM,EAAI,EAAM,QAAQ,CAAC,EAAK,EAAY,GAI1C,OAHA,EAAE,CAAC,EAAI,IACP,EAAE,CAAC,EAAI,IACP,EAAE,CAAC,EAAI,IACA,CACT,CAEA,OAAc,SAAS,CAAW,CAAY,CAG5C,IAAM,EAAI,SAAS,AAFnB,CAAA,EAAM,EAAI,OAAO,CAAC,IAAK,GAAvB,EAEuB,SAAS,CAAC,EAAG,GAAI,IAAM,IACxC,EAAI,SAAS,EAAI,SAAS,CAAC,EAAG,GAAI,IAAM,IACxC,EAAI,SAAS,EAAI,SAAS,CAAC,EAAG,GAAI,IAAM,IAExC,EAAM,KAAK,GAAG,CAAC,EAAG,EAAG,GACrB,EAAM,KAAK,GAAG,CAAC,EAAG,EAAG,UAuBlB,CAAA,EAnBL,IAAQ,EACN,EACK,IAAQ,EACb,AAAE,CAAA,AAAA,CAAA,EAAI,CAAA,EAAM,CAAA,EAAM,CAAA,EAAO,CAAA,EAAK,EACzB,IAAQ,EACZ,AAAA,CAAA,EAAI,CAAA,EAAM,CAAA,EAAM,CAAA,EAAO,EAEvB,AAAA,CAAA,EAAI,CAAA,EAAM,CAAA,EAAM,CAAA,EAAO,GAEzB,EAUO,CAAA,CARR,AAAQ,IAAR,EACE,EAEA,AAAC,CAAA,EAAM,CAAA,EAAO,EAKL,EAFL,EAGZ,CAEA,OAAc,SAAS,CAAW,CAAY,CAO5C,MAAO,CAAE,EAJC,SAAS,AAFnB,CAAA,EAAM,EAAI,OAAO,CAAC,IAAK,GAAvB,EAEuB,SAAS,CAAC,EAAG,GAAI,IAI5B,EAHF,SAAS,EAAI,SAAS,CAAC,EAAG,GAAI,IAGzB,EAFL,SAAS,EAAI,SAAS,CAAC,EAAG,GAAI,GAEvB,CACnB,CAEA,OAAc,SAAS,CAAS,CAAE,CAAS,CAAE,CAAS,CAAY,CAChE,IAAI,EAAI,EACN,EAAI,EACJ,EAAI,EACA,EAAI,KAAK,KAAK,CAAC,AAAI,EAAJ,GACf,EAAI,AAAI,EAAJ,EAAQ,EACZ,EAAI,EAAK,CAAA,EAAI,CAAA,EACb,EAAI,EAAK,CAAA,EAAI,EAAI,CAAA,EACjB,EAAI,EAAK,CAAA,EAAK,AAAA,CAAA,EAAI,CAAA,EAAK,CAAA,EAE7B,OAAQ,EAAI,GACV,KAAK,EACF,EAAI,EAAK,EAAI,EAAK,EAAI,EACvB,KACF,MAAK,EACF,EAAI,EAAK,EAAI,EAAK,EAAI,EACvB,KACF,MAAK,EACF,EAAI,EAAK,EAAI,EAAK,EAAI,EACvB,KACF,MAAK,EACF,EAAI,EAAK,EAAI,EAAK,EAAI,EACvB,KACF,MAAK,EACF,EAAI,EAAK,EAAI,EAAK,EAAI,EACvB,KACF,MAAK,EACF,EAAI,EAAK,EAAI,EAAK,EAAI,CAE3B,CAEA,MAAO,CACL,EAAA,EACA,EAAA,EACA,EAAA,CACF,CACF,CAEA,OAAc,eAAe,CAAe,CAAY,CAMtD,MALe,CACb,EAAG,EAAM,CAAC,CAAG,IACb,EAAG,EAAM,CAAC,CAAG,IACb,EAAG,EAAM,CAAC,CAAG,GACf,CAEF,CACF,CErHA,QAcgB,EAAE,AEdlB,OAAM,EACJ,OAAc,YACZ,CAAqB,CACrB,CAA0B,CACY,CACtC,IAAM,EAAiD,CAAC,EAClD,EAAe,EAAG,mBAAmB,CACzC,EACA,EAAG,eAAe,EAEpB,IAAK,IAAI,EAAI,EAAG,EAAI,EAAc,IAAK,CACrC,IAAM,EAAc,EAAG,gBAAgB,CAAC,EAAS,GAAI,IAAI,AACzD,CAAA,CAAQ,CAAC,EAAY,CAAG,EAAG,kBAAkB,CAAC,EAAS,EACzD,CACA,OAAO,CACT,CAEA,OAAc,cACZ,CAAyB,CACzB,CAA2B,CAC3B,CAA0B,CACZ,CACd,IAAM,EAAU,EAAG,aAAa,GAQhC,OAPA,EAAG,YAAY,CAAC,EAAS,GACzB,EAAG,YAAY,CAAC,EAAS,GACzB,EAAG,WAAW,CAAC,GAEV,EAAG,mBAAmB,CAAC,EAAS,EAAG,WAAW,GACjD,QAAQ,KAAK,CAAC,EAAG,iBAAiB,CAAC,IAE9B,CACT,CAEA,OAAc,cACZ,CAA0B,CAC1B,CAAY,CACZ,CAAc,CACd,CAA0B,CACN,CACpB,EAAS,EAAO,WAAW,CAAC,EAAQ,GAEpC,IAAM,EAAS,EAAG,YAAY,CAAC,SAI/B,CAHA,EAAG,YAAY,CAAC,EAAQ,GACxB,EAAG,aAAa,CAAC,GAEZ,EAAG,kBAAkB,CAAC,EAAQ,EAAG,cAAc,GAK7C,GAJL,QAAQ,KAAK,CAAC,EAAG,gBAAgB,CAAC,IAC3B,KAIX,CAEA,OAAe,YACb,CAAc,CACd,CAA0B,CAClB,CACR,GAAI,AAAY,MAAZ,EAAkB,OAAO,EAC7B,IAAI,EAAiB,GAIrB,OAHA,EAAS,OAAO,CAAC,AAAC,IAChB,GAAkB,WAAa,EAAU,IAC3C,GACO,EAAiB,CAC1B,CACF,CD9DA,MAAM,EAOJ,YACE,CAAyB,CACzB,CAA4B,CAC5B,CAA0B,CAC1B,CACA,IAAI,CAAC,EAAE,CAAG,EACV,IAAI,CAAC,YAAY,CAAG,EACpB,IAAI,CAAC,oBAAoB,CAAG,EAC5B,IAAI,CAAC,QAAQ,CAAG,EAAE,CAClB,IAAI,CAAC,aAAa,CAAG,KACrB,IAAI,CAAC,QAAQ,CAAG,CAAC,CACnB,CAEO,YAAY,CAAkB,CAAE,CACrC,IAAI,EAAO,EACX,IAAK,IAAM,KAAW,EACpB,GAAQ,IAAI,CAAC,QAAQ,CAAC,GAGxB,IAAI,EAAU,IAAI,CAAC,QAAQ,CAAC,EAAK,CACjC,GAAI,AAAW,MAAX,EAAiB,CACnB,IAAM,EAAiB,AAAA,EAAO,aAAa,CACzC,IAAI,CAAC,EAAE,CACP,IAAI,CAAC,EAAE,CAAC,eAAe,CACvB,IAAI,CAAC,oBAAoB,CACzB,GAEF,EAAU,AAAA,EAAO,aAAa,CAC5B,IAAI,CAAC,YAAY,CACjB,EACA,IAAI,CAAC,EAAE,EAET,IAAI,CAAC,QAAQ,CAAC,EAAK,CAAG,CACxB,CAEI,GAAW,IAAI,CAAC,aAAa,GAEjC,IAAI,CAAC,QAAQ,CAAG,AAAA,EAAO,WAAW,CAAC,EAAS,IAAI,CAAC,EAAE,EACnD,IAAI,CAAC,aAAa,CAAG,EACvB,CAEQ,SAAS,CAAS,CAAU,CAClC,GAAI,AAAa,IAAb,EAAE,MAAM,CAAQ,OAAO,EAC3B,IAAI,EAAO,EACX,IAAK,IAAI,EAAI,EAAG,EAAI,EAAE,MAAM,CAAE,IAE5B,EADQ,CAAA,GAAQ,CAAA,EAAK,EAAO,EAAE,UAAU,CAAC,GACjC,EAEV,OAAO,CACT,CAEO,MAAO,CACZ,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CACvC,CACF,CE7DA,MAAM,EAYJ,YAAY,CAAsB,CAAE,CAAkB,CAAE,CAXjD,IAAA,CAAA,EAAA,CAAK,GACL,IAAA,CAAA,SAAA,CAAY,EACZ,IAAA,CAAA,SAAA,CAAY,EACZ,IAAA,CAAA,aAAA,CAAgB,EAChB,IAAA,CAAA,aAAA,CAAgB,EAChB,IAAA,CAAA,MAAA,CAAS,EACT,IAAA,CAAA,MAAA,CAAS,EACT,IAAA,CAAA,IAAA,CAAO,CAAA,EACP,IAAA,CAAA,KAAA,CAAQ,CAAA,EAIb,IAAI,CAAC,KAAK,CAAG,AAAA,EAAM,aAAa,CAAC,EAAc,EACjD,CAEO,sBACL,CAAU,CACV,CAAY,CACZ,CAAY,CACZ,CAAyB,CACzB,CAAsB,CACtB,CAAkB,CAClB,CACA,IAAI,CAAC,EAAE,CAAG,EACV,IAAI,CAAC,IAAI,CAAG,CAAA,EACZ,IAAI,CAAC,KAAK,CAAG,CAAA,EACb,IAAI,CAAC,SAAS,CAAG,EAAO,EAAO,KAAK,CACpC,IAAI,CAAC,SAAS,CAAG,EAAM,EAAO,EAAO,MAAM,CAC3C,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,SAAS,CACnC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,SAAS,CACnC,IAAI,CAAC,MAAM,CAAG,EACd,IAAI,CAAC,MAAM,CAAG,EACd,IAAI,CAAC,KAAK,CAAG,AAAA,EAAM,aAAa,CAAC,EAAc,EACjD,CAEO,sBACL,CAAY,CACZ,CAAY,CACZ,CAAyB,CACzB,CAAc,CACd,CACA,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,SAAS,CACnC,IAAI,CAAC,aAAa,CAAG,IAAI,CAAC,SAAS,CACnC,IAAI,CAAC,SAAS,CAAG,EAAO,EAAO,KAAK,CACpC,IAAI,CAAC,SAAS,CAAG,EAAM,EAAO,EAAO,MAAM,CAC3C,IAAI,CAAC,MAAM,CAAG,IAAI,CAAC,aAAa,CAC9B,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,aAAa,CACnC,GAEF,IAAI,CAAC,MAAM,CAAG,IAAI,CAAC,aAAa,CAC9B,IAAI,CAAC,SAAS,CAAG,IAAI,CAAC,aAAa,CACnC,GAEE,EACF,IAAI,CAAC,KAAK,CAAG,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,EAAI,GAAK,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,EAAI,EAElE,IAAI,CAAC,KAAK,CAAG,IAAI,CAAC,IAAI,AAE1B,CAEO,qBAAsB,CAC3B,IAAI,CAAC,IAAI,CAAG,CAAA,CACd,CAEQ,cAAc,CAAa,CAAE,CAAyB,CAAU,CACtE,IAAM,EAAc,EAAO,KAAK,CAAG,EAAO,MAAM,CAEhD,OADI,EAAc,GAAG,CAAA,GAAS,CAA9B,EACO,CACT,CAEQ,cAAc,CAAa,CAAE,CAAyB,CAAU,CACtE,IAAM,EAAc,EAAO,KAAK,CAAG,EAAO,MAAM,CAEhD,OADI,EAAc,GAAG,CAAA,GAAS,CAA9B,EACO,CACT,CACF,CE5EA,MAAM,EAIJ,YACE,CAAyB,CACzB,CAA2B,CAC3B,CAA0B,CAC1B,CACA,IAAI,CAAC,EAAE,CAAG,EACV,IAAI,CAAC,QAAQ,CAAG,CAAC,EACjB,IAAI,CAAC,OAAO,CAAG,AAAA,EAAO,aAAa,CAAC,EAAc,EAAgB,GAClE,IAAI,CAAC,QAAQ,CAAG,AAAA,EAAO,WAAW,CAAC,IAAI,CAAC,OAAO,CAAE,EACnD,CAEO,MAAO,CACZ,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CACjC,CACF,CDjBA,MAAM,GAgBJ,YAAY,CAA0B,CAAE,CAAgB,CAAE,CACxD,IAAI,CAAC,WAAW,CAAG,IAAI,EACrB,EAAQ,gBAAgB,CACxB,EAAQ,UAAU,CAClB,GAGF,IAAI,CAAC,WAAW,CAAG,IAAI,EACrB,EAAQ,gBAAgB,CACxB,EAAQ,UAAU,CAClB,GAGF,IAAI,CAAC,YAAY,CAAG,IAAI,EACtB,EAAQ,gBAAgB,CACxB,EAAQ,WAAW,CACnB,GAGF,IAAI,CAAC,YAAY,CAAG,IAAI,EACtB,EAAQ,gBAAgB,CACxB,EAAQ,WAAW,CACnB,GAGF,IAAI,CAAC,qBAAqB,CAAG,IAAI,EAC/B,EAAQ,gBAAgB,CACxB,EAAQ,oBAAoB,CAC5B,GAGF,IAAI,CAAC,gBAAgB,CAAG,IAAI,EAC1B,EAAQ,gBAAgB,CACxB,EAAQ,eAAe,CACvB,GAGF,IAAI,CAAC,iBAAiB,CAAG,IAAI,EAC3B,EAAQ,gBAAgB,CACxB,EAAQ,gBAAgB,CACxB,GAGF,IAAI,CAAC,YAAY,CAAG,IAAI,EACtB,EAAQ,gBAAgB,CACxB,EAAQ,WAAW,CACnB,GAGF,IAAI,CAAC,gBAAgB,CAAG,IAAI,EAC1B,EAAQ,gBAAgB,CACxB,EAAQ,eAAe,CACvB,GAGF,IAAI,CAAC,iBAAiB,CAAG,IAAI,EAC3B,EAAQ,gBAAgB,CACxB,EAAQ,gBAAgB,CACxB,GAGF,IAAI,CAAC,WAAW,CAAG,IAAI,EACrB,EAAQ,gBAAgB,CACxB,EAAQ,UAAU,CAClB,GAGF,IAAI,CAAC,gBAAgB,CAAG,IAAI,EAC1B,EAAQ,gBAAgB,CACxB,EAAQ,eAAe,CACvB,GAGF,IAAI,CAAC,eAAe,CAAG,IAAI,EACzB,EAAQ,gBAAgB,CACxB,EAAQ,cAAc,CACtB,GAGF,IAAI,CAAC,sBAAsB,CAAG,IAAI,EAChC,EAAQ,gBAAgB,CACxB,EAAQ,sBAAsB,CAC9B,EAEJ,CACF,CErGA,MAAM,GAmBJ,YAAY,CAA0B,CAAE,CAAiB,CAAE,CACzD,IAAI,CAAC,mBAAmB,CAAG;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAmD3B,IAAA,CAAC,CAED,IAAI,CAAC,gBAAgB,CAAG,AAAA,EAAO,aAAa,CAC1C,EACA,EAAG,aAAa,CAChB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAmBN,CAAC,EAGG,IAAI,CAAC,gBAAgB,CAAG,AAAA,EAAO,aAAa,CAC1C,EACA,EAAG,aAAa,CAChB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAgBN,CAAC,EAGG,IAAI,CAAC,UAAU,CAAG,AAAA,EAAO,aAAa,CACpC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAeN,CAAC,EAGG,IAAI,CAAC,UAAU,CAAG,AAAA,EAAO,aAAa,CACpC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;AAUN,CAAC,EAGG,IAAI,CAAC,WAAW,CAAG,AAAA,EAAO,aAAa,CACrC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;AAWN,CAAC,EAGG,IAAI,CAAC,WAAW,CAAG,AAAA,EAAO,aAAa,CACrC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;AAQN,CAAC,EAGG,IAAI,CAAC,oBAAoB,CAAG,AAAA,EAAO,aAAa,CAC9C,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAiBN,CAAC,EAGG,IAAI,CAAC,eAAe,CAAG,AAAA,EAAO,aAAa,CACzC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAmBN,CAAC,EAGG,IAAI,CAAC,gBAAgB,CAAG,AAAA,EAAO,aAAa,CAC1C,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAoBN,CAAC,EAGG,IAAI,CAAC,WAAW,CAAG,AAAA,EAAO,aAAa,CACrC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAkBN,CAAC,EAGG,IAAI,CAAC,eAAe,CAAG,AAAA,EAAO,aAAa,CACzC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAoCD,KAAA,CAAC,CACA,EAAI,sBAAsB,CAAG,KAAO,CAAC,mBAAmB,EAG1D,IAAI,CAAC,gBAAgB,CAAG,AAAA,EAAO,aAAa,CAC1C,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AA0BN,CAAC,EAGG,IAAI,CAAC,UAAU,CAAG,AAAA,EAAO,aAAa,CACpC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AAmBN,CAAC,EAGG,IAAI,CAAC,eAAe,CAAG,AAAA,EAAO,aAAa,CACzC,EACA,EAAG,eAAe,CAClB;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;A;AA+BN,CAAC,EAGG,IAAI,CAAC,cAAc,CAAG,AAAA,EAAO,a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","sources":["<anon>","src/index.tsx","node_modules/simple-tsx-vdom/dist/index.js","node_modules/simple-tsx-vdom/src/index.ts","src/store.ts","src/components/app.tsx","src/components/navbar.tsx","src/components/navbar-menu.tsx","src/components/circle-button.tsx","src/components/icon.tsx","src/components/menu.tsx","src/components/navbar-page-button.tsx","src/components/posts.tsx","src/components/footer.tsx","src/components/post.tsx","src/components/post-paragraph.tsx","src/components/post-picture.tsx","src/components/signals.ts","node_modules/simple-signals/dist/index.js","node_modules/simple-signals/src/index.ts","src/components/post-link.tsx","src/components/formatted-text.tsx","src/components/mobile-bottom-navbar.tsx","src/components/mobile-top-navbar.tsx","src/client-store.ts","node_modules/simple-data-store/dist/index.js","node_modules/simple-data-store/src/index.ts","src/data/aboutme.ts","src/data/projects.ts","src/data/work.ts","src/data/pages.ts","src/backgrounds.ts","src/fluid/index.ts","src/fluid/color.ts","src/fluid/simulation.ts","src/fluid/config.ts","src/fluid/material.ts","src/fluid/shader.ts","src/fluid/pointer.ts","src/fluid/programs.ts","src/fluid/program.ts","src/fluid/shaders.ts","src/fluid/texture.ts"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $ac586b1394cc16ea$exports = {};\n\"use strict\";\n//// Types\nObject.defineProperty($ac586b1394cc16ea$exports, \"__esModule\", {\n    value: true\n});\n$ac586b1394cc16ea$exports.vdom = $ac586b1394cc16ea$exports.render = $ac586b1394cc16ea$exports.shallowEqual = $ac586b1394cc16ea$exports.isFunctionalNode = $ac586b1394cc16ea$exports.isTextNode = $ac586b1394cc16ea$exports.isClassNode = $ac586b1394cc16ea$exports.isIntrinsicNode = $ac586b1394cc16ea$exports.createComponentKey = $ac586b1394cc16ea$exports.createChildKey = $ac586b1394cc16ea$exports.VDom = $ac586b1394cc16ea$exports.ClassComponent = void 0;\nclass $ac586b1394cc16ea$var$ClassComponent {\n    constructor(){\n        this.props = {};\n        this.children = [];\n        this.vdom = undefined;\n        this.vdomKey = \"\";\n        this.prevRenderedResult = false;\n        this.unmounting = false;\n    }\n    onMount() {}\n    // Called when unmounting. Calling finishUnmount is required to actually unmount the dom element.\n    // Calling later allows for animating something away before actually removing it.\n    onUnmount(finishUnmount) {\n        finishUnmount();\n    }\n    hasChanged(newProps) {\n        return !$ac586b1394cc16ea$exports.shallowEqual(this.props, newProps);\n    }\n    internalRender(props, children) {\n        this.props = props;\n        this.children = children;\n        return this.render();\n    }\n    forceUpdate() {\n        if (!this.vdom) return;\n        const domNode = this.rootDomNode();\n        if (!domNode) return;\n        this.vdom.renderDom(domNode.parentElement, this.render(), this.vdomKey);\n    }\n    rootDomNode() {\n        if (!this.vdom) return null;\n        const vdomNode = this.vdom.vdomData[this.vdomKey];\n        if (vdomNode) return vdomNode.domNode;\n        return null;\n    }\n}\n$ac586b1394cc16ea$exports.ClassComponent = $ac586b1394cc16ea$var$ClassComponent;\n/**\n * VDom class represents a whole virtual DOM.\n *\n * A virtual DOM is an abstract and importantly light-weight representation of the DOM in the browser.\n * The purpose is to simplify manipulating real DOM elements by creating virtual DOM elements.\n *\n * The VDom is responsible for creating virtual elements from TSX syntax, keeping track of changes to the virtual DOM\n * and creating/manipulating DOM elements based on those changes.\n *\n * The virtual DOM is made up of virtual elements which are simple Javascript objects, for example a header with title would look like this\n *  {\n *      intrinsicType: \"h1\",\n *      props: {},\n *      children: [\n *          {\n *              text: \"Heading Text\"\n *          }\n *      ]\n *  }\n *\n * There are four kinds of virtual element types:\n * - Text: Plain text nodes, nearly all text in the DOM is done via a text node.\n * - Intrinsic: Built in supported node types, eg: h1, div, span, input, etc\n * - Functional: An element that is represented by a function where upon executing it, it will return a virtual element.\n * - Class: An element that is represented by a class instance which contains a render method which will return a virtual element.\n */ class $ac586b1394cc16ea$var$VDom {\n    // Create the VDom with the given document.\n    constructor(doc){\n        // Keeps track of all the virtual DOM information.\n        this.vdomData = {};\n        // Namespace stack, keeps track of the current (beyond the empty default) XML namespace to use.\n        // This is used for SVG support.\n        this.nsStack = [];\n        // Root key used to define the entry point for a virtual dom\n        this.rootKey = \"R\";\n        // Handle child virtual nodes which will either be a virtual element (already gone through createVDom) or is a plain string or number.\n        this.processChildNode = (input)=>{\n            // At this point we should have already checked for undefined, null and boolean,\n            // so an object here should be a virtual element, or string or a number.\n            if (typeof input === \"object\") return input;\n            return this.createTextNode(input.toString());\n        };\n        this.doc = doc;\n    }\n    // The main render function which turns a virtual element into DOM elements.\n    render(virtualNode, parent, key) {\n        this.nsStack = [];\n        this.renderDom(parent, virtualNode, key || this.rootKey);\n    }\n    //// Create virtual DOM elements\n    // Main function creating virtual elements. Usually exposed through the `vdom` function.\n    createVDom(nodeType, props, ...children) {\n        // Handle getting back an array of children. Eg: [[item1, item2]] instead of just [item1, item2].\n        const processedChildren = children.flat(Infinity).filter((child)=>child != undefined && typeof child !== \"boolean\").map(this.processChildNode);\n        props = props || {};\n        if (typeof nodeType === \"string\") return this.createIntrinsicNode(nodeType, props, processedChildren);\n        if (nodeType.prototype instanceof $ac586b1394cc16ea$var$ClassComponent) return this.createClassNode(nodeType, props, processedChildren);\n        if (typeof nodeType === \"function\") return this.createFunctionalNode(nodeType, props, processedChildren);\n        throw new Error(\"Unknown virtual node type\");\n    }\n    // Clears the virtual DOM, deleting all created DOM elements along the way.\n    clear() {\n        this.deleteVDomData(this.vdomData[this.rootKey], this.rootKey);\n        this.vdomData = {};\n        this.nsStack = [];\n    }\n    // A very basic text node.\n    createTextNode(textValue) {\n        return {\n            textValue: textValue\n        };\n    }\n    // We want to create an intrinsic node so process the props into attributes, events, styles, values and children.\n    createIntrinsicNode(intrinsicType, inputProps, children) {\n        const attributes = {};\n        const eventListeners = {};\n        const properties = {};\n        let style = {};\n        for(const prop in inputProps){\n            const propValue = inputProps[prop];\n            if ($ac586b1394cc16ea$var$attributeIsEventListener(prop, propValue)) eventListeners[prop.substr(2)] = propValue;\n            else if ($ac586b1394cc16ea$var$attributeIsProperty(prop)) properties[prop] = propValue;\n            else if (prop === \"style\") style = propValue;\n            else if (prop === \"key\") ;\n            else attributes[prop] = propValue;\n        }\n        return {\n            children: children,\n            nodeName: intrinsicType,\n            attributes: attributes,\n            style: style,\n            listeners: eventListeners,\n            key: inputProps.key,\n            properties: properties\n        };\n    }\n    // Create a class node from a class node constructor with props and children.\n    createClassNode(ctor, inputProps, children) {\n        const key = inputProps.key;\n        inputProps = $ac586b1394cc16ea$var$processComponentProps(inputProps);\n        return {\n            children: children,\n            ctor: ctor,\n            props: inputProps,\n            key: key\n        };\n    }\n    // Create a functional node from a function with props and children.\n    createFunctionalNode(renderNode, inputProps, children) {\n        const key = inputProps.key;\n        inputProps = $ac586b1394cc16ea$var$processComponentProps(inputProps);\n        return {\n            children: children,\n            func: renderNode,\n            props: inputProps,\n            key: key\n        };\n    }\n    //// Processing virtual elements into actual DOM elements.\n    // Takes a virtual element and turns it into a DOM node.\n    renderDom(parentNode, vNode, key) {\n        const currentVDom = this.vdomData[key];\n        if (this.hasVElementChanged(currentVDom === null || currentVDom === void 0 ? void 0 : currentVDom.vNode, vNode)) this.deleteVDomData(currentVDom, key);\n        if (!vNode) return false;\n        if ($ac586b1394cc16ea$exports.isTextNode(vNode)) return this.renderTextNode(currentVDom, parentNode, vNode, key);\n        else if ($ac586b1394cc16ea$exports.isClassNode(vNode)) return this.renderClassNode(currentVDom, parentNode, vNode, key);\n        else if ($ac586b1394cc16ea$exports.isFunctionalNode(vNode)) return this.renderFunctionalNode(parentNode, vNode, key);\n        else if ($ac586b1394cc16ea$exports.isIntrinsicNode(vNode)) return this.renderIntrinsicNode(currentVDom, parentNode, vNode, key);\n        return false;\n    }\n    // Deletes a virtual element along with any created DOM elements.\n    deleteVDomData(vdomNode, key) {\n        if (!vdomNode) return;\n        if ($ac586b1394cc16ea$exports.isIntrinsicNode(vdomNode.vNode)) {\n            const children = vdomNode.vNode.children;\n            for(let i = 0; i < children.length; i++){\n                const childKey = $ac586b1394cc16ea$exports.createChildKey(children[i], key, i);\n                const childVDom = this.vdomData[childKey];\n                this.deleteVDomData(childVDom, childKey);\n            }\n        } else if ($ac586b1394cc16ea$exports.isFunctionalNode(vdomNode.vNode) || $ac586b1394cc16ea$exports.isClassNode(vdomNode.vNode)) {\n            const componentChildKey = $ac586b1394cc16ea$exports.createComponentKey(key);\n            const componentChildVDom = this.vdomData[componentChildKey];\n            if ($ac586b1394cc16ea$exports.isClassNode(vdomNode.vNode)) {\n                const classComponent = vdomNode.instance;\n                classComponent.unmounting = true;\n                classComponent.onUnmount(()=>{\n                    // The component could be re-mounted whilst it's unmounting, if that changes don't actually unmount.\n                    if (classComponent.unmounting) this.deleteVDomData(componentChildVDom, componentChildKey);\n                });\n            } else this.deleteVDomData(componentChildVDom, componentChildKey);\n        }\n        $ac586b1394cc16ea$var$removeDomElement(vdomNode.domNode);\n        delete this.vdomData[key];\n    }\n    // Check if a virtual element has fundamentally changed, either it's not the same type (functional vs class vs intrinsic).\n    // Also checks if they're same type of component if the function in the functional component is now a different function or\n    // the intrinsic node type is different.\n    hasVElementChanged(oldNode, newNode) {\n        if (!oldNode) return false;\n        if (!newNode) return true;\n        if ($ac586b1394cc16ea$exports.isFunctionalNode(oldNode)) return oldNode.func !== newNode.func;\n        if ($ac586b1394cc16ea$exports.isClassNode(oldNode)) return oldNode.ctor !== newNode.ctor;\n        if ($ac586b1394cc16ea$exports.isIntrinsicNode(oldNode)) return oldNode.nodeName !== newNode.nodeName;\n        return false;\n    }\n    // Render a text node, either create it or update the existing one.\n    renderTextNode(currentVDom, parentNode, vNode, key) {\n        if (!currentVDom) {\n            const domNode = this.doc.createTextNode(vNode.textValue);\n            parentNode.appendChild(domNode);\n            this.vdomData[key] = {\n                domNode: domNode,\n                vNode: vNode\n            };\n        } else if (currentVDom.vNode.textValue !== vNode.textValue) {\n            currentVDom.domNode.nodeValue = vNode.textValue;\n            this.vdomData[key] = {\n                domNode: currentVDom.domNode,\n                vNode: vNode\n            };\n        }\n        return true;\n    }\n    // Render a functional node.\n    renderFunctionalNode(parentNode, vNode, key) {\n        const functionalChildKey = $ac586b1394cc16ea$exports.createComponentKey(key);\n        const rendered = this.renderDom(parentNode, vNode.func(vNode.props, vNode.children), functionalChildKey);\n        this.vdomData[key] = {\n            vNode: vNode\n        };\n        return rendered;\n    }\n    // Render a class node, mount it if it's new and checks if the props have changed and ignore further rendering.\n    renderClassNode(currentVDom, parentNode, vNode, key) {\n        let inst = currentVDom === null || currentVDom === void 0 ? void 0 : currentVDom.instance;\n        const isNew = !inst;\n        if (!inst) {\n            inst = new vNode.ctor();\n            inst.vdomKey = $ac586b1394cc16ea$exports.createComponentKey(key);\n            inst.vdom = this;\n        } else if (!inst.hasChanged(vNode.props)) return inst.prevRenderedResult;\n        const renderedVNode = inst.internalRender(vNode.props, vNode.children);\n        let rendered = false;\n        if (renderedVNode) rendered = this.renderDom(parentNode, renderedVNode, inst.vdomKey);\n        inst.prevRenderedResult = rendered;\n        this.vdomData[key] = {\n            vNode: vNode,\n            instance: inst\n        };\n        if (isNew || inst.unmounting) {\n            inst.unmounting = false;\n            inst.onMount();\n        }\n        return rendered;\n    }\n    // Renders an intrinsic node, either creates or updates it along with attributes, event listeners, inline styles or input properties.\n    renderIntrinsicNode(currentVDom, parentNode, vNode, key) {\n        var _a;\n        const currentIntrinsicVNode = currentVDom === null || currentVDom === void 0 ? void 0 : currentVDom.vNode;\n        const newXmlNs = (_a = vNode.attributes) === null || _a === void 0 ? void 0 : _a.xmlns;\n        if (newXmlNs) this.nsStack.push(newXmlNs);\n        const newNode = !currentVDom || currentIntrinsicVNode.nodeName !== vNode.nodeName;\n        let domNode;\n        if (newNode) {\n            if (currentVDom) $ac586b1394cc16ea$var$removeDomElement(currentVDom.domNode);\n            const stackXmlNs = this.nsStack[this.nsStack.length - 1];\n            if (stackXmlNs) domNode = this.doc.createElementNS(stackXmlNs, vNode.nodeName);\n            else domNode = this.doc.createElement(vNode.nodeName);\n            parentNode.appendChild(domNode);\n        } else domNode = currentVDom.domNode;\n        this.vdomData[key] = {\n            domNode: domNode,\n            vNode: vNode\n        };\n        this.renderChildrenNodes(currentIntrinsicVNode, domNode, vNode, key);\n        // Add or apply attributes after children are created for select element.\n        this.applyAttributes(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.attributes, vNode.attributes);\n        this.applyStyle(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.style, vNode.style);\n        this.applyEventListeners(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.listeners, vNode.listeners);\n        this.applyProperties(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.properties, vNode.properties);\n        if (newXmlNs) this.nsStack.pop();\n        return true;\n    }\n    getChildWithDomNode(child, childKey) {\n        const newVDom = $ac586b1394cc16ea$exports.isFunctionalNode(child) || $ac586b1394cc16ea$exports.isClassNode(child) ? this.vdomData[$ac586b1394cc16ea$exports.createComponentKey(childKey)] : this.vdomData[childKey];\n        if (!newVDom) return undefined;\n        if (!newVDom.domNode && ($ac586b1394cc16ea$exports.isFunctionalNode(newVDom.vNode) || $ac586b1394cc16ea$exports.isClassNode(newVDom.vNode))) return this.getChildWithDomNode(newVDom.vNode, $ac586b1394cc16ea$exports.createComponentKey(childKey));\n        return newVDom.domNode;\n    }\n    renderChildrenNodes(currentIntrinsicVNode, domNode, vNode, key) {\n        const previousChildren = currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.children;\n        const keysToRemove = {};\n        const previousVNodes = [];\n        if (previousChildren) for(let i = 0; i < previousChildren.length; i++){\n            const child = previousChildren[i];\n            const childKey = $ac586b1394cc16ea$exports.createChildKey(child, key, i);\n            keysToRemove[childKey] = child;\n            previousVNodes[i] = this.vdomData[childKey];\n        }\n        const domNodeChildren = domNode.childNodes;\n        for(let i = 0, domIndex = 0; i < vNode.children.length; i++, domIndex++){\n            const child = vNode.children[i];\n            const childKey = $ac586b1394cc16ea$exports.createChildKey(child, key, i);\n            const rendered = this.renderDom(domNode, child, childKey);\n            delete keysToRemove[childKey];\n            if (!rendered) {\n                domIndex--;\n                continue;\n            }\n            const newDomNode = this.getChildWithDomNode(child, childKey);\n            if (!newDomNode) continue;\n            if (domNodeChildren.item(domIndex) !== newDomNode) domNode.insertBefore(newDomNode, domNodeChildren.item(domIndex));\n        }\n        for(const childKey in keysToRemove){\n            const childVDom = this.vdomData[childKey];\n            this.deleteVDomData(childVDom, childKey);\n        }\n    }\n    //// Handling DOM attributes\n    applyAttributes(domElement, currentProps, newProps) {\n        const diff = this.diffProps(currentProps, newProps);\n        for(const prop in diff.remove)domElement.removeAttribute(prop);\n        for(const prop in diff.add)domElement.setAttribute(prop, diff.add[prop]);\n        return diff;\n    }\n    //// Handle setting inline DOM CSS styles.\n    applyStyle(domElement, currentStyle, newStyle) {\n        const diff = this.diffProps(currentStyle, newStyle);\n        for(const prop in diff.remove)domElement.style.removeProperty(prop);\n        for(const prop in diff.add)domElement.style.setProperty(prop, diff.add[prop]);\n        return diff;\n    }\n    //// Handle setting event listeners on DOM elements.\n    applyEventListeners(domElement, currentListeners, newListeners) {\n        const diff = this.diffProps(currentListeners, newListeners);\n        for(const eventType in diff.remove)domElement.removeEventListener(eventType, diff.remove[eventType]);\n        for(const eventType in diff.add)domElement.addEventListener(eventType, diff.add[eventType]);\n        return diff;\n    }\n    //// Handle setting properties on DOM elements.\n    applyProperties(domElement, currentProps, newProps) {\n        const diff = this.diffProps(currentProps, newProps);\n        for(const prop in diff.remove)domElement[prop] = undefined;\n        for(const prop in diff.add)domElement[prop] = diff.add[prop];\n        return diff;\n    }\n    // Basic process for checking what has changed between current and new props.\n    diffProps(currentProps, newProps = {}) {\n        const remove = Object.assign({}, currentProps);\n        const add = {};\n        for(const prop in newProps){\n            const currentValue = remove[prop];\n            const newValue = newProps[prop];\n            if (currentValue != undefined && currentValue === newValue) delete remove[prop];\n            else add[prop] = newValue;\n        }\n        return {\n            remove: remove,\n            add: add\n        };\n    }\n}\n$ac586b1394cc16ea$exports.VDom = $ac586b1394cc16ea$var$VDom;\nconst $ac586b1394cc16ea$var$attributeIsEventListener = (attribute, value)=>{\n    return attribute.startsWith(\"on\") && typeof value === \"function\";\n};\nconst $ac586b1394cc16ea$var$attributeIsProperty = (attribute)=>{\n    return attribute === \"value\" || attribute === \"checked\" || attribute === \"selected\";\n};\nconst $ac586b1394cc16ea$var$removeDomElement = (domElement)=>{\n    var _a;\n    if (!domElement) return;\n    (_a = domElement.parentElement) === null || _a === void 0 || _a.removeChild(domElement);\n};\nconst $ac586b1394cc16ea$var$processComponentProps = (inputProps)=>{\n    if (inputProps.key !== undefined) {\n        inputProps = {\n            ...inputProps\n        };\n        delete inputProps[\"key\"];\n    }\n    return inputProps;\n};\nconst $ac586b1394cc16ea$var$createChildKey = (child, parentKey, index)=>{\n    if (!$ac586b1394cc16ea$exports.isTextNode(child)) {\n        const childKey = child.key;\n        if (childKey != undefined) return `${parentKey}_:${childKey}`;\n    }\n    return `${parentKey}_${index}`;\n};\n$ac586b1394cc16ea$exports.createChildKey = $ac586b1394cc16ea$var$createChildKey;\nconst $ac586b1394cc16ea$var$createComponentKey = (parentKey)=>{\n    return `${parentKey}_C`;\n};\n$ac586b1394cc16ea$exports.createComponentKey = $ac586b1394cc16ea$var$createComponentKey;\nconst $ac586b1394cc16ea$var$isIntrinsicNode = (vNode)=>{\n    return !!vNode.nodeName;\n};\n$ac586b1394cc16ea$exports.isIntrinsicNode = $ac586b1394cc16ea$var$isIntrinsicNode;\nconst $ac586b1394cc16ea$var$isClassNode = (vNode)=>{\n    return !!vNode.ctor;\n};\n$ac586b1394cc16ea$exports.isClassNode = $ac586b1394cc16ea$var$isClassNode;\nconst $ac586b1394cc16ea$var$isTextNode = (vNode)=>{\n    return !!vNode.textValue;\n};\n$ac586b1394cc16ea$exports.isTextNode = $ac586b1394cc16ea$var$isTextNode;\nconst $ac586b1394cc16ea$var$isFunctionalNode = (vNode)=>{\n    return !!vNode.func;\n};\n$ac586b1394cc16ea$exports.isFunctionalNode = $ac586b1394cc16ea$var$isFunctionalNode;\n// This is only intended for internal use where the values that are given are never null!\nconst $ac586b1394cc16ea$var$shallowEqual = (objA, objB)=>{\n    if (objA === objB) return true;\n    const keysA = Object.keys(objA);\n    const keysB = Object.keys(objB);\n    if (keysA.length !== keysB.length) return false;\n    // Test for A's keys different from B.\n    for(let i = 0; i < keysA.length; i++){\n        if (objA[keysA[i]] !== objB[keysA[i]]) return false;\n    }\n    return true;\n};\n$ac586b1394cc16ea$exports.shallowEqual = $ac586b1394cc16ea$var$shallowEqual;\n// Renders the given virtualNode into the given parent node.\n// This will clear the parent node of all its children.\nfunction $ac586b1394cc16ea$var$render(virtualNode, parent, key) {\n    $ac586b1394cc16ea$var$VDom.current.render(virtualNode, parent, key);\n}\n$ac586b1394cc16ea$exports.render = $ac586b1394cc16ea$var$render;\n// Helper function for creating virtual DOM object.\nfunction $ac586b1394cc16ea$var$vdom(type, props, ...children) {\n    return $ac586b1394cc16ea$var$VDom.current.createVDom(type, props, ...children);\n}\n$ac586b1394cc16ea$exports.vdom = $ac586b1394cc16ea$var$vdom;\nif (typeof document !== \"undefined\") $ac586b1394cc16ea$var$VDom.current = new $ac586b1394cc16ea$var$VDom(document);\n\n\nfunction $565bb8264fce4bd8$export$99bb518a8d6d5894() {\n    return ()=>{\n        return {\n            pages: [],\n            posts: {},\n            selectedPageId: \"\"\n        };\n    };\n}\nfunction $565bb8264fce4bd8$export$5b9d7ae579ae6e46(postsHeight) {\n    return ()=>{\n        return {\n            postsHeight: postsHeight\n        };\n    };\n}\nfunction $565bb8264fce4bd8$export$4d355908d313eebb(isMobile) {\n    return ()=>{\n        return {\n            isMobile: isMobile\n        };\n    };\n}\nfunction $565bb8264fce4bd8$export$723f3965683bce1e(selectedPageId) {\n    return ()=>{\n        return {\n            selectedPageId: selectedPageId\n        };\n    };\n}\nfunction $565bb8264fce4bd8$export$44bdcd989270c95(darkTheme) {\n    return ()=>{\n        return {\n            darkTheme: darkTheme\n        };\n    };\n}\nfunction $565bb8264fce4bd8$export$14ba8fe96cacdc60(ripplesEnabled) {\n    return ()=>{\n        return {\n            ripplesEnabled: ripplesEnabled\n        };\n    };\n}\nlet $565bb8264fce4bd8$export$6f57813fe9f31bf9;\nfunction $565bb8264fce4bd8$export$fa23577ed00dcf0e(s) {\n    $565bb8264fce4bd8$export$6f57813fe9f31bf9 = s;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst $c1574a56fc59efc2$var$classesToAdd = {\n    \"npm\": \"has-fill\",\n    \"github\": \"fill-on-hover has-stroke\",\n    \"cog\": \"fill-on-hover has-stroke\",\n    \"youtube\": \"fill-on-hover has-stroke\",\n    \"ripples\": \"has-fill\",\n    \"theme\": \"theme-icon has-stroke\"\n};\nconst $c1574a56fc59efc2$var$svgXmlNs = \"http://www.w3.org/2000/svg\";\nconst $c1574a56fc59efc2$var$viewbox = \"0 0 512 512\";\nclass $c1574a56fc59efc2$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { icon: icon, size: size, active: active, disabled: disabled } = this.props;\n        const style = {};\n        if (typeof size === \"number\" && isFinite(size)) style[\"width\"] = style[\"height\"] = `${size}px`;\n        const classNames = `icon ${this.props.class || \"\"} ${$c1574a56fc59efc2$var$classesToAdd[icon] || \"\"} ${active ? \"active\" : \"\"}`;\n        if (icon === \"theme\") return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)($c1574a56fc59efc2$var$ThemeIcon, {\n            class: classNames\n        });\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"svg\", {\n            xmlns: $c1574a56fc59efc2$var$svgXmlNs,\n            style: style,\n            viewBox: $c1574a56fc59efc2$var$viewbox,\n            class: classNames\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"use\", {\n            href: `#${icon}`\n        }), disabled && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)($c1574a56fc59efc2$var$DisableIcon, null));\n    }\n}\nclass $c1574a56fc59efc2$var$ThemeIcon extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const classNames = this.props.class;\n        if (classNames?.includes(\"active\")) setTimeout(()=>this.gotoMoon());\n        else setTimeout(()=>this.gotoSun());\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"svg\", {\n            class: classNames || \"\",\n            xmlns: $c1574a56fc59efc2$var$svgXmlNs,\n            viewBox: $c1574a56fc59efc2$var$viewbox\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"g\", null, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"animateTransform\", {\n            class: \"begin-animation\",\n            attributeName: \"transform\",\n            type: \"rotate\",\n            dur: \"0.5\",\n            repeatCount: \"1\",\n            fill: \"freeze\",\n            calcMode: \"spline\",\n            begin: \"indefinite\",\n            keySplines: \"0.7 0 0.3 1\",\n            values: \"0 256 512 ; 180 256 512\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"animateTransform\", {\n            class: \"end-animation\",\n            attributeName: \"transform\",\n            type: \"rotate\",\n            dur: \"0.5\",\n            repeatCount: \"1\",\n            fill: \"freeze\",\n            calcMode: \"spline\",\n            begin: \"indefinite\",\n            keySplines: \"0.7 0 0.3 1\",\n            values: \"180 256 512 ; 360 256 512\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m319 897.73c68-40 92-128 53-197-40-69-128-92-197-53-23 13-42 33-55 57 57-31 138-12 171 44 32 56 23 132-48 168 26.6.1 52-5 76-19z\",\n            \"stroke-linecap\": \"round\",\n            \"stroke-linejoin\": \"round\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"circle\", {\n            cx: \"256\",\n            cy: \"256\",\n            r: \"88\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"g\", {\n            \"stroke-linecap\": \"round\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m395 116.85-46 46\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m452 256h-65\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m395 395-46-46\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m256 452v-65\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m116 116 46 46\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m59 256h65\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m116 395 46-46\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m256 59v65\"\n        }))));\n    }\n    constructor(...args){\n        super(...args);\n        this.gotoMoon = ()=>{\n            const beginAni = this.rootDomNode()?.parentElement?.querySelector(\".begin-animation\");\n            if (beginAni) beginAni.beginElement();\n        };\n        this.gotoSun = ()=>{\n            const endAni = this.rootDomNode()?.parentElement?.querySelector(\".end-animation\");\n            if (endAni) endAni.beginElement();\n        };\n    }\n}\nclass $c1574a56fc59efc2$var$DisableIcon extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    onMount() {\n        const domElement = this.rootDomNode();\n        if (!domElement) return;\n        this.path = domElement.querySelector(\"path\");\n        if (typeof window === \"undefined\") this.path?.classList.add(\"mounted\");\n        else setTimeout(()=>this.path?.classList.add(\"mounted\"), 50);\n    }\n    onUnmount(finishedHandler) {\n        if (!this.path) {\n            finishedHandler();\n            return;\n        }\n        this.path?.classList.remove(\"mounted\");\n        this.path?.classList.add(\"unmounted\");\n        setTimeout(finishedHandler, 300);\n    }\n    render() {\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"svg\", {\n            xmlns: $c1574a56fc59efc2$var$svgXmlNs,\n            viewBox: $c1574a56fc59efc2$var$viewbox\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            class: \"disabled-icon\",\n            d: \"M60,60 L452,452\",\n            stroke: \"#a50505\",\n            \"stroke-width\": \"36\"\n        }));\n    }\n    constructor(...args){\n        super(...args);\n        this.path = null;\n    }\n}\nclass $c1574a56fc59efc2$export$a1c7fef0d68f3d45 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"svg\", {\n            xmlns: $c1574a56fc59efc2$var$svgXmlNs,\n            style: {\n                \"display\": \"none\"\n            }\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"defs\", null, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"g\", {\n            id: \"github\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m256.04 40.719a12.101 12.101 0 01-.0586.002c-122.18 0-221.01 98.821-221.01 221.04 0 97.422 62.943 179.91 150.26 209.4.38186.0493.69175.0942.87891.10156-.003-3.4698-.11415-15.222-.20508-25.107-27.464 2.7336-47.158-5.0022-59.33-15.113-14.232-11.822-18.799-26.721-18.799-26.721l.32618.9375c-4.7106-11.964-10.209-19.009-14.23-23.041-4.0218-4.0316-5.541-4.543-5.541-4.543a12.101 12.101 0 01-1.6855-.96289c-6.1107-4.173-10.297-7.152-13.012-13.621-1.3576-3.2345-1.7567-8.1312-.04883-12.045 1.7079-3.9138 4.5608-6.0923 6.7617-7.3457 4.4017-2.5068 7.6019-2.7105 10.174-2.9941 2.572-.28365 4.7051-.25391 4.7051-.25391a12.101 12.101 0 01.69727.0293c30.762 2.1653 45.461 30.27 45.461 30.27l-.1543-.26953c8.7038 14.91 17.877 18.479 27.371 19.326 6.9177.61754 14.097-.96515 19.641-2.8203 1.117-4.7619 2.5325-9.1837 4.332-13.15-20.939-4.0467-41.963-11.405-59.438-26.117-22.933-19.308-37.99-51.035-37.99-98.162 0-25.618 8.5952-47.73 22.586-65.25-3.4062-12.042-6.7793-34.8 4.5508-63.455a12.101 12.101 0 017.5586-7.0742s3.2924-.90645 6.8887-1.0723 8.4788.0901 14.646 1.3887c11.453 2.4114 27.524 8.7025 48.361 22.156 18.177-4.5474 37.226-6.9097 56.203-7.0059a12.101 12.101 0 01.13476 0c18.951.11661 37.987 2.4616 56.186 7.0059 20.822-13.453 36.88-19.742 48.324-22.154 6.1631-1.2988 11.042-1.5566 14.637-1.3906 3.5946.16595 6.8867 1.0742 6.8867 1.0742a12.101 12.101 0 017.5508 7.0625c11.354 28.646 7.9789 51.431 4.5938 63.453 14.015 17.535 22.549 39.66 22.549 65.262 0 47.236-15.086 78.97-38.08 98.221-17.459 14.616-38.446 21.904-59.361 25.895 4.2183 9.2458 6.8164 20.618 6.8164 34.104 0 31.009-.2792 55.947-.2832 63.49.20492-.0115.50996-.0576.93555-.11914 87.287-29.535 150.2-111.97 150.2-209.39 0-122.2-98.794-221-220.99-221.04z\"\n        })), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"g\", {\n            id: \"npm\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"M227.6 213.1H256v57.1h-28.4z\"\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"M0 156v171.4h142.2V356H256v-28.6h256V156zm142.2 142.9h-28.4v-85.7H85.3v85.7H28.4V184.6h113.8zm142.2 0h-56.9v28.6h-56.9V184.6h113.8zm199.2 0h-28.4v-85.7h-28.4v85.7h-28.4v-85.7H370v85.7h-56.9V184.6h170.7v114.3z\"\n        })), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"g\", {\n            id: \"youtube\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m254.76 102.98s-35.734-.00038-75.871 1.1914-86.398 4.2719-100.17 7.9629a12.791 12.791 0 01-.0098.004c-15.311 4.091-27.437 16.217-31.529 31.529a12.791 12.791 0 01-.002.008c-4.2204 15.748-6.7922 43.226-7.9727 66.02-1.1805 22.793-1.1816 41.16-1.1816 41.16s-.000768 18.366 1.1797 41.158c1.1805 22.793 3.7538 50.27 7.9746 66.021a12.791 12.791 0 01.0039.008c4.0921 15.312 16.216 27.437 31.529 31.529a12.791 12.791 0 01.0078.004c13.772 3.6901 60.032 6.7707 100.17 7.9629 40.137 1.1922 75.869 1.1914 75.869 1.1914s35.732.00073 75.869-1.1914c40.137-1.1921 86.398-4.2726 100.17-7.9629a12.791 12.791 0 01.008-.004c15.313-4.092 27.434-16.214 31.527-31.529a12.791 12.791 0 010-.006c4.219-15.75 6.7936-43.228 7.9746-66.021 1.181-22.794 1.1816-41.16 1.1816-41.16s-.00086-18.365-1.1816-41.158c-1.1808-22.793-3.7547-50.27-7.9746-66.021a12.791 12.791 0 010-.008c-4.0936-15.313-16.214-27.439-31.525-31.529a12.791 12.791 0 01-.01-.004c-13.77-3.691-60.031-6.7711-100.17-7.9629-40.137-1.1918-75.871-1.1914-75.871-1.1914zm-45.533 66.229a12.791 12.791 0 016.0176 1.707l119.26 68.859a12.791 12.791 0 010 22.152l-119.26 68.857a12.791 12.791 0 01-19.186-11.076v-137.72a12.791 12.791 0 0113.168-12.783z\"\n        })), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"g\", {\n            id: \"cog\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m210.06 28.039-11.908 75.131c-16.509 6.2627-31.895 15.159-45.559 26.342l-71.063-27.27-45.938 79.566 59.236 47.979c-1.474 8.6613-2.2473 17.427-2.3125 26.213.02275 8.8217.75954 17.627 2.2031 26.33l-59.127 47.889 45.938 79.566 71.084-27.279c13.66 11.122 29.029 19.962 45.51 26.18l11.934 75.303h91.875l11.912-75.16c16.5-6.2589 31.877-15.146 45.535-26.32l71.08 27.277 45.939-79.564-59.24-47.982c1.4765-8.6688 2.2511-17.443 2.3164-26.236-.0227-8.814-.75818-17.612-2.1992-26.307l59.123-47.885-45.939-79.566-71.061 27.27c-13.667-11.131-29.045-19.978-45.537-26.199l-11.93-75.275zm45.938 171.23c31.331.00055 56.729 25.398 56.73 56.729-.00055 31.331-25.399 56.729-56.73 56.73-31.331-.00055-56.729-25.399-56.73-56.73.00056-31.331 25.399-56.728 56.73-56.729z\"\n        })), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"g\", {\n            id: \"ripples\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"path\", {\n            d: \"m102 257c0 86 70 156 156 156 28.0.3 83-10 34-10-81.1 0-146-65-146-146.1 0-81 65-146 146-146 65 3-19-22-66-9-41 5-124 69-124 155zm94-64.1c-10 15-22 56-6 24 30-41 96-60 143-38 50 29 67 93 38 143-23 31 10-1 19-17 30-53 12-121-40-152-16-9-41.123-16-65-15-35 0-75 20-89 55zm123 17c30 30 30 79 0 110-30 30-79 30-110 0-17-22 1 8 9 16 32 32 84 32 117 0 32-32 33.085-81 1-114-10.143-14-34-29-17-12z\"\n        }))));\n    }\n}\n\n\n\nclass $daecbb779ee31d50$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { icon: icon, text: text, active: active, disableIcon: disableIcon, disabled: disabled } = this.props;\n        const classNames = `circle-button ${disabled ? \"disabled\" : \"\"}`;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: classNames,\n            onclick: this.onClick\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"span\", {\n            class: \"circle-button__text\"\n        }, text), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $c1574a56fc59efc2$export$2e2bcd8739ae039), {\n            class: \"circle-button__icon\",\n            icon: icon,\n            size: 32,\n            active: active,\n            disabled: disableIcon\n        }));\n    }\n    constructor(...args){\n        super(...args);\n        this.onClick = ()=>{\n            if (this.props.disabled) return;\n            if (typeof this.props.onclick === \"function\") this.props.onclick();\n        };\n    }\n}\n\n\n\n\n\nclass $c19085c8d25843b8$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    hasChanged(newProps) {\n        return true;\n    }\n    render() {\n        const classNames = `menu ${this.props.class || \"\"} ${this.showMenu ? \"active\" : \"\"}`;\n        const rowClassNames = `menu__row ${this.showMenu ? \"\" : \"disabled\"}`;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: classNames\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $daecbb779ee31d50$export$2e2bcd8739ae039), {\n            onclick: this.toggleMenu,\n            icon: \"cog\",\n            active: this.showMenu\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"menu__dropdown\"\n        }, this.children.map((c, index)=>{\n            let showIndex = index + 1;\n            if (!this.showMenu) showIndex = this.children.length - showIndex;\n            const style = {\n                \"transition-delay\": showIndex * 0.1 + \"s\"\n            };\n            return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n                class: rowClassNames,\n                style: style\n            }, c);\n        })));\n    }\n    constructor(...args){\n        super(...args);\n        this.showMenu = false;\n        this.toggleMenu = ()=>{\n            this.showMenu = !this.showMenu;\n            this.forceUpdate();\n        };\n    }\n}\n\n\nclass $0662600351afa8ef$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { darkTheme: darkTheme, ripplesEnabled: ripplesEnabled } = this.props;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $c19085c8d25843b8$export$2e2bcd8739ae039), null, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $daecbb779ee31d50$export$2e2bcd8739ae039), {\n            icon: \"theme\",\n            text: `${darkTheme ? \"Light\" : \"Dark\"} Theme`,\n            onclick: this.toggleDarkTheme,\n            active: darkTheme\n        }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $daecbb779ee31d50$export$2e2bcd8739ae039), {\n            icon: \"ripples\",\n            text: ripplesEnabled ? \"Ripples Off\" : \"Ripples On\",\n            disableIcon: !ripplesEnabled,\n            onclick: this.toggleRipples\n        }));\n    }\n    constructor(...args){\n        super(...args);\n        this.toggleDarkTheme = ()=>{\n            (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).execute((0, $565bb8264fce4bd8$export$44bdcd989270c95)(!this.props.darkTheme));\n        };\n        this.toggleRipples = ()=>{\n            (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).execute((0, $565bb8264fce4bd8$export$14ba8fe96cacdc60)(!this.props.ripplesEnabled));\n        };\n    }\n}\n\n\n\n\nclass $2a6d69e55f240f95$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { page: page, active: active } = this.props;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"a\", {\n            class: `navbar-page-button ${active ? \"is--active\" : \"\"}`,\n            href: `/${page.id}`,\n            onclick: this.onClick\n        }, page.title);\n    }\n    constructor(...args){\n        super(...args);\n        this.onClick = (e)=>{\n            if (e.button === 0) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            this.props.onClick(this.props.page);\n        };\n    }\n}\n\n\n\nclass $26a14be0a203a6c0$export$42cfbb80f7861e77 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { pages: pages, selectedPageId: selectedPageId, darkTheme: darkTheme, ripplesEnabled: ripplesEnabled } = this.props;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"nav\", {\n            class: \"navbar\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"h1\", null, \"Alan Lawrey\"), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"navbar__page-buttons\"\n        }, pages.map((page)=>/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $2a6d69e55f240f95$export$2e2bcd8739ae039), {\n                active: page.id === selectedPageId,\n                page: page,\n                onClick: this.onClickPage\n            }))), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $0662600351afa8ef$export$2e2bcd8739ae039), {\n            darkTheme: darkTheme,\n            ripplesEnabled: ripplesEnabled\n        }));\n    }\n    constructor(...args){\n        super(...args);\n        this.onClickPage = (page)=>{\n            this.props.onPageChange(page);\n        };\n    }\n}\n\n\n\n\n\n\nclass $35370380133e286e$export$a06f1c675e846f6f extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"footer\", {\n            class: \"footer container\"\n        }, \"Alan Lawrey 2024\");\n    }\n}\n\n\n\n\n\n\nvar $38ae70e57cd32e91$exports = {};\n\"use strict\";\nObject.defineProperty($38ae70e57cd32e91$exports, \"__esModule\", {\n    value: true\n});\n/**\n * A signal represents a single kind of event.\n * Signals also have a type associated with them.\n *\n * Currently TypeScript does not support variadic generics which would make it\n * easier to allow multiple argument listeners and triggers.\n * This should be coming in TypeScript 4.\n *\n * Signals can be listened for and triggered.\n */ class $38ae70e57cd32e91$var$Signal {\n    constructor(){\n        this.listeners = [];\n        /**\n         * Returns the number of listeners.\n         */ this.length = ()=>this.listeners.length;\n    }\n    /**\n     * Adds a new listener to this signal, this will be called when the `trigger` method\n     * is called.\n     *\n     * @param listener A listener function.\n     * @returns A function to remove the listener from the signal.\n     */ add(listener) {\n        this.listeners.push(listener);\n        return ()=>{\n            const index = this.listeners.indexOf(listener);\n            if (index >= 0) this.listeners.splice(index, 1);\n        };\n    }\n    /**\n     * Triggers all the listeners with the value given.\n     *\n     * @param value The value to pass to all the listeners\n     */ trigger(value) {\n        for (const listener of this.listeners){\n            if (listener(value) === false) break;\n        }\n    }\n}\n$38ae70e57cd32e91$exports.default = $38ae70e57cd32e91$var$Signal;\n\n\nconst $62e1e9e90dbfcd00$export$5b39060336a11a8b = new (0, (/*@__PURE__*/$parcel$interopDefault($38ae70e57cd32e91$exports)))();\nconst $62e1e9e90dbfcd00$export$55cdd3303710b5e1 = new (0, (/*@__PURE__*/$parcel$interopDefault($38ae70e57cd32e91$exports)))();\n\n\nclass $0808fc33ad601887$export$3129a105b878e9d6 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { url: url, fullSizeUrl: fullSizeUrl, caption: caption } = this.props.picture;\n        const imgElement = /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"img\", {\n            loading: \"lazy\",\n            src: url,\n            alt: caption\n        });\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"post-picture\",\n            onmouseenter: this.onMouseEnter,\n            onmouseleave: this.onMouseLeave\n        }, fullSizeUrl ? /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"a\", {\n            href: fullSizeUrl,\n            target: \"_blank\"\n        }, imgElement) : imgElement, caption && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"post-picture__caption\"\n        }, caption));\n    }\n    constructor(...args){\n        super(...args);\n        this.onMouseEnter = (e)=>{\n            const el = e.target;\n            (0, $62e1e9e90dbfcd00$export$5b39060336a11a8b).trigger(el);\n        };\n        this.onMouseLeave = (e)=>{\n            const el = e.target;\n            (0, $62e1e9e90dbfcd00$export$55cdd3303710b5e1).trigger(el);\n        };\n    }\n}\n\n\n\n\n\nclass $f2ccf0c51d5f03df$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { url: url, icon: icon, title: title } = this.props.link;\n        const extraProps = {};\n        if (title) extraProps.title = title;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"post-link\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"a\", {\n            href: url,\n            target: \"_blank\",\n            ...extraProps\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $c1574a56fc59efc2$export$2e2bcd8739ae039), {\n            icon: icon\n        })));\n    }\n}\n\n\n\n\nconst $beedf5b8b74b50b8$var$formattingRegex = /(\\[([^\\]]+)\\]\\(([^\\)]+)\\))/;\nconst $beedf5b8b74b50b8$var$globalFormattingRegex = new RegExp($beedf5b8b74b50b8$var$formattingRegex, \"g\");\nclass $beedf5b8b74b50b8$export$2e2bcd8739ae039 {\n    static processText(text) {\n        if (text.indexOf(\"[\") < 0) return [\n            text\n        ];\n        const result = [];\n        const split = text.split($beedf5b8b74b50b8$var$globalFormattingRegex);\n        for(let i = 0; i < split.length; i++){\n            const token = split[i];\n            if (!token) continue;\n            if (token[0] === \"[\" && $beedf5b8b74b50b8$var$formattingRegex.test(token)) {\n                // Handle token\n                const type = split[i + 1];\n                const value = split[i + 2];\n                i += 2;\n                if (type === \"link\") {\n                    const linkSplit = value.split(\"|\");\n                    const text = linkSplit[0].trim();\n                    const url = linkSplit[1].trim();\n                    result.push(/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"a\", {\n                        href: url\n                    }, text));\n                } else if (type === \"post-header\") {\n                    const headerSplit = value.split(\"|\");\n                    const header = headerSplit[0].trim();\n                    const period = headerSplit[1].trim();\n                    result.push(/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n                        class: \"post-header\"\n                    }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"h3\", null, header), \" \", /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"small\", null, period)));\n                } else if (type === \"strong\" || type === \"h1\" || type === \"h2\" || type === \"h3\") result.push((0, $ac586b1394cc16ea$exports.vdom)(type, {}, value));\n            } else result.push(token);\n        }\n        return result;\n    }\n}\n\n\n\nclass $8f05a5688f618ec6$export$ada6dfafcb2dc824 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { text: text, pictures: pictures, list: list, picturePosition: picturePosition, links: links } = this.props.content;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: `post-paragraph is--${picturePosition || \"right\"}`\n        }, (text || list || links) && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"post-paragraph__text-content\"\n        }, this.processText(), links && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"post-paragraph__links\"\n        }, links.map((link)=>/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $f2ccf0c51d5f03df$export$2e2bcd8739ae039), {\n                link: link\n            })))), pictures && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"post-paragraph__pictures\"\n        }, pictures.map((picture)=>/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $0808fc33ad601887$export$3129a105b878e9d6), {\n                picture: picture\n            }))));\n    }\n    constructor(...args){\n        super(...args);\n        this.processText = ()=>{\n            const { text: text } = this.props.content;\n            if (!text) return null;\n            const result = [];\n            let listChildren = null;\n            for (const line of text){\n                if (line.length === 0) continue;\n                if (line[0] === \"*\") {\n                    if (listChildren === null) listChildren = [];\n                    listChildren.push(line.substr(1).trimLeft());\n                } else {\n                    if (listChildren !== null) {\n                        result.push(this.createList(listChildren));\n                        listChildren = null;\n                    }\n                    result.push(/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n                        class: \"post-paragraph__line\"\n                    }, (0, $beedf5b8b74b50b8$export$2e2bcd8739ae039).processText(line)));\n                }\n            }\n            if (listChildren !== null) result.push(this.createList(listChildren));\n            return result;\n        };\n        this.createList = (items)=>{\n            return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"ul\", null, items.map((c)=>/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"li\", null, (0, $beedf5b8b74b50b8$export$2e2bcd8739ae039).processText(c))));\n        };\n    }\n}\n\n\n\nclass $a0a8b37a4e1c5fc8$export$e3cb9ef4a0c00f93 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { contents: contents } = this.props.post;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"post\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", null, contents.map((content)=>/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $8f05a5688f618ec6$export$ada6dfafcb2dc824), {\n                content: content\n            }))));\n    }\n}\n\n\n\nclass $956a685afb70a429$export$d074f14c5fd21603 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    onMount() {\n        const domElement = this.rootDomNode();\n        if (!domElement) return;\n        if (typeof window === \"undefined\") domElement.classList.add(\"mounted\");\n        else setTimeout(()=>{\n            domElement.classList.add(\"mounted\");\n            const bounds = domElement.getBoundingClientRect();\n            (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).execute((0, $565bb8264fce4bd8$export$5b9d7ae579ae6e46)(bounds.height));\n        }, 50);\n    }\n    onUnmount(finishedHandler) {\n        const domElement = this.rootDomNode();\n        if (!domElement) {\n            finishedHandler();\n            return;\n        }\n        domElement.classList.remove(\"mounted\");\n        domElement.classList.add(\"unmounted\");\n        setTimeout(()=>finishedHandler(), 300);\n    }\n    render() {\n        const { posts: posts, category: category } = this.props;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"posts\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"posts__content\"\n        }, category && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"h2\", null, category.title), posts && posts.map((post)=>/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $a0a8b37a4e1c5fc8$export$e3cb9ef4a0c00f93), {\n                key: post.pageId,\n                post: post\n            })), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $35370380133e286e$export$a06f1c675e846f6f), null)));\n    }\n}\n\n\n\n\n\n\nclass $8fcbb6e240ba1c0e$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { pages: pages, selectedPageId: selectedPageId } = this.props;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"nav\", {\n            class: \"mobile-bottom-navbar\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"mobile-bottom-navbar__page-buttons\"\n        }, pages.map((page)=>/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $2a6d69e55f240f95$export$2e2bcd8739ae039), {\n                active: page.id === selectedPageId,\n                page: page,\n                onClick: this.onClickPage\n            }))));\n    }\n    constructor(...args){\n        super(...args);\n        this.onClickPage = (page)=>{\n            this.props.onPageChange(page);\n        };\n    }\n}\n\n\n\n\n\nclass $1471fd671fa71dfa$export$2e2bcd8739ae039 extends (0, $ac586b1394cc16ea$exports.ClassComponent) {\n    render() {\n        const { darkTheme: darkTheme, ripplesEnabled: ripplesEnabled } = this.props;\n        return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n            class: \"mobile-top-navbar\"\n        }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"h1\", null, \"Alan Lawrey\"), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $0662600351afa8ef$export$2e2bcd8739ae039), {\n            darkTheme: darkTheme,\n            ripplesEnabled: ripplesEnabled\n        }));\n    }\n}\n\n\nlet $f449f0b23fbc743a$var$postsContainerEl = null;\nlet $f449f0b23fbc743a$var$htmlEl = null;\nconst $f449f0b23fbc743a$export$86fbec116b87613f = (props)=>{\n    const { pages: pages, posts: posts, selectedPageId: selectedPageId, darkTheme: darkTheme, isMobile: isMobile, ripplesEnabled: ripplesEnabled, backgrounds: backgrounds } = props.state;\n    if ($f449f0b23fbc743a$var$postsContainerEl == undefined && typeof window !== \"undefined\") {\n        $f449f0b23fbc743a$var$postsContainerEl = document.querySelector(\".app__post-container\");\n        $f449f0b23fbc743a$var$htmlEl = document.body.parentElement;\n    }\n    // The extra div around posts is for handling the unmounting stage and we don't want the old posts to be suddenly after the footer (which would push it up).\n    return /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n        class: \"app-wrapper\"\n    }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $c1574a56fc59efc2$export$a1c7fef0d68f3d45), null), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"main\", {\n        class: \"app\"\n    }, !isMobile && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $26a14be0a203a6c0$export$42cfbb80f7861e77), {\n        selectedPageId: selectedPageId,\n        pages: pages,\n        onPageChange: $f449f0b23fbc743a$var$onPageChange,\n        darkTheme: darkTheme,\n        ripplesEnabled: ripplesEnabled\n    }), isMobile && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $1471fd671fa71dfa$export$2e2bcd8739ae039), {\n        darkTheme: darkTheme,\n        ripplesEnabled: ripplesEnabled\n    }), /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)(\"div\", {\n        class: \"container app__post-container\"\n    }, /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $956a685afb70a429$export$d074f14c5fd21603), {\n        key: selectedPageId,\n        category: pages.find((c)=>c.id === selectedPageId),\n        posts: posts[selectedPageId]\n    })), isMobile && /*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $8fcbb6e240ba1c0e$export$2e2bcd8739ae039), {\n        selectedPageId: selectedPageId,\n        pages: pages,\n        onPageChange: $f449f0b23fbc743a$var$onPageChange\n    })));\n};\nfunction $f449f0b23fbc743a$var$onPageChange(page) {\n    const pushedState = {\n        pageId: page.id\n    };\n    window.history.pushState(pushedState, page.title, `/${page.id}`);\n    (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).execute((0, $565bb8264fce4bd8$export$723f3965683bce1e)(page.id));\n}\n\n\nvar $606a849e5fc4e0cb$exports = {};\n\"use strict\";\nObject.defineProperty($606a849e5fc4e0cb$exports, \"__esModule\", {\n    value: true\n});\n$606a849e5fc4e0cb$exports.EmptyModifier = void 0;\n// An empty modifier, recommended to use when you want to return a modifier that does nothing.\nconst $606a849e5fc4e0cb$var$EmptyModifier = ()=>null;\n$606a849e5fc4e0cb$exports.EmptyModifier = $606a849e5fc4e0cb$var$EmptyModifier;\n/**\n * The main data store class. Keeps track of the current state, any subscriptions and optionally a history of the state.\n *\n * By default history is disabled.\n */ class $606a849e5fc4e0cb$var$DataStore {\n    /**\n     * Creates a new DataStore.\n     *\n     * @param initialState The starting values for the data store.\n     */ constructor(initialState){\n        this.subscriptions = [];\n        /**\n         * Returns the current state.\n         *\n         * @returns The current state.\n         */ this.state = ()=>this.currentState;\n        this.currentState = initialState;\n    }\n    /**\n     * Executes a modifier on the state.\n     * The modifier is recommended to return a partial state that is merged.\n     *\n     * If the modifier returns the same state (as compared with strict equals) or null then\n     * the state is not updated nor is any subscription triggered.\n     *\n     * @param modifier Modifier function to update the state with.\n     * @param isNewState Marks if this state is a new one. Can be used for history subscriptions to know if to record this state update or not.\n     */ execute(modifier, isNewState = true) {\n        const newState = modifier(this.currentState);\n        if (newState === null || newState === undefined || newState === this.currentState) return;\n        this.currentState = Object.assign({}, this.currentState, newState);\n        this.triggerSubscriptions(modifier, isNewState);\n    }\n    /**\n     * Subscribe to when a part of the state has changed. This will be called on all dispatches.\n     *\n     * @param selector A function for picking the values out of the store you want to check has changed.\n     * @param subscription A callback that will be triggered when the values returned in the selector have changed.\n     * @param comparer An optional comparer for old and new values, these values will the old and new results from the selector, *NOT* the state as a whole.\n     * @param selectorName An optional name to link with the selector to help with debugging.\n     * @returns A function to remove the subscription from the store.\n     */ subscribe(selector, subscription, comparer, selectorName) {\n        const startValue = selector(this.currentState);\n        const obj = {\n            selector: new $606a849e5fc4e0cb$var$SelectorContext(selector, startValue, comparer, selectorName),\n            subscription: subscription\n        };\n        this.subscriptions.push(obj);\n        return ()=>{\n            const index = this.subscriptions.indexOf(obj);\n            if (index >= 0) this.subscriptions.splice(index, 1);\n        };\n    }\n    /**\n     * Adds a callback for anytime the store has changed.\n     *\n     * @param callback A callback for when the store has changed.\n     * @param selectorName An optional name to link with the selector to help with debugging.\n     * @returns A function to remove the subscription from the store.\n     */ subscribeAny(callback, selectorName) {\n        return this.subscribe((state)=>state, callback, undefined, selectorName);\n    }\n    /**\n     * Removes all subscriptions.\n     */ unsubscribeAll() {\n        this.subscriptions = [];\n    }\n    /**\n     * Trigger all the subscriptions that an update has executed.\n     *\n     * @param isNewState Marks if this update is for a new state or not. Used by history subscriptions to know if to record the state change or not.\n     */ triggerSubscriptions(modifier, isNewState) {\n        for (const subscription of this.subscriptions){\n            const newValue = subscription.selector.getValue(this.currentState);\n            if (subscription.selector.checkIfChanged(newValue)) subscription.subscription(this.currentState, newValue, modifier, isNewState);\n        }\n    }\n}\n$606a849e5fc4e0cb$exports.default = $606a849e5fc4e0cb$var$DataStore;\n/**\n * A selector context is a pairing of a selector function, a comparer and a previous value.\n * This is used to actual keep track of when something has changed and the way to compare the change.\n *\n * NOTE: Not indented to be a public class.\n */ class $606a849e5fc4e0cb$var$SelectorContext {\n    constructor(selector, startValue, comparer, name){\n        /**\n         * Select the value from the state using the selector function provided.\n         *\n         * @param state The state to get the value from.\n         * @returns Whatever the selector returns.\n         */ this.getValue = (state)=>this.selector(state);\n        this.selector = selector;\n        this.prevValue = startValue;\n        this.comparer = comparer;\n        this.name = name;\n    }\n    /**\n     * Check if the new value is different from the old one using the comparer.\n     *\n     * @param newValue The new value from the selector.\n     */ checkIfChanged(newValue) {\n        let result = false;\n        if (this.comparer !== undefined) result = !this.comparer(this.prevValue, newValue);\n        else result = newValue !== this.prevValue;\n        this.prevValue = newValue;\n        return result;\n    }\n}\n\n\n\nconst $52312d69baa6bac2$export$8d1d07616c2bb078 = [\n    {\n        \"pageId\": \"about\",\n        \"contents\": [\n            {\n                \"text\": [\n                    \"Software developer from Melbourne Australia.\",\n                    \"I've previously worked at [link](migenius | https://www.migenius.com/), [link](Rome2rio | https://rome2rio.com) and [link](Metro Trains Melbourne | https://metrotrains.com.au).\",\n                    \"You can contact me via [link](email | mailto:alan.lawrey@gmail.com) or find me on [link](Twitter | https://twitter.com/Alan_Lawrey), [link](LinkedIn | https://www.linkedin.com/in/alan-lawrey-b7509b21/) or [link](reddit | https://www.reddit.com/user/astrellon3/).\",\n                    \"These are the things I enjoy working on:\",\n                    \"* Making websites, working on both the frontend and backend.\",\n                    \"* Creating tooling for processing data, both the processes and the UI for controlling those processes.\",\n                    \"* Mentoring in software development.\",\n                    \"* Creating small games. [link](I have a small itch.io page. | https://astrellon.itch.io/)\",\n                    \"* Artwork [link](Instagram | https://www.instagram.com/astrellon_art/), [link](Redbubble | https://astrellon.redbubble.com), [link](TeePublic | https://teepublic.com/user/astrellonart) and [link](Society6 | https://society6.com/astrellon_art).\"\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/alanlawrey2021.jpg\",\n                        \"caption\": \"Me at the beach.\"\n                    }\n                ]\n            },\n            {\n                \"text\": [\n                    \"I also like learning about how things are done.\",\n                    \"As part of that I've re-created several systems for learning purposes.\",\n                    \"This website is an example of that, it is built using my own state management ([link](simple-data-store | https://www.npmjs.com/package/simple-data-store)), virtual dom ([link](simple-tsx-vdom | https://www.npmjs.com/package/simple-tsx-vdom)) with server side rendering and hydration.\",\n                    \"The source for [link](this data driven website | https://github.com/astrellon/astrellon.github.io) along with the [link](data repo | https://github.com/astrellon/simple-portfolio-data).\",\n                    \"The background ripples effect is ported from sirxemic's [link](jQuery Ripples Plugin | https://github.com/sirxemic/jquery.ripples/).\"\n                ]\n            }\n        ]\n    }\n];\n\n\nconst $7a0f1c9045932dda$export$ca6fbb51b35e375c = [\n    {\n        \"pageId\": \"projects\",\n        \"contents\": [\n            {\n                \"text\": [\n                    \"[h3](Lysithea)\",\n                    \"A scripting language designed to live inside other systems to glue them together\",\n                    \"Main features:\",\n                    \"* Lisp style syntax.\",\n                    \"* Builtin support for booleans, doubles, strings, lists and key-value-pair objects.\",\n                    \"* Conditionals as expressions, use an if or switch statement like a function.\",\n                    \"* Virtual machine is very light weight and allows for using many at the same time.\",\n                    \"* Script execution can be controlled by the host environment, limit how many code lines can execute at a time.\",\n                    \"* Simple code, easy to port to new host systems.\",\n                    \"* Ported to C#, C++ and TypeScript. Examples written for Unity.\",\n                    \"* Reasonably good performance, compared to other NLua or MoonSharp for C#.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://www.npmjs.com/package/lysithea-vm\",\n                        \"icon\": \"npm\",\n                        \"title\": \"NPM Page\"\n                    },\n                    {\n                        \"url\": \"https://github.com/astrellon/lysithea-vm\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    },\n                    {\n                        \"url\": \"https://www.youtube.com/watch?v=xeuKEHhp0jc\",\n                        \"icon\": \"youtube\",\n                        \"title\": \"Devlog\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/lysitheaCode.png\",\n                        \"caption\": \"Example of code in Lysithea\",\n                        \"fullSizeUrl\": \"/assets/lysitheaCode.png\"\n                    }\n                ],\n                \"picturePosition\": \"right\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Tailspin)\",\n                    \"A space game about going on an adventure and exploring space with some smart animal companions.\",\n                    \"Main features:\",\n                    \"* Flying your own spaceship from the cockpit.\",\n                    \"* Walk around the interior of your spaceship and interact with different components.\",\n                    \"* Fly around large spaces, past stars, black holes, into nebulae, land on planets and dock with space stations.\",\n                    \"* Dock a smaller ship in your larger ship for different away missions.\",\n                    \"* Explore space to find old shipwrecks to find salvageable parts.\",\n                    \"* Find asteroids to mine for resources that can be used for crafting new parts.\",\n                    \"* Be self-sufficient in deep space by looking after your ship.\",\n                    \"* Made in Unity 2020\",\n                    \"Some of these features are still being worked on, however I am keeping a devlog on YouTube.\",\n                    \"It's very ambitious and who knows how far I'll get, but I've already gotten a lot further than I thought I would.\",\n                    \"Currently I'm not planning on releasing the source code as it also contains paid for Unity assets.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://www.youtube.com/playlist?list=PLTf8ZRLo3EcNqP13W1UTFdxuNUngYzYCV\",\n                        \"icon\": \"youtube\",\n                        \"title\": \"Devlog Playlist\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/tailspinStarPlanetThumbnail.jpg\",\n                        \"caption\": \"A scene showing a nearby planet and the star at the center of the system.\",\n                        \"fullSizeUrl\": \"/assets/tailspinStarPlanet.jpg\"\n                    },\n                    {\n                        \"url\": \"/assets/tailspinTractorBeamsThumbnail.jpg\",\n                        \"caption\": \"A ship using it's tractor beams to pull in some rocks that have just been mined from an asteroid.\",\n                        \"fullSizeUrl\": \"/assets/tailspinTractorBeams.jpg\"\n                    },\n                    {\n                        \"url\": \"/assets/tailspinEquipmentThumbnail.jpg\",\n                        \"caption\": \"An example of a ship engine sitting outside of it's hardpoint before it's installed into the ship.\",\n                        \"fullSizeUrl\": \"/assets/tailspinEquipment.jpg\"\n                    }\n                ],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Simple Virtual DOM)\",\n                    \"I made my own virtual DOM (simple-tsx-vdom) inspired by [link](React | https://reactjs.org/) and [link](Preact | https://preactjs.com/).\",\n                    \"It was created for learning but I wanted to take it to the point where I could build something non-trivial with it so this portfolio is the biggest example of it right now.\",\n                    \"You can find the source for this portfolio page on [link](GitHub | https://github.com/astrellon/simple-portfolio).\",\n                    \"Main features:\",\n                    \"* Small filesize (about 2.5kb after compression) written with no dependencies.\",\n                    \"* Written in fairly straight forward TypeScript that is all class based and can be extended.\",\n                    \"* TSX support (hence the name, also simple-vdom was taken).\",\n                    \"* Optional server-side rendering and client side hydration with the help of two extra packages.\",\n                    \"* A simple diffing algorithm to reduce DOM manipulations.\",\n                    \"* SVG support\",\n                    \"* Supports both class and functional components.\",\n                    \"* Supports custom handling of removed elements. For example if an element is removed from the vdom you can control how it's removed from the DOM, such as via animation before it's completely removed.\",\n                    \"While I have created this website it in it is definitely [strong](NOT) intended for production use!\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://www.npmjs.com/package/simple-tsx-vdom\",\n                        \"icon\": \"npm\",\n                        \"title\": \"NPM Page\"\n                    },\n                    {\n                        \"url\": \"https://github.com/astrellon/simple-tsx-vdom\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/simpleTsxVdom.jpg\",\n                        \"caption\": \"A code snippet from this website.\"\n                    }\n                ]\n            },\n            {\n                \"text\": [\n                    \"[h3](Simple Data Store)\",\n                    \"I like what [link](redux | https://redux.js.org/) and other functional state management libraries have done for UI but I found them too unstructured and too generalised. So I put together my own version that is still general but puts just enough structure to fulfil my needs.\",\n                    \"Unlike simple-tsx-vdom I have used simple-data-store in production to good effect, even without the extra features of browser devtools.\",\n                    \"Main features:\",\n                    \"* Small filesize (about 0.5kb after compression) written with no dependencies.\",\n                    \"* Immutable data structures.\",\n                    \"* Selector support, similar to reselect for redux.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://www.npmjs.com/package/simple-data-store\",\n                        \"icon\": \"npm\",\n                        \"title\": \"NPM Page\"\n                    },\n                    {\n                        \"url\": \"https://github.com/astrellon/simple-data-store\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/simpleDataStore.jpg\",\n                        \"caption\": \"An example of a really simple counter store.\"\n                    }\n                ],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Space Doggo)\",\n                    \"A space adventure/exploration game that I've been working on for a while now.\",\n                    \"The main goal is to explore space and to find things. The scope is deliberately small so that [strong](hopefully) I'll finish it one day.\",\n                    \"Main features:\",\n                    \"* Features flying ships, floating around inside ships, teleporting to planets and walking around on planets.\",\n                    \"* Uses 'space portals' to view other star systems and seamlessly move between locations without loading screens.\",\n                    \"* A compendium of animals and things to fill up that makes use 'live photos' that takes a copy of each object in view so that they can be animated later on.\",\n                    \"* Written in C++ using [link](SFML | https://www.sfml-dev.org/) for cross platform support.\",\n                    \"* Makes use of [link](Box2D | https://box2d.org/) for physics, and [link](earcut | https://github.com/mapbox/earcut.hpp) for creating polygons for collisions.\",\n                    \"* Tile based planets that use [link](tmxlite | https://github.com/fallahn/tmxlite) for loading [link](Tiled | https://www.mapeditor.org/) maps.\",\n                    \"* Uses [link](yoga | https://yogalayout.com/) for UI layout and [link](Dear ImGui | https://github.com/ocornut/imgui) for debug UI.\",\n                    \"* All data is stored in plain JSON and loaded using [link](nlohmann JSON | https://github.com/nlohmann/json) for parsing.\",\n                    \"I've also been keeping a dev log about my progress and uploading them to YouTube.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://github.com/astrellon/simple-space\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    },\n                    {\n                        \"url\": \"https://www.youtube.com/playlist?list=PLTf8ZRLo3EcP7A2US2CpGMTsEW_Kzezx8\",\n                        \"icon\": \"youtube\",\n                        \"title\": \"Devlog Playlist\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/spaceDoggoShipInteriorThumbnail.jpg\",\n                        \"caption\": \"The inside of a ship that you can pilot along with the dog player.\",\n                        \"fullSizeUrl\": \"/assets/spaceDoggoShipInterior.png\"\n                    },\n                    {\n                        \"url\": \"/assets/spaceDoggoPortalThumbnail.jpg\",\n                        \"caption\": \"A spaceship near a portal showing what is visible on the other side.\",\n                        \"fullSizeUrl\": \"/assets/spaceDoggoPortal.png\"\n                    },\n                    {\n                        \"url\": \"/assets/spaceDoggoPlanetSurfaceThumbnail.jpg\",\n                        \"caption\": \"A planet surface with some local birds eating their food next to a nest.\",\n                        \"fullSizeUrl\": \"/assets/spaceDoggoPlanetSurface.png\"\n                    }\n                ],\n                \"picturePosition\": \"right\"\n            },\n            {\n                \"text\": [\n                    \"[h3](LOSS: Lua Operating SyStem)\",\n                    \"A project to create an operating system that's built around using Lua with the intention of being light weight.\",\n                    \"The main use case was for a game where you may want many simple in-game operating systems that look like a *NIX shell but without actually running a VM.\",\n                    \"Main features:\",\n                    \"* A modified version of the Lua VM that supports running multiple Lua States in the same thread using Boost Coroutines\",\n                    \"* A virtual file system the supports mounting different types of file systems.\",\n                    \"* A [link](tmpfs | https://en.wikipedia.org/wiki/Tmpfs) for virtual files (such as /dev and /proc)\",\n                    \"* A persistent file system for long term storage.\",\n                    \"* A [link](Fuse | https://en.wikipedia.org/wiki/Filesystem_in_Userspace) implementation that allows for mounting the persistent hard drives and modifying them outside of the VM.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://github.com/astrellon/loss\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/loss.png\",\n                        \"caption\": \"An example of starting the VM with an init.d file that just prints some text.\",\n                        \"fullSizeUrl\": \"/assets/loss.png\"\n                    }\n                ],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](LOSS v0)\",\n                    \"An earlier attempt at creating an OS for use in a game, specifically for a space game. This was a relatively naive approach that used NLua which is a C# implementation of Lua for use in Unity.\",\n                    \"Main features:\",\n                    \"* Basic shell for running Lua.\",\n                    \"* A simple [link](VT100 | https://en.wikipedia.org/wiki/VT100) terminal emulator that used built in Unity components for text rendering.\",\n                    \"* A very simple file system, however it did not support mounting.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://github.com/astrellon/ScalingOctoDubstep\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/scalingOctoDubstep_small.jpg\",\n                        \"caption\": \"A screenshot of the UI in Unity.\",\n                        \"fullSizeUrl\": \"/assets/scalingOctoDubstep.png\"\n                    }\n                ],\n                \"picturePosition\": \"right\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Unity Voxel Engine)\",\n                    \"A [strong](small) voxel engine aim at being able to create and edit levels entirely within Unity. It performed well enough for the scale of the levels I wanted to created, however getting the editor tools to behave the way I wanted proved to be the most tricky aspect\",\n                    \"Original intended to be in the style of [link](Might and Magic | https://en.wikipedia.org/wiki/Might_and_Magic) series which is why the original repository is called 'mm'\",\n                    \"Main features:\",\n                    \"* Chunked editing and loading. Maps are stored as individual binary files which is optimised for updating chunks during editing.\",\n                    \"* Multiple different shapes beyond a cube such as ramps and different corners to allow for smoother terrain.\",\n                    \"* Unity editing support for creating levels without needing additional tools.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://github.com/astrellon/mm\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/mmVoxels_small.png\",\n                        \"caption\": \"A screenshot of the Voxel Engine UI in Unity.\",\n                        \"fullSizeUrl\": \"/assets/mmVoxels.png\"\n                    }\n                ],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](RPG Game)\",\n                    \"A topdown 2D RPG game engine written in C++ built using minimal dependencies for the purpose of learning.\",\n                    \"This is a fairly old project now, but it does represent a lot of learning in terms of C++, integrating a scripting language, handling modding, dealing with complex UI and handling an audio system.\",\n                    \"Main features:\",\n                    \"* Tile based 2D graphics with a tile overlapping system for blending between tiles.\",\n                    \"* Sound system that supports streaming OGG and WAV files.\",\n                    \"* Lua Bindings for controlling just about every aspect of the game. From how a new game is created and loaded to how a door should behave when interacted with.\",\n                    \"* Maps are created through Lua and has a mechanism for determining if the map is being played new or loaded from disk, allowing for map scripts to upgrade old save files.\",\n                    \"* A dialogue system based on The Elder Scrolls: Morrowind with topics, keywords and actions bound to those keywords.\",\n                    \"* HTML documentation taken from the C++ comments using a Python script.\",\n                    \"* In game text uses a simplistic CSS and HTML system for rich text.\",\n                    \"* An in game map editor for creating new levels.\"\n                ],\n                \"links\": [\n                    {\n                        \"url\": \"https://github.com/astrellon/rouge\",\n                        \"icon\": \"github\",\n                        \"title\": \"Github Repository\"\n                    }\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/rouge.png\",\n                        \"caption\": \"A screenshot of the RPG game\",\n                        \"fullSizeUrl\": \"/assets/rouge.png\"\n                    },\n                    {\n                        \"url\": \"/assets/rougeMapEditor.png\",\n                        \"caption\": \"A screenshot of the in game map editor\",\n                        \"fullSizeUrl\": \"/assets/rougeMapEditor.png\"\n                    }\n                ],\n                \"picturePosition\": \"right\"\n            }\n        ]\n    }\n];\n\n\nconst $6cb70c359ba2c0eb$export$66faccf4f494e531 = [\n    {\n        \"pageId\": \"work\",\n        \"contents\": [\n            {\n                \"text\": [\n                    \"[post-header](Three Divers | JAN 2020 - PRESENT)\",\n                    \"Working on a freight multi-modal routing application for finding how to get cargo from A to B.\",\n                    \"Currently not released to the public so can't go into details too much.\",\n                    \"My work included:\",\n                    \"* A content server for processing data from multiple data sources into a unified structure that can then be manipulated further manually.\",\n                    \"* A main server for using the processed data for routing and cataloging relationships between the data.\",\n                    \"* A frontend for manipulating the data on in the content server.\",\n                    \"* Hosted on AWS using EC2, load balancers, RDS and S3.\"\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/threeDiversMockThumbnail.jpg\",\n                        \"caption\": \"A basic graphic of routing across different modes.\",\n                        \"fullSizeUrl\": \"/assets/threeDiversMock.jpg\"\n                    }\n                ],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[post-header](Metro Trains Melbourne | SEP 2018 - NOV 2020)\",\n                    \"Metro Trains Melbourne needed a tool for monitoring real time voltages and currents for testing their new trains.\",\n                    \"This work combined hardware installed in the field (created by my co-worker) and a server with a front end (created by me)\",\n                    \"The hardware was made up of an industrial PC with a USB oscilloscope and 4G modem\",\n                    \"My work included:\",\n                    \"* Creating a backend in .Net Core that received the data.\",\n                    \"* Creating the frontend for use on a PC or mobile, built using Typescript and React.\",\n                    \"* Handling displaying live data of up to 120k samples on a mobile device.\",\n                    \"* Storing, retrieving and processes all the data, which ranged between 40k samples per second to 120k samples per second.\",\n                    \"* Utilising various Amazon Web Services such as EC2 to host the server, RDS to host the database for users and config, S3 for long term storage of raw data and SQS as a backup connection should the server go down.\"\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/mtmGraphs_small.jpg\",\n                        \"caption\": \"An example of live data from field units being displayed on a web UI.\"\n                    },\n                    {\n                        \"url\": \"/assets/mtmDataLookup_small.jpg\",\n                        \"caption\": \"An example of the data lookup UI for retrieving old data.\"\n                    },\n                    {\n                        \"url\": \"/assets/mtmDataLookup2_small.jpg\",\n                        \"caption\": \"An example of old data that has been looked up.\"\n                    }\n                ]\n            },\n            {\n                \"text\": [\n                    \"[post-header](Rome2rio | OCT 2014 - JUL 2018)\",\n                    \"Rome2rio is a travel search website used for finding and comparing different routes from anywhere in the world. It specialised in ground transport.\",\n                    \"I focused on adding timetables, buying tickets and working on internal tools for updating and creating routes live.\",\n                    \"My work included:\",\n                    \"* Adding schedule information and the ability to buy tickets directly through Rome2rio for UK trains.\",\n                    \"* Internal tools for modifying their data through a web UI (not pictured).\",\n                    \"* Expanding upon and improved the infrastructure of their tooling.\",\n                    \"* For two years I mentored someone which resulted in them being able to shift from a non-dev role into a junior software dev.\"\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/rome2rioTickets_small.png\",\n                        \"caption\": \"An example of buying a train ticket in the UK directly with Rome2rio.\"\n                    },\n                    {\n                        \"url\": \"/assets/rome2rioSchedules.png\",\n                        \"caption\": \"An example of a train timetable in Melbourne.\"\n                    }\n                ],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[post-header](miGenius and mental images | JAN 2008 - OCT - 2014)\",\n                    \"mental images are a company that specialises in photographic rendering using ray and path tracing software.\",\n                    \"After 3 years the Melbourne office split off to form the company migenius which continued to do the same work and allowed for working on stand alone products.\",\n                    \"Bloom Unit was their first product and combined the ease of using SketchUp's 3d editing with real time photographic images.\",\n                    \"My work included:\",\n                    \"* The interface between SketchUp (ruby) and Bloom Unit (C++) for keeping the 3d scene in sync.\",\n                    \"* The UI (Internet Explorer 6) for adjusting the render settings and configuring the materials.\",\n                    \"We also worked on other projects for various clients:\",\n                    \"* Integrating Bloom Unit into Autodesk Revit for Oldcastle.\",\n                    \"* Web visualisation projects for Obayashi Corporation and Shimizu Corporation.\",\n                    \"* A product visualiser for Takemoto products. [link](Bottle 3d Visualiser | http://www3d1.takemotokk.co.jp/takemoto/?lang=en)\",\n                    \"* A product visualiser for Christ Jewellery. [link](Ring Configurator | https://www.christ.de/)\"\n                ],\n                \"pictures\": [\n                    {\n                        \"url\": \"/assets/bloomunit_small.jpg\",\n                        \"caption\": \"A screenshot of SketchUp with Bloom Unit running.\"\n                    },\n                    {\n                        \"url\": \"/assets/takemoto_small.jpg\",\n                        \"caption\": \"A screenshot of Takemoto's 3d Visualizer being used.\"\n                    },\n                    {\n                        \"url\": \"/assets/christRingConfigurator_small.jpg\",\n                        \"caption\": \"A screenshot of Christ Ring Configurator being used.\"\n                    }\n                ]\n            }\n        ]\n    }\n];\n\n\nconst $9da19770fa74e87d$export$c717c2ee03fc6c49 = [\n    {\n        \"id\": \"about\",\n        \"title\": \"About\",\n        \"defaultPage\": true\n    },\n    {\n        \"id\": \"work\",\n        \"title\": \"Work\"\n    },\n    {\n        \"id\": \"projects\",\n        \"title\": \"Projects\"\n    }\n];\n\n\nfunction $f6c5ad660fb3ac27$var$combinePosts(input) {\n    const posts = {};\n    for (const post of input){\n        const list = posts[post.pageId] || (posts[post.pageId] = []);\n        list.push(post);\n    }\n    return posts;\n}\nconst $f6c5ad660fb3ac27$var$posts = [\n    ...(0, $52312d69baa6bac2$export$8d1d07616c2bb078),\n    ...(0, $7a0f1c9045932dda$export$ca6fbb51b35e375c),\n    ...(0, $6cb70c359ba2c0eb$export$66faccf4f494e531)\n];\nlet $f6c5ad660fb3ac27$var$initialPageId = \"\";\nfor (const page of (0, $9da19770fa74e87d$export$c717c2ee03fc6c49))if (page.defaultPage) {\n    $f6c5ad660fb3ac27$var$initialPageId = page.id;\n    break;\n}\n(0, $565bb8264fce4bd8$export$fa23577ed00dcf0e)(new (0, (/*@__PURE__*/$parcel$interopDefault($606a849e5fc4e0cb$exports)))({\n    pages: (0, $9da19770fa74e87d$export$c717c2ee03fc6c49),\n    posts: $f6c5ad660fb3ac27$var$combinePosts($f6c5ad660fb3ac27$var$posts),\n    backgrounds: {\n        dark: [],\n        light: []\n    },\n    selectedPageId: $f6c5ad660fb3ac27$var$initialPageId,\n    darkTheme: false,\n    postsHeight: 0,\n    isMobile: false,\n    ripplesEnabled: true\n}));\nfunction $f6c5ad660fb3ac27$export$17a469542330eb1b(state) {\n    return ()=>{\n        return state;\n    };\n}\n\n\nconst $e14ef26123a5e7d3$export$91b4748c274f6aab = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAAMFBMVEXly+rzyu31yufuzOvs0Ojn0+fe2Onb2ubv1eDW3eb02N3d3+Ll397w3tr239b64NFLDr1kAAAKIUlEQVR42u3dzWmdVxSFYQ0kMAL/lBDHDbgGNyBIAwKXkEYEIbFxFRq7BJWgkccaeSyuftLA1eCDs979Lt2rAjJ4wFn77HW/c06eM38/9v799+fev5P9f+fPwN9J6L/7cy/At/0An/cDvGkGuNkL8H0TwGkzwO3+fwP7Af544d/A72KAu/0AXzYB/CoGuN8P8NcmgOtigN1+gL/3Anx6AeCqGOBxP8A/mwAuDgXgpUHgXTHA036AfzcBvC0GeGES2jYKvmkGWDEJVQNsmoQ+zI2CMYC7BQDEKEgD6EbBGMBuyyg4OAnFAB5WjIKXxQCbJqGPLwC8LwZ4KhkFYwAtS7EcwKZRcG4SygHcLNgKnjUDrBgFT5oB7jq2gjmA+xWT0HUxwAuj4FfZKJgDKBkFcwBLRsF3xQAlS7Fg0PxYMAmdNwN09KNBgI5+NAjQ0Y8GATqWYkGAXUU/ygPI+tEgQEc/agEYW4oFATpGweTKoaIfTQJU9KNJgIp+NAlQ0Y8OALhGwSRART+aBKhYiiUBKvrRJEBFPxrtXhr60ShAQz8aBWjoR6MADf1o9L/f0I9GARr60ShAQz8aBWgYBaMADf1oFKBhKZZNmYJ+NAtQ0I9mAW62DAIz/WgWoKAfzQIULMWyAAX9aBbgwT8KZgEK+lERwMxSLAtQMAqG9w3+pVgYwN+PhgH8S7EwgH8pNgPwxTMJhQH8/WgYwL8UCwP4+9EwgL8fTRcv+n40DaAfBdMA+n40DaAfBdMA+lEwDaC/VC0NoO9H0wD6UTANoO9H0wD6pVj8igJ7PxoHsPejcQB7PxoHsPejcQB7PxoH2Ml/KhcHsPejcYAlk9BFMYB9KTYFoBkF85dVyZdieQB5P5oHkC/F8gDy70fHACz9aB5A3o/mAeRLsTyAvB/NA8hHQeDWTnc/CgC4R0EAwN2PAgDuURAAcPejAIC7HwUA3P0oAOAeBQEAdz8KALiXYgCAux8lANT9KAGg7kcJAHU/SgCo+1ECQN2PEgDqfpQAUPejBIB6KTYI4BgFCQD1UgwBuBGPggiAeSmGAJj70UkAxSiIAJj7UQTAvBRDAJbcpPG+GMA8CiIA5n6UARCPggzAip/KnTUDiEdBBmBJP/qrGEDcjzIA4n6UARCPggyA+FI1BkC8FGMAxKMgBODtRyEAbz8KAXj7UQjAuxSDALz9KATg7UchAG8/CgF4l2KzAIJREALwLsVmAb4dDoB2KUYBaPvRYYD5UZAC0PajFIB2KUYBaL8fpQC0oyAFoF2KYQDWURADsPajGIB1FMQArP0oBmDtRzEAaz+KASwZBS+KAaz9KAZgXYphANZRkAOQLsU4AGk/ygFI+1EOQLoU4wCkSzEOQNqPcgDSfpQDkC7FxgGmR0EOQLoUGwf4fjgAzqUYCODsR+cBhpdiIIBzFAQBnP0oCODsR0EA5ygIAjiXYiSAchQkAZT9KAmgHAVJAGU/SgIo+1ESQNmPkgDKfpQEUPajJIByKUYCKEdBFMDYj6IAxn4UBTD2oyiAsR9FAXYrRsGr1wcwOgqiAMZ+FAUwLsUMAKOjIApgXIqxAML3R1kA4VJMDMCMgiyAsB9lAYT9KAsg7EdZAGE/ygIIR0EWQLgUgwF8oyAM4OtHYQDfKAgD+PpRGMDXj8IAvqUYDODrR2EA3/ujMIBvKQYD+EZBGkDXj9IAtwtGwdPXBzC4FKMBdP0oDaDrRyUAc6MgDaDrR2kA3VJMAjA3CtIAuqUYDrDi/dGzZgDbUswNAIyCOICtH8UBbP0oDmDrR3EAWz+KA9hGQRzAthTjAWSjIA8g60d5ANkoyAPI+lEeQNaP8gCypRgPIOtHeQBZP8oDyJZiPIBsFBwAcPWjAwCuflQDMLUUGwBw9aMDAK5+1AMwNAoOALj6UTtAfCk2AOAaBQcAXEuxCQBVPzoBoFqKTQDcmUbBCQDVUmwCQNWPTgCo+tEJAFU/OgGg6kcnAFRLsREA0yg4AmDqR0cAlizFmgFM/egIgGkUHAEwLcVGAEz96AiAqR8dATAtxUYAlkxC568PYKQfnQG43QLwIdqPmgBGHp2aARD1ozMAO88oOAMgen90BkC0FCsAyC7FZgCWjILnxQCipdgQgKcfHQJYMQmdNgN4+tEhAM9SbAjA048OAXj60SEAzyg4BLCkH31bDODpR6cANKPgFICmH50C0PSjUwCafnQKQDMKHgEa/h+QXIwfU+A4CB34VvR4GjwuRHoHweaVmOenkkMAnl8Lq5qhw6nGRJ9MzADcr1gKN/8+QHSFwAyA6NPJgt8Jnry+3wmavh83/Vj660AIqH4ufzjfC9x5fidp+mhq5vv52s/mmr8bPPgvRw/+42lTCBxvkPBcojJ0s7D+Gp30jYrHm6RKQ6D5LrGdZx30bLpQ8XBulHRdL6+5VXZbCDTfKit7Y6P0bvHLYgDVSaD2gYXfxQArQmDhw7vHV2YOPARK3xq7KAaQhYDmvcHDeXBRFgLHV2ePDy8feAi4X59/jY+v20IAB7CFAA5gCwEaQBcCNMDDFgAiBGgAXQjQALL3NnkAXQjQALoQgAE89yYMATxuOQl8JEIABvCFAAzgCwEY4GYLQP7dcR7AFwIsgDAEWIDHFSeBy2IAYQiwAK7nVgcAPNcoDgEIQwAFkD27zgO4npsdADCGAApgDAEUQPXW6ASAMQRIAGUIkAAPxhAgAZQhQAIoQ4AEuBGeBFAAZQiAAM4QAAGUJwESwBkCIMCSELguBlCeBEgA0RN7IwDSEOAAVE/OTwBIQ4ADcJ4EQIBb5UkABHCeBDgAawhgANYQwABM762PAFhDAAOQngQ4AOlJAAPQhgAFsCQE3hUDaEOAAtCGAAUgem5+BkAbAhCANwQgAG8IQADeEIAAvCEAAXhDAALwhgADIA4BBkAcAgyAOAQYAGkxzAGIQ4ABEIcAAmAOAQTAHAIIwJLLk66KAcQnAQbAHAIIwIp7M1IhQACoQ4AAcD2oMACgDgEC4E52jSoOIHpfcwbgRnwSIACePI8szwCoTwIEgHkdhAC4QwAAUJ8ECAB3COQB5CGQB3CfBAAA90kAAJCHQB5AHgJ5ANfTajyAPQTiAPKTQB7AHgJxAHsIxAHc6yAA4Ke5EwAA9CGQBrCfBOIADyvWQZfFAPf2EEgD6EMgDbBiHXT2XAygD4EwgD8EwgCyR5Z5AH8IhAHs66A4gH0dFAfwh0AWQL8OSgMUhEAWoCAEsgD+k0AYoCAEsgAFIRAFePKfBLIADSEQBdgUAp9mQiAKcFcQAlEA/zooDLApBD7PhEAS4LEhBJIA/k4gDLArOAlEARpOAlGAihBIAvwsOAkkAZ4K1kFRgIqTQBJg13ASSAJUnASSAA3roChARwjkACrWQUmAJSFwUQzQcRIIAnScBIIAJSGQA7A+qEABtIRADKDkJJADWBICV8UAJSeBHMCKEDh9LgZoCYHn/wG5DnWpPJllkwAAAABJRU5ErkJggg==\";\nconst $e14ef26123a5e7d3$export$ede4ebd46660008d = \"data:image/png;base64,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\";\nconst $e14ef26123a5e7d3$export$1d4a845b6574681a = \"url(\" + $e14ef26123a5e7d3$export$91b4748c274f6aab + \")\";\nconst $e14ef26123a5e7d3$export$1882b020a5eb10ec = \"url(\" + $e14ef26123a5e7d3$export$ede4ebd46660008d + \")\";\nclass $e14ef26123a5e7d3$var$InternalImage {\n    onLoaded(callback) {\n        if (this.loaded) callback(this.image);\n        else this.callback = callback;\n    }\n    load(url) {\n        this.image.onload = ()=>{\n            this.loaded = true;\n            if (this.callback) this.callback(this.image);\n        };\n        this.image.onerror = (e)=>{\n            console.error(\"Failed to load image\", url, e);\n        };\n        this.image.src = url;\n        return this;\n    }\n    constructor(){\n        this.image = new Image();\n        this.loaded = false;\n    }\n}\nconst $e14ef26123a5e7d3$export$cf8b0e0922316654 = new $e14ef26123a5e7d3$var$InternalImage().load($e14ef26123a5e7d3$export$91b4748c274f6aab);\nconst $e14ef26123a5e7d3$export$c796c27bbab22cc2 = new $e14ef26123a5e7d3$var$InternalImage().load($e14ef26123a5e7d3$export$ede4ebd46660008d);\n\n\nclass $b2dae528be745350$export$892596cec99bc70e {\n    static generateColor(colorPalette, brightness) {\n        let hue;\n        let saturation;\n        if (!(colorPalette.length > 0)) {\n            hue = Math.random();\n            saturation = 1.0;\n        } else {\n            const randomIndex = Math.floor(Math.random() * colorPalette.length);\n            const color = colorPalette[randomIndex];\n            const HSVcolor = $b2dae528be745350$export$892596cec99bc70e.HEXtoHSV(color);\n            hue = HSVcolor.h;\n            saturation = HSVcolor.s;\n        }\n        const c = $b2dae528be745350$export$892596cec99bc70e.HSVtoRGB(hue, saturation, brightness);\n        c.r *= 0.15;\n        c.g *= 0.15;\n        c.b *= 0.15;\n        return c;\n    }\n    static HEXtoHSV(hex) {\n        hex = hex.replace(\"#\", \"\");\n        const r = parseInt(hex.substring(0, 2), 16) / 255;\n        const g = parseInt(hex.substring(2, 4), 16) / 255;\n        const b = parseInt(hex.substring(4, 6), 16) / 255;\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n        let h, s;\n        if (max === min) h = 0;\n        else if (max === r) h = ((g - b) / (max - min) + 6) % 6;\n        else if (max === g) h = (b - r) / (max - min) + 2;\n        else h = (r - g) / (max - min) + 4;\n        h /= 6;\n        if (max === 0) s = 0;\n        else s = (max - min) / max;\n        const v = max;\n        return {\n            h: h,\n            s: s,\n            v: v\n        };\n    }\n    static HEXtoRGB(hex) {\n        hex = hex.replace(\"#\", \"\");\n        const r = parseInt(hex.substring(0, 2), 16);\n        const g = parseInt(hex.substring(2, 4), 16);\n        const b = parseInt(hex.substring(4, 6), 16);\n        return {\n            r: r,\n            g: g,\n            b: b\n        };\n    }\n    static HSVtoRGB(h, s, v) {\n        let r = 0, g = 0, b = 0;\n        const i = Math.floor(h * 6);\n        const f = h * 6 - i;\n        const p = v * (1 - s);\n        const q = v * (1 - f * s);\n        const t = v * (1 - (1 - f) * s);\n        switch(i % 6){\n            case 0:\n                r = v, g = t, b = p;\n                break;\n            case 1:\n                r = q, g = v, b = p;\n                break;\n            case 2:\n                r = p, g = v, b = t;\n                break;\n            case 3:\n                r = p, g = q, b = v;\n                break;\n            case 4:\n                r = t, g = p, b = v;\n                break;\n            case 5:\n                r = v, g = p, b = q;\n                break;\n        }\n        return {\n            r: r,\n            g: g,\n            b: b\n        };\n    }\n    static normalizeColor(input) {\n        const output = {\n            r: input.r / 255,\n            g: input.g / 255,\n            b: input.b / 255\n        };\n        return output;\n    }\n}\n\n\n\nconst $e4bb62e4da830b97$export$f84bd70098573c5c = {\n    simResolution: 128,\n    dyeResolution: 1024,\n    captureResolution: 512,\n    densityDissipation: 1,\n    velocityDissipation: 0.2,\n    pressure: 0.8,\n    pressureIterations: 20,\n    curl: 30,\n    splatRadius: 0.25,\n    splatForce: 6000,\n    shading: true,\n    colorful: true,\n    colorUpdateSpeed: 10,\n    colorPalette: [],\n    hover: true,\n    backgroundColor: \"#000000\",\n    transparent: false,\n    brightness: 0.5,\n    bloom: true,\n    bloomIterations: 8,\n    bloomResolution: 256,\n    bloomIntensity: 0.8,\n    bloomThreshold: 0.6,\n    bloomSoftKnee: 0.7\n};\n\n\nclass $c85e4e7d4c00b36f$export$462bb059fed9d9e5 {\n    static getUniforms(program, gl) {\n        const uniforms = {};\n        const uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n        for(let i = 0; i < uniformCount; i++){\n            const uniformName = gl.getActiveUniform(program, i).name;\n            uniforms[uniformName] = gl.getUniformLocation(program, uniformName);\n        }\n        return uniforms;\n    }\n    static createProgram(vertexShader, fragmentShader, gl) {\n        const program = gl.createProgram();\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        gl.linkProgram(program);\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) console.trace(gl.getProgramInfoLog(program));\n        return program;\n    }\n    static compileShader(gl, type, source, keywords) {\n        source = $c85e4e7d4c00b36f$export$462bb059fed9d9e5.addKeywords(source, keywords);\n        const shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            console.trace(gl.getShaderInfoLog(shader));\n            return null;\n        }\n        return shader;\n    }\n    static addKeywords(source, keywords) {\n        if (keywords == null) return source;\n        let keywordsString = \"\";\n        keywords.forEach((keyword)=>{\n            keywordsString += \"#define \" + keyword + \"\\n\";\n        });\n        return keywordsString + source;\n    }\n}\n\n\nclass $137c410d0534d21d$export$a2d8b23205c25948 {\n    constructor(vertexShader, fragmentShaderSource, gl){\n        this.gl = gl;\n        this.vertexShader = vertexShader;\n        this.fragmentShaderSource = fragmentShaderSource;\n        this.programs = [];\n        this.activeProgram = null;\n        this.uniforms = {};\n    }\n    setKeywords(keywords) {\n        let hash = 0;\n        for (const keyword of keywords)hash += this.hashCode(keyword);\n        let program = this.programs[hash];\n        if (program == null) {\n            const fragmentShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(this.gl, this.gl.FRAGMENT_SHADER, this.fragmentShaderSource, keywords);\n            program = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).createProgram(this.vertexShader, fragmentShader, this.gl);\n            this.programs[hash] = program;\n        }\n        if (program == this.activeProgram) return;\n        this.uniforms = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).getUniforms(program, this.gl);\n        this.activeProgram = program;\n    }\n    hashCode(s) {\n        if (s.length === 0) return 0;\n        let hash = 0;\n        for(let i = 0; i < s.length; i++){\n            hash = (hash << 5) - hash + s.charCodeAt(i);\n            hash |= 0; // Convert to 32bit integer\n        }\n        return hash;\n    }\n    bind() {\n        this.gl.useProgram(this.activeProgram);\n    }\n}\n\n\n\nclass $9457981fb44ac169$export$b56007f12edf0c17 {\n    constructor(colorPalette, brightness){\n        this.id = -1;\n        this.texcoordX = 0;\n        this.texcoordY = 0;\n        this.prevTexcoordX = 0;\n        this.prevTexcoordY = 0;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.down = false;\n        this.moved = false;\n        this.color = (0, $b2dae528be745350$export$892596cec99bc70e).generateColor(colorPalette, brightness);\n    }\n    updatePointerDownData(id, posX, posY, canvas, colorPalette, brightness) {\n        this.id = id;\n        this.down = true;\n        this.moved = false;\n        this.texcoordX = posX / canvas.width;\n        this.texcoordY = 1.0 - posY / canvas.height;\n        this.prevTexcoordX = this.texcoordX;\n        this.prevTexcoordY = this.texcoordY;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.color = (0, $b2dae528be745350$export$892596cec99bc70e).generateColor(colorPalette, brightness);\n    }\n    updatePointerMoveData(posX, posY, canvas, hover) {\n        this.prevTexcoordX = this.texcoordX;\n        this.prevTexcoordY = this.texcoordY;\n        this.texcoordX = posX / canvas.width;\n        this.texcoordY = 1.0 - posY / canvas.height;\n        this.deltaX = this.correctDeltaX(this.texcoordX - this.prevTexcoordX, canvas);\n        this.deltaY = this.correctDeltaY(this.texcoordY - this.prevTexcoordY, canvas);\n        if (hover) this.moved = Math.abs(this.deltaX) > 0 || Math.abs(this.deltaY) > 0;\n        else this.moved = this.down;\n    }\n    updatePointerUpData() {\n        this.down = false;\n    }\n    correctDeltaX(delta, canvas) {\n        const aspectRatio = canvas.width / canvas.height;\n        if (aspectRatio < 1) delta *= aspectRatio;\n        return delta;\n    }\n    correctDeltaY(delta, canvas) {\n        const aspectRatio = canvas.width / canvas.height;\n        if (aspectRatio > 1) delta /= aspectRatio;\n        return delta;\n    }\n}\n\n\n\nclass $d3cfde90817ef108$export$b6c59b989905b650 {\n    constructor(vertexShader, fragmentShader, gl){\n        this.gl = gl;\n        this.uniforms = {};\n        this.program = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).createProgram(vertexShader, fragmentShader, gl);\n        this.uniforms = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).getUniforms(this.program, gl);\n    }\n    bind() {\n        this.gl.useProgram(this.program);\n    }\n}\n\n\nclass $1de11c59caf3a7db$export$2f2344543032b459 {\n    constructor(gl, shaders){\n        this.blurProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.blurVertexShader, shaders.blurShader, gl);\n        this.copyProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.copyShader, gl);\n        this.clearProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.clearShader, gl);\n        this.colorProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.colorShader, gl);\n        this.bloomPrefilterProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.bloomPrefilterShader, gl);\n        this.bloomBlurProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.bloomBlurShader, gl);\n        this.bloomFinalProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.bloomFinalShader, gl);\n        this.splatProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.splatShader, gl);\n        this.advectionProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.advectionShader, gl);\n        this.divergenceProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.divergenceShader, gl);\n        this.curlProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.curlShader, gl);\n        this.vorticityProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.vorticityShader, gl);\n        this.pressureProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.pressureShader, gl);\n        this.gradienSubtractProgram = new (0, $d3cfde90817ef108$export$b6c59b989905b650)(shaders.baseVertexShader, shaders.gradientSubtractShader, gl);\n    }\n}\n\n\n\nclass $cc792d2a70ad2070$export$a40ce7f85e84d230 {\n    constructor(gl, ext){\n        this.displayShaderSource = `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform sampler2D uBloom;\n    uniform sampler2D uDithering;\n    uniform vec2 ditherScale;\n    uniform vec2 texelSize;\n\n    vec3 linearToGamma (vec3 color) {\n    color = max(color, vec3(0));\n    return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n    }\n\n    void main () {\n    vec3 c = texture2D(uTexture, vUv).rgb;\n\n    #ifdef SHADING\n    vec3 lc = texture2D(uTexture, vL).rgb;\n    vec3 rc = texture2D(uTexture, vR).rgb;\n    vec3 tc = texture2D(uTexture, vT).rgb;\n    vec3 bc = texture2D(uTexture, vB).rgb;\n\n    float dx = length(rc) - length(lc);\n    float dy = length(tc) - length(bc);\n\n    vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n    vec3 l = vec3(0.0, 0.0, 1.0);\n\n    float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n    c *= diffuse;\n    #endif\n\n    #ifdef BLOOM\n    vec3 bloom = texture2D(uBloom, vUv).rgb;\n    float noise = texture2D(uDithering, vUv * ditherScale).r;\n    noise = noise * 2.0 - 1.0;\n    bloom += noise / 255.0;\n    bloom = linearToGamma(bloom);\n    c += bloom;\n    #endif\n\n    float a = max(c.r, max(c.g, c.b));\n    gl_FragColor = vec4(c, a);\n    }\n    `;\n        this.baseVertexShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.VERTEX_SHADER, `\n    precision highp float;\n\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform vec2 texelSize;\n\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        vL = vUv - vec2(texelSize.x, 0.0);\n        vR = vUv + vec2(texelSize.x, 0.0);\n        vT = vUv + vec2(0.0, texelSize.y);\n        vB = vUv - vec2(0.0, texelSize.y);\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`);\n        this.blurVertexShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.VERTEX_SHADER, `\n    precision highp float;\n\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform vec2 texelSize;\n\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        float offset = 1.33333333;\n        vL = vUv - texelSize * offset;\n        vR = vUv + texelSize * offset;\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`);\n        this.blurShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform sampler2D uTexture;\n\n    void main () {\n        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;\n        sum += texture2D(uTexture, vL) * 0.35294117;\n        sum += texture2D(uTexture, vR) * 0.35294117;\n        gl_FragColor = sum;\n    }\n`);\n        this.copyShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n\n    void main () {\n        gl_FragColor = texture2D(uTexture, vUv);\n    }\n`);\n        this.clearShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float value;\n\n    void main () {\n        gl_FragColor = value * texture2D(uTexture, vUv);\n    }\n`);\n        this.colorShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n\n    uniform vec4 color;\n\n    void main () {\n        gl_FragColor = color;\n    }\n`);\n        this.bloomPrefilterShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform vec3 curve;\n    uniform float threshold;\n\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n        float br = max(c.r, max(c.g, c.b));\n        float rq = clamp(br - curve.x, 0.0, curve.y);\n        rq = curve.z * rq * rq;\n        c *= max(rq, br - threshold) / max(br, 0.0001);\n        gl_FragColor = vec4(c, 0.0);\n    }\n`);\n        this.bloomBlurShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum;\n    }\n`);\n        this.bloomFinalShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform float intensity;\n\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum * intensity;\n    }\n`);\n        this.splatShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTarget;\n    uniform float aspectRatio;\n    uniform vec3 color;\n    uniform vec2 point;\n    uniform float radius;\n\n    void main () {\n        vec2 p = vUv - point.xy;\n        p.x *= aspectRatio;\n        vec3 splat = exp(-dot(p, p) / radius) * color;\n        vec3 base = texture2D(uTarget, vUv).xyz;\n        gl_FragColor = vec4(base + splat, 1.0);\n    }\n`);\n        this.advectionShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uSource;\n    uniform vec2 texelSize;\n    uniform vec2 dyeTexelSize;\n    uniform float dt;\n    uniform float dissipation;\n\n    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n        vec2 st = uv / tsize - 0.5;\n\n        vec2 iuv = floor(st);\n        vec2 fuv = fract(st);\n\n        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n    }\n\n    void main () {\n    #ifdef MANUAL_FILTERING\n        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n        vec4 result = bilerp(uSource, coord, dyeTexelSize);\n    #else\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n        vec4 result = texture2D(uSource, coord);\n    #endif\n        float decay = 1.0 + dissipation * dt;\n        gl_FragColor = result / decay;\n    }`, ext.supportLinearFiltering ? null : [\n            \"MANUAL_FILTERING\"\n        ]);\n        this.divergenceShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uVelocity, vL).x;\n        float R = texture2D(uVelocity, vR).x;\n        float T = texture2D(uVelocity, vT).y;\n        float B = texture2D(uVelocity, vB).y;\n\n        vec2 C = texture2D(uVelocity, vUv).xy;\n        if (vL.x < 0.0) { L = -C.x; }\n        if (vR.x > 1.0) { R = -C.x; }\n        if (vT.y > 1.0) { T = -C.y; }\n        if (vB.y < 0.0) { B = -C.y; }\n\n        float div = 0.5 * (R - L + T - B);\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n    }\n`);\n        this.curlShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uVelocity, vL).y;\n        float R = texture2D(uVelocity, vR).y;\n        float T = texture2D(uVelocity, vT).x;\n        float B = texture2D(uVelocity, vB).x;\n        float vorticity = R - L - T + B;\n        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n    }\n`);\n        this.vorticityShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uCurl;\n    uniform float curl;\n    uniform float dt;\n\n    void main () {\n        float L = texture2D(uCurl, vL).x;\n        float R = texture2D(uCurl, vR).x;\n        float T = texture2D(uCurl, vT).x;\n        float B = texture2D(uCurl, vB).x;\n        float C = texture2D(uCurl, vUv).x;\n\n        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n        force /= length(force) + 0.0001;\n        force *= curl * C;\n        force.y *= -1.0;\n\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity += force * dt;\n        velocity = min(max(velocity, -1000.0), 1000.0);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`);\n        this.pressureShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uDivergence;\n\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        float C = texture2D(uPressure, vUv).x;\n        float divergence = texture2D(uDivergence, vUv).x;\n        float pressure = (L + R + B + T - divergence) * 0.25;\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n    }\n`);\n        this.gradientSubtractShader = (0, $c85e4e7d4c00b36f$export$462bb059fed9d9e5).compileShader(gl, gl.FRAGMENT_SHADER, `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity.xy -= vec2(R - L, T - B);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`);\n    }\n}\n\n\nclass $3613876b5dd1839b$export$5431306cf43de24a {\n    static ditheringTexture(gl) {\n        return $3613876b5dd1839b$export$5431306cf43de24a.createTextureAsync(\"data:image/png;base64,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\", gl);\n    }\n    static getTextureScale(texture, width, height) {\n        return {\n            x: width / texture.width,\n            y: height / texture.height\n        };\n    }\n    static createTextureAsync(url, gl) {\n        const texture = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 1, 1, 0, gl.RGB, gl.UNSIGNED_BYTE, new Uint8Array([\n            255,\n            255,\n            255\n        ]));\n        const obj = {\n            texture: texture,\n            width: 1,\n            height: 1,\n            attach (id) {\n                gl.activeTexture(gl.TEXTURE0 + id);\n                gl.bindTexture(gl.TEXTURE_2D, texture);\n                return id;\n            }\n        };\n        const image = new Image();\n        image.onload = ()=>{\n            obj.width = image.width;\n            obj.height = image.height;\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);\n        };\n        image.src = url;\n        return obj;\n    }\n}\n\n\nclass $707cc163de5d58b7$export$156b30a852a4aab {\n    constructor(container){\n        this.hasStarted = false;\n        this.simResolution = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).simResolution;\n        this.dyeResolution = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).dyeResolution;\n        this.captureResolution = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).captureResolution;\n        this.densityDissipation = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).densityDissipation;\n        this.velocityDissipation = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).velocityDissipation;\n        this.pressure = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).pressure;\n        this.pressureIterations = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).pressureIterations;\n        this.curl = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).curl;\n        this.splatRadius = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).splatRadius;\n        this.splatForce = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).splatForce;\n        this.shading = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).shading;\n        this.colorful = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).colorful;\n        this.colorUpdateSpeed = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).colorUpdateSpeed;\n        this.colorPalette = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).colorPalette;\n        this.hover = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).hover;\n        this.backgroundColor = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).backgroundColor;\n        this.transparent = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).transparent;\n        this.brightness = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).brightness;\n        this.bloom = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).bloom;\n        this.bloomIterations = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).bloomIterations;\n        this.bloomResolution = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).bloomResolution;\n        this.bloomIntensity = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).bloomIntensity;\n        this.bloomThreshold = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).bloomThreshold;\n        this.bloomSoftKnee = (0, $e4bb62e4da830b97$export$f84bd70098573c5c).bloomSoftKnee;\n        this.paused = false;\n        this.drawWhilePaused = false;\n        this.splatStack = [];\n        this.pointers = [];\n        this.bloomFramebuffers = [];\n        this.lastUpdateTime = Date.now();\n        this.colorUpdateTimer = 0.0;\n        this.handleMouseDown = (event)=>{\n            const posX = this.scaleByPixelRatio(event.clientX);\n            const posY = this.scaleByPixelRatio(event.clientY);\n            let pointer = this.pointers.find((p)=>p.id == -1);\n            if (!pointer) pointer = new (0, $9457981fb44ac169$export$b56007f12edf0c17)(this.colorPalette, this.brightness);\n            pointer.updatePointerDownData(-1, posX, posY, this.canvas, this.colorPalette, this.brightness);\n        };\n        this.handleMouseMove = (event)=>{\n            const posX = this.scaleByPixelRatio(event.clientX);\n            const posY = this.scaleByPixelRatio(event.clientY);\n            let pointer = this.pointers.find((p)=>p.id == -1);\n            if (!pointer) pointer = new (0, $9457981fb44ac169$export$b56007f12edf0c17)(this.colorPalette, this.brightness);\n            pointer.updatePointerMoveData(posX, posY, this.canvas, this.hover);\n        };\n        this.handleMouseUp = ()=>{\n            if (!this.hover) this.pointers[0].updatePointerUpData();\n        };\n        this.handleTouchStart = (event)=>{\n            const touches = event.targetTouches;\n            while(touches.length >= this.pointers.length)this.pointers.push(new (0, $9457981fb44ac169$export$b56007f12edf0c17)(this.colorPalette, this.brightness));\n            for(let i = 0; i < touches.length; i++){\n                const posX = this.scaleByPixelRatio(touches[i].pageX);\n                const posY = this.scaleByPixelRatio(touches[i].pageY);\n                this.pointers[i + 1].updatePointerDownData(touches[i].identifier, posX, posY, this.canvas, this.colorPalette, this.brightness);\n            }\n        };\n        this.handleTouchMove = (event)=>{\n            const touches = event.targetTouches;\n            for(let i = 0; i < touches.length; i++){\n                const pointer = this.pointers[i + 1];\n                const posX = this.scaleByPixelRatio(touches[i].pageX);\n                const posY = this.scaleByPixelRatio(touches[i].pageY);\n                pointer.updatePointerMoveData(posX, posY, this.canvas, this.hover);\n            }\n        };\n        this.handleTouchEnd = (event)=>{\n            const touches = event.changedTouches;\n            for (const touch of touches){\n                const pointer = this.pointers.find((pointer)=>pointer.id === touch.identifier);\n                if (!pointer) continue;\n                pointer.updatePointerUpData();\n            }\n        };\n        let canvas = container.querySelector(\"canvas\");\n        if (!canvas) {\n            canvas = document.createElement(\"canvas\");\n            container.appendChild(canvas);\n        }\n        this.canvas = canvas;\n        this.canvas.style.width = \"100%\";\n        this.canvas.style.height = \"100%\";\n        this.resizeCanvas();\n        const { gl: gl, ext: ext } = this.getWebGLContext();\n        this.gl = gl;\n        this.ext = ext;\n        if (this.isMobile()) this.dyeResolution /= 2;\n        if (!this.ext.supportLinearFiltering) {\n            this.dyeResolution /= 2;\n            this.shading = false;\n            this.bloom = false;\n        }\n        const shaders = new (0, $cc792d2a70ad2070$export$a40ce7f85e84d230)(this.gl, this.ext);\n        this.blitInit();\n        this.ditheringTexture = (0, $3613876b5dd1839b$export$5431306cf43de24a).ditheringTexture(this.gl);\n        this.programs = new (0, $1de11c59caf3a7db$export$2f2344543032b459)(this.gl, shaders);\n        this.displayMaterial = new (0, $137c410d0534d21d$export$a2d8b23205c25948)(shaders.baseVertexShader, shaders.displayShaderSource, this.gl);\n        this.update = this.update.bind(this);\n    }\n    start() {\n        this.pointers.push(new (0, $9457981fb44ac169$export$b56007f12edf0c17)(this.colorPalette, this.brightness));\n        this.updateKeywords();\n        this.initFramebuffers();\n        this.update();\n        window.addEventListener(\"mousedown\", this.handleMouseDown);\n        window.addEventListener(\"mousemove\", this.handleMouseMove);\n        window.addEventListener(\"mouseup\", this.handleMouseUp);\n        window.addEventListener(\"touchstart\", this.handleTouchStart, {\n            passive: false,\n            capture: true\n        });\n        window.addEventListener(\"touchmove\", this.handleTouchMove, {\n            passive: false,\n            capture: true\n        });\n        window.addEventListener(\"touchend\", this.handleTouchEnd);\n        this.hasStarted = true;\n    }\n    stop() {\n        this.pointers = [];\n        cancelAnimationFrame(this.animationFrameId);\n        window.removeEventListener(\"mousedown\", this.handleMouseDown);\n        window.removeEventListener(\"mousemove\", this.handleMouseMove);\n        window.removeEventListener(\"mouseup\", this.handleMouseUp);\n        window.removeEventListener(\"touchstart\", this.handleTouchStart);\n        window.removeEventListener(\"touchmove\", this.handleTouchMove);\n        window.removeEventListener(\"touchend\", this.handleTouchEnd);\n        this.hasStarted = false;\n    }\n    scaleByPixelRatio(input) {\n        const pixelRatio = window.devicePixelRatio || 1;\n        return Math.floor(input * pixelRatio);\n    }\n    resizeCanvas() {\n        const width = this.scaleByPixelRatio(this.canvas.clientWidth);\n        const height = this.scaleByPixelRatio(this.canvas.clientHeight);\n        if (this.canvas.width != width || this.canvas.height != height) {\n            this.canvas.width = width;\n            this.canvas.height = height;\n            return true;\n        }\n        return false;\n    }\n    supportRenderTextureFormat(gl, internalFormat, format, type) {\n        const texture = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 4, 4, 0, format, type, null);\n        const fbo = gl.createFramebuffer();\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n        const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        return status == gl.FRAMEBUFFER_COMPLETE;\n    }\n    getSupportedFormat(gl, internalFormat, format, type) {\n        if (!this.supportRenderTextureFormat(gl, internalFormat, format, type)) switch(internalFormat){\n            case gl.R16F:\n                return this.getSupportedFormat(gl, gl.RG16F, gl.RG, type);\n            case gl.RG16F:\n                return this.getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type);\n            default:\n                return null;\n        }\n        return {\n            internalFormat: internalFormat,\n            format: format\n        };\n    }\n    getWebGLContext() {\n        const params = {\n            alpha: true,\n            depth: false,\n            stencil: false,\n            antialias: false,\n            preserveDrawingBuffer: false\n        };\n        let gl = this.canvas.getContext(\"webgl2\", params);\n        const isWebGL2 = !!gl;\n        if (!isWebGL2) gl = this.canvas.getContext(\"webgl\", params) ?? this.canvas.getContext(\"experimental-webgl\", params);\n        let halfFloat;\n        let supportLinearFiltering;\n        if (isWebGL2) {\n            gl.getExtension(\"EXT_color_buffer_float\");\n            supportLinearFiltering = gl.getExtension(\"OES_texture_float_linear\");\n        } else {\n            halfFloat = gl.getExtension(\"OES_texture_half_float\");\n            supportLinearFiltering = gl.getExtension(\"OES_texture_half_float_linear\");\n        }\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        const halfFloatTexType = isWebGL2 ? gl.HALF_FLOAT : halfFloat ? halfFloat.HALF_FLOAT_OES : 0;\n        let formatRGBA;\n        let formatRG;\n        let formatR;\n        if (isWebGL2) {\n            formatRGBA = this.getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, halfFloatTexType);\n            formatRG = this.getSupportedFormat(gl, gl.RG16F, gl.RG, halfFloatTexType);\n            formatR = this.getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType);\n        } else {\n            formatRGBA = this.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n            formatRG = this.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n            formatR = this.getSupportedFormat(gl, gl.RGBA, gl.RGBA, halfFloatTexType);\n        }\n        return {\n            gl: gl,\n            ext: {\n                formatRGBA: formatRGBA,\n                formatRG: formatRG,\n                formatR: formatR,\n                halfFloatTexType: halfFloatTexType,\n                supportLinearFiltering: supportLinearFiltering\n            }\n        };\n    }\n    isMobile() {\n        return /Mobi|Android/i.test(navigator.userAgent);\n    }\n    updateKeywords() {\n        const displayKeywords = [];\n        if (this.shading) displayKeywords.push(\"SHADING\");\n        if (this.bloom) displayKeywords.push(\"BLOOM\");\n        this.displayMaterial.setKeywords(displayKeywords);\n    }\n    initFramebuffers() {\n        const simRes = this.getResolution(this.simResolution);\n        const dyeRes = this.getResolution(this.dyeResolution);\n        const texType = this.ext.halfFloatTexType;\n        const rgba = this.ext.formatRGBA;\n        const rg = this.ext.formatRG;\n        const r = this.ext.formatR;\n        const filtering = this.ext.supportLinearFiltering ? this.gl.LINEAR : this.gl.NEAREST;\n        this.gl.disable(this.gl.BLEND);\n        if (!this._dye) this._dye = this.createDoubleFBO(dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering);\n        else this._dye = this.resizeDoubleFBO(this._dye, dyeRes.width, dyeRes.height, rgba.internalFormat, rgba.format, texType, filtering);\n        if (!this._velocity) this._velocity = this.createDoubleFBO(simRes.width, simRes.height, rg.internalFormat, rg.format, texType, filtering);\n        else this._velocity = this.resizeDoubleFBO(this._velocity, simRes.width, simRes.height, rg.internalFormat, rg.format, texType, filtering);\n        this._divergence = this.createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, this.gl.NEAREST);\n        this._curl = this.createFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, this.gl.NEAREST);\n        this._pressure = this.createDoubleFBO(simRes.width, simRes.height, r.internalFormat, r.format, texType, this.gl.NEAREST);\n        this.initBloomFramebuffers();\n    }\n    getResolution(resolution) {\n        let aspectRatio = this.gl.drawingBufferWidth / this.gl.drawingBufferHeight;\n        if (aspectRatio < 1) aspectRatio = 1.0 / aspectRatio;\n        const min = Math.round(resolution);\n        const max = Math.round(resolution * aspectRatio);\n        if (this.gl.drawingBufferWidth > this.gl.drawingBufferHeight) return {\n            width: max,\n            height: min\n        };\n        else return {\n            width: min,\n            height: max\n        };\n    }\n    createDoubleFBO(w, h, internalFormat, format, type, param) {\n        let fbo1 = this.createFBO(w, h, internalFormat, format, type, param);\n        let fbo2 = this.createFBO(w, h, internalFormat, format, type, param);\n        return {\n            width: w,\n            height: h,\n            texelSizeX: fbo1.texelSizeX,\n            texelSizeY: fbo1.texelSizeY,\n            get read () {\n                return fbo1;\n            },\n            set read (value){\n                fbo1 = value;\n            },\n            get write () {\n                return fbo2;\n            },\n            set write (value){\n                fbo2 = value;\n            },\n            swap () {\n                const temp = fbo1;\n                fbo1 = fbo2;\n                fbo2 = temp;\n            }\n        };\n    }\n    resizeFBO(target, w, h, internalFormat, format, type, param) {\n        const newFBO = this.createFBO(w, h, internalFormat, format, type, param);\n        this.programs.copyProgram.bind();\n        this.gl.uniform1i(this.programs.copyProgram.uniforms.uTexture, target.attach(0));\n        this.blit(newFBO);\n        return newFBO;\n    }\n    resizeDoubleFBO(target, w, h, internalFormat, format, type, param) {\n        if (target.width === w && target.height === h) return target;\n        target.read = this.resizeFBO(target.read, w, h, internalFormat, format, type, param);\n        target.write = this.createFBO(w, h, internalFormat, format, type, param);\n        target.width = w;\n        target.height = h;\n        target.texelSizeX = 1.0 / w;\n        target.texelSizeY = 1.0 / h;\n        return target;\n    }\n    createFBO(w, h, internalFormat, format, type, param) {\n        this.gl.activeTexture(this.gl.TEXTURE0);\n        const texture = this.gl.createTexture();\n        this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, param);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, param);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);\n        const fbo = this.gl.createFramebuffer();\n        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fbo);\n        this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, texture, 0);\n        this.gl.viewport(0, 0, w, h);\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n        const texelSizeX = 1.0 / w;\n        const texelSizeY = 1.0 / h;\n        const gl = this.gl;\n        return {\n            texture: texture,\n            fbo: fbo,\n            width: w,\n            height: h,\n            texelSizeX: texelSizeX,\n            texelSizeY: texelSizeY,\n            attach (id) {\n                gl.activeTexture(gl.TEXTURE0 + id);\n                gl.bindTexture(gl.TEXTURE_2D, texture);\n                return id;\n            }\n        };\n    }\n    initBloomFramebuffers() {\n        const res = this.getResolution(this.bloomResolution);\n        const texType = this.ext.halfFloatTexType;\n        const rgba = this.ext.formatRGBA;\n        const filtering = this.ext.supportLinearFiltering ? this.gl.LINEAR : this.gl.NEAREST;\n        this._bloom = this.createFBO(res.width, res.height, rgba.internalFormat, rgba.format, texType, filtering);\n        this.bloomFramebuffers.length = 0;\n        for(let i = 0; i < this.bloomIterations; i++){\n            const width = res.width >> i + 1;\n            const height = res.height >> i + 1;\n            if (width < 2 || height < 2) break;\n            const fbo = this.createFBO(width, height, rgba.internalFormat, rgba.format, texType, filtering);\n            this.bloomFramebuffers.push(fbo);\n        }\n    }\n    blitInit() {\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.gl.createBuffer());\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([\n            -1,\n            -1,\n            -1,\n            1,\n            1,\n            1,\n            1,\n            -1\n        ]), this.gl.STATIC_DRAW);\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.gl.createBuffer());\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array([\n            0,\n            1,\n            2,\n            0,\n            2,\n            3\n        ]), this.gl.STATIC_DRAW);\n        this.gl.vertexAttribPointer(0, 2, this.gl.FLOAT, false, 0, 0);\n        this.gl.enableVertexAttribArray(0);\n    }\n    blit(target, clear = false) {\n        if (target === null) {\n            this.gl.viewport(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight);\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n        } else {\n            this.gl.viewport(0, 0, target.width, target.height);\n            this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, target.fbo);\n        }\n        if (clear) {\n            this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n            this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n        }\n        this.gl.drawElements(this.gl.TRIANGLES, 6, this.gl.UNSIGNED_SHORT, 0);\n    }\n    multipleSplats(amount) {\n        for(let i = 0; i < amount; i++){\n            const color = (0, $b2dae528be745350$export$892596cec99bc70e).generateColor(this.colorPalette, this.brightness);\n            color.r *= 10.0;\n            color.g *= 10.0;\n            color.b *= 10.0;\n            const x = Math.random();\n            const y = Math.random();\n            const dx = 1000 * (Math.random() - 0.5);\n            const dy = 1000 * (Math.random() - 0.5);\n            this.splat(x, y, dx, dy, color);\n        }\n    }\n    splat(x, y, dx, dy, color) {\n        this.programs.splatProgram.bind();\n        this.gl.uniform1i(this.programs.splatProgram.uniforms.uTarget, this._velocity.read.attach(0));\n        this.gl.uniform1f(this.programs.splatProgram.uniforms.aspectRatio, this.canvas.width / this.canvas.height);\n        this.gl.uniform2f(this.programs.splatProgram.uniforms.point, x, y);\n        this.gl.uniform3f(this.programs.splatProgram.uniforms.color, dx, dy, 0.0);\n        this.gl.uniform1f(this.programs.splatProgram.uniforms.radius, this.correctRadius(this.splatRadius / 100.0));\n        this.blit(this._velocity.write);\n        this._velocity.swap();\n        this.gl.uniform1i(this.programs.splatProgram.uniforms.uTarget, this._dye.read.attach(0));\n        this.gl.uniform3f(this.programs.splatProgram.uniforms.color, color.r, color.g, color.b);\n        this.blit(this._dye.write);\n        this._dye.swap();\n    }\n    correctRadius(radius) {\n        const aspectRatio = this.canvas.width / this.canvas.height;\n        if (aspectRatio > 1) radius *= aspectRatio;\n        return radius;\n    }\n    update() {\n        const dt = this.calcDeltaTime();\n        if (this.resizeCanvas()) this.initFramebuffers();\n        this.updateColors(dt);\n        this.applyInputs();\n        if (!this.paused) this.step(dt);\n        this.render(null);\n        // This is bound in the constructor, so it's safe to call here\n        // eslint-disable-next-line\n        this.animationFrameId = requestAnimationFrame(this.update);\n    }\n    calcDeltaTime() {\n        const now = Date.now();\n        let dt = (now - this.lastUpdateTime) / 1000;\n        dt = Math.min(dt, 0.016666);\n        this.lastUpdateTime = now;\n        return dt;\n    }\n    updateColors(dt) {\n        if (!this.colorful) return;\n        this.colorUpdateTimer += dt * this.colorUpdateSpeed;\n        if (this.colorUpdateTimer >= 1) {\n            this.colorUpdateTimer = this.wrap(this.colorUpdateTimer, 0, 1);\n            this.pointers.forEach((p)=>{\n                p.color = (0, $b2dae528be745350$export$892596cec99bc70e).generateColor(this.colorPalette, this.brightness);\n            });\n        }\n    }\n    wrap(value1, min, max) {\n        const range = max - min;\n        if (range == 0) return min;\n        return (value1 - min) % range + min;\n    }\n    applyInputs() {\n        if (this.splatStack.length > 0) this.multipleSplats(this.splatStack.pop());\n        this.pointers.forEach((p)=>{\n            if (p.moved) {\n                p.moved = false;\n                this.splatPointer(p);\n            }\n        });\n    }\n    splatPointer(pointer) {\n        if (this.paused && !this.drawWhilePaused) return;\n        const dx = pointer.deltaX * this.splatForce;\n        const dy = pointer.deltaY * this.splatForce;\n        this.splat(pointer.texcoordX, pointer.texcoordY, dx, dy, pointer.color);\n    }\n    step(dt) {\n        this.gl.disable(this.gl.BLEND);\n        this.programs.curlProgram.bind();\n        this.gl.uniform2f(this.programs.curlProgram.uniforms.texelSize, this._velocity.texelSizeX, this._velocity.texelSizeY);\n        this.gl.uniform1i(this.programs.curlProgram.uniforms.uVelocity, this._velocity.read.attach(0));\n        this.blit(this._curl);\n        this.programs.vorticityProgram.bind();\n        this.gl.uniform2f(this.programs.vorticityProgram.uniforms.texelSize, this._velocity.texelSizeX, this._velocity.texelSizeY);\n        this.gl.uniform1i(this.programs.vorticityProgram.uniforms.uVelocity, this._velocity.read.attach(0));\n        this.gl.uniform1i(this.programs.vorticityProgram.uniforms.uCurl, this._curl.attach(1));\n        this.gl.uniform1f(this.programs.vorticityProgram.uniforms.curl, this.curl);\n        this.gl.uniform1f(this.programs.vorticityProgram.uniforms.dt, dt);\n        this.blit(this._velocity.write);\n        this._velocity.swap();\n        this.programs.divergenceProgram.bind();\n        this.gl.uniform2f(this.programs.divergenceProgram.uniforms.texelSize, this._velocity.texelSizeX, this._velocity.texelSizeY);\n        this.gl.uniform1i(this.programs.divergenceProgram.uniforms.uVelocity, this._velocity.read.attach(0));\n        this.blit(this._divergence);\n        this.programs.clearProgram.bind();\n        this.gl.uniform1i(this.programs.clearProgram.uniforms.uTexture, this._pressure.read.attach(0));\n        this.gl.uniform1f(this.programs.clearProgram.uniforms.value, this.pressure);\n        this.blit(this._pressure.write);\n        this._pressure.swap();\n        this.programs.pressureProgram.bind();\n        this.gl.uniform2f(this.programs.pressureProgram.uniforms.texelSize, this._velocity.texelSizeX, this._velocity.texelSizeY);\n        this.gl.uniform1i(this.programs.pressureProgram.uniforms.uDivergence, this._divergence.attach(0));\n        for(let i = 0; i < this.pressureIterations; i++){\n            this.gl.uniform1i(this.programs.pressureProgram.uniforms.uPressure, this._pressure.read.attach(1));\n            this.blit(this._pressure.write);\n            this._pressure.swap();\n        }\n        this.programs.gradienSubtractProgram.bind();\n        this.gl.uniform2f(this.programs.gradienSubtractProgram.uniforms.texelSize, this._velocity.texelSizeX, this._velocity.texelSizeY);\n        this.gl.uniform1i(this.programs.gradienSubtractProgram.uniforms.uPressure, this._pressure.read.attach(0));\n        this.gl.uniform1i(this.programs.gradienSubtractProgram.uniforms.uVelocity, this._velocity.read.attach(1));\n        this.blit(this._velocity.write);\n        this._velocity.swap();\n        this.programs.advectionProgram.bind();\n        this.gl.uniform2f(this.programs.advectionProgram.uniforms.texelSize, this._velocity.texelSizeX, this._velocity.texelSizeY);\n        if (!this.ext.supportLinearFiltering) this.gl.uniform2f(this.programs.advectionProgram.uniforms.dyeTexelSize, this._velocity.texelSizeX, this._velocity.texelSizeY);\n        const velocityId = this._velocity.read.attach(0);\n        this.gl.uniform1i(this.programs.advectionProgram.uniforms.uVelocity, velocityId);\n        this.gl.uniform1i(this.programs.advectionProgram.uniforms.uSource, velocityId);\n        this.gl.uniform1f(this.programs.advectionProgram.uniforms.dt, dt);\n        this.gl.uniform1f(this.programs.advectionProgram.uniforms.dissipation, this.velocityDissipation);\n        this.blit(this._velocity.write);\n        this._velocity.swap();\n        if (!this.ext.supportLinearFiltering) this.gl.uniform2f(this.programs.advectionProgram.uniforms.dyeTexelSize, this._dye.texelSizeX, this._dye.texelSizeY);\n        this.gl.uniform1i(this.programs.advectionProgram.uniforms.uVelocity, this._velocity.read.attach(0));\n        this.gl.uniform1i(this.programs.advectionProgram.uniforms.uSource, this._dye.read.attach(1));\n        this.gl.uniform1f(this.programs.advectionProgram.uniforms.dissipation, this.densityDissipation);\n        this.blit(this._dye.write);\n        this._dye.swap();\n    }\n    render(target) {\n        if (this.bloom) this.applyBloom(this._dye.read, this._bloom);\n        if (target === null || !this.transparent) {\n            this.gl.blendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n            this.gl.enable(this.gl.BLEND);\n        } else this.gl.disable(this.gl.BLEND);\n        if (!this.transparent) this.drawColor(target, (0, $b2dae528be745350$export$892596cec99bc70e).normalizeColor((0, $b2dae528be745350$export$892596cec99bc70e).HEXtoRGB(this.backgroundColor)));\n        this.drawDisplay(target);\n    }\n    drawColor(target, color) {\n        this.programs.colorProgram.bind();\n        this.gl.uniform4f(this.programs.colorProgram.uniforms.color, color.r, color.g, color.b, 1);\n        this.blit(target);\n    }\n    drawDisplay(target) {\n        const width = target === null ? this.gl.drawingBufferWidth : target.width;\n        const height = target === null ? this.gl.drawingBufferHeight : target.height;\n        this.displayMaterial.bind();\n        if (this.shading) this.gl.uniform2f(this.displayMaterial.uniforms.texelSize, 1.0 / width, 1.0 / height);\n        this.gl.uniform1i(this.displayMaterial.uniforms.uTexture, this._dye.read.attach(0));\n        if (this.bloom) {\n            this.gl.uniform1i(this.displayMaterial.uniforms.uBloom, this._bloom.attach(1));\n            this.gl.uniform1i(this.displayMaterial.uniforms.uDithering, this.ditheringTexture.attach(2));\n            const scale = (0, $3613876b5dd1839b$export$5431306cf43de24a).getTextureScale(this.ditheringTexture, width, height);\n            this.gl.uniform2f(this.displayMaterial.uniforms.ditherScale, scale.x, scale.y);\n        }\n        this.blit(target);\n    }\n    applyBloom(source, destination) {\n        if (this.bloomFramebuffers.length < 2) return;\n        let last = destination;\n        this.gl.disable(this.gl.BLEND);\n        this.programs.bloomPrefilterProgram.bind();\n        const knee = this.bloomThreshold * this.bloomSoftKnee + 0.0001;\n        const curve0 = this.bloomThreshold - knee;\n        const curve1 = knee * 2;\n        const curve2 = 0.25 / knee;\n        this.gl.uniform3f(this.programs.bloomPrefilterProgram.uniforms.curve, curve0, curve1, curve2);\n        this.gl.uniform1f(this.programs.bloomPrefilterProgram.uniforms.threshold, this.bloomThreshold);\n        this.gl.uniform1i(this.programs.bloomPrefilterProgram.uniforms.uTexture, source.attach(0));\n        this.blit(last);\n        this.programs.bloomBlurProgram.bind();\n        for (const dest of this.bloomFramebuffers){\n            if (!dest) continue;\n            this.gl.uniform2f(this.programs.bloomBlurProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY);\n            this.gl.uniform1i(this.programs.bloomBlurProgram.uniforms.uTexture, last.attach(0));\n            this.blit(dest);\n            last = dest;\n        }\n        this.gl.blendFunc(this.gl.ONE, this.gl.ONE);\n        this.gl.enable(this.gl.BLEND);\n        for(let i = this.bloomFramebuffers.length - 2; i >= 0; i--){\n            const baseTex = this.bloomFramebuffers[i];\n            this.gl.uniform2f(this.programs.bloomBlurProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY);\n            this.gl.uniform1i(this.programs.bloomBlurProgram.uniforms.uTexture, last.attach(0));\n            this.gl.viewport(0, 0, baseTex.width, baseTex.height);\n            this.blit(baseTex);\n            last = baseTex;\n        }\n        this.gl.disable(this.gl.BLEND);\n        this.programs.bloomFinalProgram.bind();\n        this.gl.uniform2f(this.programs.bloomFinalProgram.uniforms.texelSize, last.texelSizeX, last.texelSizeY);\n        this.gl.uniform1i(this.programs.bloomFinalProgram.uniforms.uTexture, last.attach(0));\n        this.gl.uniform1f(this.programs.bloomFinalProgram.uniforms.intensity, this.bloomIntensity);\n        this.blit(destination);\n    }\n}\n\n\n\nclass $85d03f9da7ea0cfc$var$WebGLFluidEnhanced {\n    constructor(container = document.body){\n        this.container = container;\n        this.container.style.outline = \"none\";\n        this.container.style.display = \"flex\";\n        this.container.style.justifyContent = \"center\";\n        this.container.style.alignItems = \"center\";\n        this.simulation = new (0, $707cc163de5d58b7$export$156b30a852a4aab)(container);\n    }\n    start() {\n        if (this.simulation.hasStarted) return;\n        this.simulation.start();\n    }\n    stop() {\n        if (!this.simulation.hasStarted) return;\n        this.simulation.stop();\n    }\n    togglePause(drawWhilePaused = false) {\n        if (!this.simulation.hasStarted) return false;\n        this.simulation.paused = !this.simulation.paused;\n        if (this.simulation.paused) this.simulation.drawWhilePaused = drawWhilePaused;\n        return this.simulation.paused;\n    }\n    multipleSplats(amount) {\n        if (!this.simulation.hasStarted) return;\n        this.simulation.multipleSplats(amount);\n    }\n    splatAtLocation(x, y, dx, dy, HEXColor) {\n        if (!this.simulation.hasStarted) return;\n        const normalizedX = x / this.simulation.canvas.width;\n        const normalizedY = 1.0 - y / this.simulation.canvas.clientHeight;\n        let color = HEXColor ? (0, $b2dae528be745350$export$892596cec99bc70e).HEXtoRGB(HEXColor) : undefined;\n        if (!color) color = (0, $b2dae528be745350$export$892596cec99bc70e).generateColor(this.simulation.colorPalette, this.simulation.brightness);\n        color.r *= 10.0;\n        color.g *= 10.0;\n        color.b *= 10.0;\n        this.simulation.splat(normalizedX, normalizedY, dx, dy, color);\n    }\n    downloadScreenshot() {\n        if (!this.simulation.hasStarted) return;\n        this.simulation.captureScreenshot();\n    }\n    setConfig(config) {\n        if (config.simResolution !== undefined) this.simulation.simResolution = config.simResolution;\n        if (config.dyeResolution !== undefined) this.simulation.dyeResolution = config.dyeResolution;\n        if (config.captureResolution !== undefined) this.simulation.captureResolution = config.captureResolution;\n        if (config.densityDissipation !== undefined) this.simulation.densityDissipation = config.densityDissipation;\n        if (config.velocityDissipation !== undefined) this.simulation.velocityDissipation = config.velocityDissipation;\n        if (config.pressure !== undefined) this.simulation.pressure = config.pressure;\n        if (config.pressureIterations !== undefined) this.simulation.pressureIterations = config.pressureIterations;\n        if (config.curl !== undefined) this.simulation.curl = config.curl;\n        if (config.splatRadius !== undefined) this.simulation.splatRadius = config.splatRadius;\n        if (config.splatForce !== undefined) this.simulation.splatForce = config.splatForce;\n        if (config.shading !== undefined) this.simulation.shading = config.shading;\n        if (config.colorful !== undefined) this.simulation.colorful = config.colorful;\n        if (config.colorUpdateSpeed !== undefined) this.simulation.colorUpdateSpeed = config.colorUpdateSpeed;\n        if (config.colorPalette !== undefined) this.simulation.colorPalette = config.colorPalette;\n        if (config.hover !== undefined) this.simulation.hover = config.hover;\n        if (config.backgroundColor !== undefined) this.simulation.backgroundColor = config.backgroundColor;\n        if (config.inverted !== undefined) this.simulation.inverted = config.inverted;\n        if (config.transparent !== undefined) this.simulation.transparent = config.transparent;\n        if (config.brightness !== undefined) this.simulation.brightness = config.brightness;\n        if (config.bloom !== undefined) this.simulation.bloom = config.bloom;\n        if (config.bloomIterations !== undefined) this.simulation.bloomIterations = config.bloomIterations;\n        if (config.bloomResolution !== undefined) this.simulation.bloomResolution = config.bloomResolution;\n        if (config.bloomIntensity !== undefined) this.simulation.bloomIntensity = config.bloomIntensity;\n        if (config.bloomThreshold !== undefined) this.simulation.bloomThreshold = config.bloomThreshold;\n        if (config.bloomSoftKnee !== undefined) this.simulation.bloomSoftKnee = config.bloomSoftKnee;\n        if (!this.simulation.hasStarted) return;\n        if (config.dyeResolution !== undefined || config.simResolution !== undefined) this.simulation.initFramebuffers();\n        if (config.shading !== undefined || config.bloom !== undefined) this.simulation.updateKeywords();\n    }\n}\nvar $85d03f9da7ea0cfc$export$2e2bcd8739ae039 = $85d03f9da7ea0cfc$var$WebGLFluidEnhanced;\n\n\nglobalThis.__store = (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9);\nconst $70fc9a727fa662ae$var$initialState = globalThis.__state;\nif ($70fc9a727fa662ae$var$initialState != undefined) (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).execute((0, $f6c5ad660fb3ac27$export$17a469542330eb1b)($70fc9a727fa662ae$var$initialState));\nfunction $70fc9a727fa662ae$var$renderApp(state) {\n    document.body.classList.toggle(\"dark-theme\", state.darkTheme);\n    document.body.style.backgroundImage = state.darkTheme ? (0, $e14ef26123a5e7d3$export$1882b020a5eb10ec) : (0, $e14ef26123a5e7d3$export$1d4a845b6574681a);\n    (0, $ac586b1394cc16ea$exports.render)(/*#__PURE__*/ (0, $ac586b1394cc16ea$exports.vdom)((0, $f449f0b23fbc743a$export$86fbec116b87613f), {\n        state: state\n    }), document.body);\n}\n// Render the app on start\n$70fc9a727fa662ae$var$renderApp((0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).state());\n// Re-render the app when the store changes\n(0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).subscribeAny((state)=>{\n    $70fc9a727fa662ae$var$renderApp(state);\n});\n(0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).subscribe((state)=>state.darkTheme, (state, darkTheme)=>{\n    document.cookie = `darkTheme=${darkTheme}`;\n});\n(0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).subscribe((state)=>state.ripplesEnabled, (state, ripplesEnabled)=>{\n    document.cookie = `ripplesEnabled=${ripplesEnabled}`;\n});\nwindow.addEventListener(\"resize\", ()=>{\n    const isMobile = document.body.offsetWidth <= 480;\n    if ((0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).state().isMobile !== isMobile) (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).execute((0, $565bb8264fce4bd8$export$4d355908d313eebb)(isMobile));\n});\nwindow.addEventListener(\"popstate\", (event)=>{\n    console.log(event);\n    const stateData = event.state;\n    if (stateData.pageId) (0, $565bb8264fce4bd8$export$6f57813fe9f31bf9).execute((0, $565bb8264fce4bd8$export$723f3965683bce1e)(stateData.pageId));\n});\nconst $70fc9a727fa662ae$var$fluid = new (0, $85d03f9da7ea0cfc$export$2e2bcd8739ae039)(document.getElementById(\"renderSurface\"));\n$70fc9a727fa662ae$var$fluid.setConfig({\n    colorPalette: [\n        \"#8946b5\",\n        \"#526977\",\n        \"#a89870\"\n    ],\n    hover: true,\n    shading: true,\n    splatRadius: 0.2,\n    velocityDissipation: 1.2,\n    densityDissipation: 1.2,\n    pressureIterations: 10,\n    bloom: true,\n    curl: 10,\n    backgroundColor: \"#e0e0e0\",\n    simResolution: 64,\n    dyeResolution: 512,\n    splatForce: 3000\n});\n$70fc9a727fa662ae$var$fluid.start();\n\n\n//# sourceMappingURL=index.10437f45.js.map\n","import { vdom, render } from \"simple-tsx-vdom\";\nimport { setSelectedPageId, WindowHistory, State, store, setIsMobile } from \"./store\";\nimport { App } from \"./components/app\";\nimport { setInitialState } from './client-store';\nimport { DarkBackgroundUrl, LightBackgroundUrl } from './backgrounds';\nimport WebGLFluidEnhanced from './fluid';\n\n(globalThis as any).__store = store;\n\nconst initialState = (globalThis as any).__state as State | undefined;\nif (initialState != undefined)\n{\n    store.execute(setInitialState(initialState));\n    // hydrate(<App state={store.state()} />, document.body);\n}\n\nfunction renderApp(state: State)\n{\n    document.body.classList.toggle('dark-theme', state.darkTheme);\n    document.body.style.backgroundImage = state.darkTheme ? DarkBackgroundUrl : LightBackgroundUrl;\n    render(<App state={state} />, document.body);\n}\n// Render the app on start\nrenderApp(store.state());\n\n// Re-render the app when the store changes\nstore.subscribeAny((state) =>\n{\n    renderApp(state);\n});\n\nstore.subscribe(state => state.darkTheme, (state, darkTheme) =>\n{\n    document.cookie = `darkTheme=${darkTheme}`;\n});\nstore.subscribe(state => state.ripplesEnabled, (state, ripplesEnabled) =>\n{\n    document.cookie = `ripplesEnabled=${ripplesEnabled}`;\n});\n\nwindow.addEventListener('resize', () =>\n{\n    const isMobile = document.body.offsetWidth <= 480;\n    if (store.state().isMobile !== isMobile)\n    {\n        store.execute(setIsMobile(isMobile));\n    }\n})\n\nwindow.addEventListener('popstate', (event) =>\n{\n    console.log(event);\n    const stateData: WindowHistory = event.state;\n    if (stateData.pageId)\n    {\n        store.execute(setSelectedPageId(stateData.pageId));\n    }\n});\n\nconst fluid = new WebGLFluidEnhanced(document.getElementById('renderSurface') as HTMLElement);\nfluid.setConfig({\n    colorPalette: ['#8946b5', '#526977', '#a89870'],\n    hover: true,\n    shading: true,\n    splatRadius: 0.2,\n    velocityDissipation: 1.2,\n    densityDissipation: 1.2,\n    pressureIterations: 10,\n    bloom: true,\n    curl: 10,\n    backgroundColor: '#e0e0e0',\n    simResolution: 64,\n    dyeResolution: 512,\n    splatForce: 3000\n});\nfluid.start();","\"use strict\";\n//// Types\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.vdom = exports.render = exports.shallowEqual = exports.isFunctionalNode = exports.isTextNode = exports.isClassNode = exports.isIntrinsicNode = exports.createComponentKey = exports.createChildKey = exports.VDom = exports.ClassComponent = void 0;\n;\nclass ClassComponent {\n    constructor() {\n        this.props = {};\n        this.children = [];\n        this.vdom = undefined;\n        this.vdomKey = '';\n        this.prevRenderedResult = false;\n        this.unmounting = false;\n    }\n    onMount() { }\n    // Called when unmounting. Calling finishUnmount is required to actually unmount the dom element.\n    // Calling later allows for animating something away before actually removing it.\n    onUnmount(finishUnmount) { finishUnmount(); }\n    hasChanged(newProps) {\n        return !exports.shallowEqual(this.props, newProps);\n    }\n    internalRender(props, children) {\n        this.props = props;\n        this.children = children;\n        return this.render();\n    }\n    forceUpdate() {\n        if (!this.vdom) {\n            return;\n        }\n        const domNode = this.rootDomNode();\n        if (!domNode) {\n            return;\n        }\n        this.vdom.renderDom(domNode.parentElement, this.render(), this.vdomKey);\n    }\n    rootDomNode() {\n        if (!this.vdom) {\n            return null;\n        }\n        const vdomNode = this.vdom.vdomData[this.vdomKey];\n        if (vdomNode) {\n            return vdomNode.domNode;\n        }\n        return null;\n    }\n}\nexports.ClassComponent = ClassComponent;\n/**\n * VDom class represents a whole virtual DOM.\n *\n * A virtual DOM is an abstract and importantly light-weight representation of the DOM in the browser.\n * The purpose is to simplify manipulating real DOM elements by creating virtual DOM elements.\n *\n * The VDom is responsible for creating virtual elements from TSX syntax, keeping track of changes to the virtual DOM\n * and creating/manipulating DOM elements based on those changes.\n *\n * The virtual DOM is made up of virtual elements which are simple Javascript objects, for example a header with title would look like this\n *  {\n *      intrinsicType: \"h1\",\n *      props: {},\n *      children: [\n *          {\n *              text: \"Heading Text\"\n *          }\n *      ]\n *  }\n *\n * There are four kinds of virtual element types:\n * - Text: Plain text nodes, nearly all text in the DOM is done via a text node.\n * - Intrinsic: Built in supported node types, eg: h1, div, span, input, etc\n * - Functional: An element that is represented by a function where upon executing it, it will return a virtual element.\n * - Class: An element that is represented by a class instance which contains a render method which will return a virtual element.\n */\nclass VDom {\n    // Create the VDom with the given document.\n    constructor(doc) {\n        // Keeps track of all the virtual DOM information.\n        this.vdomData = {};\n        // Namespace stack, keeps track of the current (beyond the empty default) XML namespace to use.\n        // This is used for SVG support.\n        this.nsStack = [];\n        // Root key used to define the entry point for a virtual dom\n        this.rootKey = 'R';\n        // Handle child virtual nodes which will either be a virtual element (already gone through createVDom) or is a plain string or number.\n        this.processChildNode = (input) => {\n            // At this point we should have already checked for undefined, null and boolean,\n            // so an object here should be a virtual element, or string or a number.\n            if (typeof (input) === 'object') {\n                return input;\n            }\n            return this.createTextNode(input.toString());\n        };\n        this.doc = doc;\n    }\n    // The main render function which turns a virtual element into DOM elements.\n    render(virtualNode, parent, key) {\n        this.nsStack = [];\n        this.renderDom(parent, virtualNode, key || this.rootKey);\n    }\n    //// Create virtual DOM elements\n    // Main function creating virtual elements. Usually exposed through the `vdom` function.\n    createVDom(nodeType, props = undefined, ...children) {\n        // Handle getting back an array of children. Eg: [[item1, item2]] instead of just [item1, item2].\n        const processedChildren = children.flat(Infinity)\n            .filter(child => child != undefined && typeof (child) !== 'boolean')\n            .map(this.processChildNode);\n        props = props || {};\n        if (typeof (nodeType) === 'string') {\n            return this.createIntrinsicNode(nodeType, props, processedChildren);\n        }\n        if (nodeType.prototype instanceof ClassComponent) {\n            return this.createClassNode(nodeType, props, processedChildren);\n        }\n        if (typeof (nodeType) === 'function') {\n            return this.createFunctionalNode(nodeType, props, processedChildren);\n        }\n        throw new Error('Unknown virtual node type');\n    }\n    // Clears the virtual DOM, deleting all created DOM elements along the way.\n    clear() {\n        this.deleteVDomData(this.vdomData[this.rootKey], this.rootKey);\n        this.vdomData = {};\n        this.nsStack = [];\n    }\n    // A very basic text node.\n    createTextNode(textValue) {\n        return { textValue };\n    }\n    // We want to create an intrinsic node so process the props into attributes, events, styles, values and children.\n    createIntrinsicNode(intrinsicType, inputProps, children) {\n        const attributes = {};\n        const eventListeners = {};\n        const properties = {};\n        let style = {};\n        for (const prop in inputProps) {\n            const propValue = inputProps[prop];\n            if (attributeIsEventListener(prop, propValue)) {\n                eventListeners[prop.substr(2)] = propValue;\n            }\n            else if (attributeIsProperty(prop)) {\n                properties[prop] = propValue;\n            }\n            else if (prop === 'style') {\n                style = propValue;\n            }\n            else if (prop === 'key') {\n                // Ignore\n            }\n            else {\n                attributes[prop] = propValue;\n            }\n        }\n        return {\n            children,\n            nodeName: intrinsicType,\n            attributes,\n            style,\n            listeners: eventListeners,\n            key: inputProps.key,\n            properties\n        };\n    }\n    // Create a class node from a class node constructor with props and children.\n    createClassNode(ctor, inputProps, children) {\n        const key = inputProps.key;\n        inputProps = processComponentProps(inputProps);\n        return {\n            children,\n            ctor,\n            props: inputProps,\n            key\n        };\n    }\n    // Create a functional node from a function with props and children.\n    createFunctionalNode(renderNode, inputProps, children) {\n        const key = inputProps.key;\n        inputProps = processComponentProps(inputProps);\n        return {\n            children,\n            func: renderNode,\n            props: inputProps,\n            key\n        };\n    }\n    //// Processing virtual elements into actual DOM elements.\n    // Takes a virtual element and turns it into a DOM node.\n    renderDom(parentNode, vNode, key) {\n        const currentVDom = this.vdomData[key];\n        if (this.hasVElementChanged(currentVDom === null || currentVDom === void 0 ? void 0 : currentVDom.vNode, vNode)) {\n            this.deleteVDomData(currentVDom, key);\n        }\n        if (!vNode) {\n            return false;\n        }\n        if (exports.isTextNode(vNode)) {\n            return this.renderTextNode(currentVDom, parentNode, vNode, key);\n        }\n        else if (exports.isClassNode(vNode)) {\n            return this.renderClassNode(currentVDom, parentNode, vNode, key);\n        }\n        else if (exports.isFunctionalNode(vNode)) {\n            return this.renderFunctionalNode(parentNode, vNode, key);\n        }\n        else if (exports.isIntrinsicNode(vNode)) {\n            return this.renderIntrinsicNode(currentVDom, parentNode, vNode, key);\n        }\n        return false;\n    }\n    // Deletes a virtual element along with any created DOM elements.\n    deleteVDomData(vdomNode, key) {\n        if (!vdomNode) {\n            return;\n        }\n        if (exports.isIntrinsicNode(vdomNode.vNode)) {\n            const children = vdomNode.vNode.children;\n            for (let i = 0; i < children.length; i++) {\n                const childKey = exports.createChildKey(children[i], key, i);\n                const childVDom = this.vdomData[childKey];\n                this.deleteVDomData(childVDom, childKey);\n            }\n        }\n        else if (exports.isFunctionalNode(vdomNode.vNode) || exports.isClassNode(vdomNode.vNode)) {\n            const componentChildKey = exports.createComponentKey(key);\n            const componentChildVDom = this.vdomData[componentChildKey];\n            if (exports.isClassNode(vdomNode.vNode)) {\n                const classComponent = vdomNode.instance;\n                classComponent.unmounting = true;\n                classComponent.onUnmount(() => {\n                    // The component could be re-mounted whilst it's unmounting, if that changes don't actually unmount.\n                    if (classComponent.unmounting) {\n                        this.deleteVDomData(componentChildVDom, componentChildKey);\n                    }\n                });\n            }\n            else {\n                this.deleteVDomData(componentChildVDom, componentChildKey);\n            }\n        }\n        removeDomElement(vdomNode.domNode);\n        delete this.vdomData[key];\n    }\n    // Check if a virtual element has fundamentally changed, either it's not the same type (functional vs class vs intrinsic).\n    // Also checks if they're same type of component if the function in the functional component is now a different function or\n    // the intrinsic node type is different.\n    hasVElementChanged(oldNode, newNode) {\n        if (!oldNode) {\n            return false;\n        }\n        if (!newNode) {\n            return true;\n        }\n        if (exports.isFunctionalNode(oldNode)) {\n            return oldNode.func !== newNode.func;\n        }\n        if (exports.isClassNode(oldNode)) {\n            return oldNode.ctor !== newNode.ctor;\n        }\n        if (exports.isIntrinsicNode(oldNode)) {\n            return oldNode.nodeName !== newNode.nodeName;\n        }\n        return false;\n    }\n    // Render a text node, either create it or update the existing one.\n    renderTextNode(currentVDom, parentNode, vNode, key) {\n        if (!currentVDom) {\n            const domNode = this.doc.createTextNode(vNode.textValue);\n            parentNode.appendChild(domNode);\n            this.vdomData[key] = { domNode, vNode };\n        }\n        else if (currentVDom.vNode.textValue !== vNode.textValue) {\n            currentVDom.domNode.nodeValue = vNode.textValue;\n            this.vdomData[key] = { domNode: currentVDom.domNode, vNode };\n        }\n        return true;\n    }\n    // Render a functional node.\n    renderFunctionalNode(parentNode, vNode, key) {\n        const functionalChildKey = exports.createComponentKey(key);\n        const rendered = this.renderDom(parentNode, vNode.func(vNode.props, vNode.children), functionalChildKey);\n        this.vdomData[key] = { vNode };\n        return rendered;\n    }\n    // Render a class node, mount it if it's new and checks if the props have changed and ignore further rendering.\n    renderClassNode(currentVDom, parentNode, vNode, key) {\n        let inst = currentVDom === null || currentVDom === void 0 ? void 0 : currentVDom.instance;\n        const isNew = !inst;\n        if (!inst) {\n            inst = new vNode.ctor();\n            inst.vdomKey = exports.createComponentKey(key);\n            inst.vdom = this;\n        }\n        else if (!inst.hasChanged(vNode.props)) {\n            return inst.prevRenderedResult;\n        }\n        const renderedVNode = inst.internalRender(vNode.props, vNode.children);\n        let rendered = false;\n        if (renderedVNode) {\n            rendered = this.renderDom(parentNode, renderedVNode, inst.vdomKey);\n        }\n        inst.prevRenderedResult = rendered;\n        this.vdomData[key] = { vNode, instance: inst };\n        if (isNew || inst.unmounting) {\n            inst.unmounting = false;\n            inst.onMount();\n        }\n        return rendered;\n    }\n    // Renders an intrinsic node, either creates or updates it along with attributes, event listeners, inline styles or input properties.\n    renderIntrinsicNode(currentVDom, parentNode, vNode, key) {\n        var _a;\n        const currentIntrinsicVNode = currentVDom === null || currentVDom === void 0 ? void 0 : currentVDom.vNode;\n        const newXmlNs = (_a = vNode.attributes) === null || _a === void 0 ? void 0 : _a.xmlns;\n        if (newXmlNs) {\n            this.nsStack.push(newXmlNs);\n        }\n        const newNode = !currentVDom || currentIntrinsicVNode.nodeName !== vNode.nodeName;\n        let domNode;\n        if (newNode) {\n            if (currentVDom) {\n                removeDomElement(currentVDom.domNode);\n            }\n            const stackXmlNs = this.nsStack[this.nsStack.length - 1];\n            if (stackXmlNs) {\n                domNode = this.doc.createElementNS(stackXmlNs, vNode.nodeName);\n            }\n            else {\n                domNode = this.doc.createElement(vNode.nodeName);\n            }\n            parentNode.appendChild(domNode);\n        }\n        else {\n            domNode = currentVDom.domNode;\n        }\n        this.vdomData[key] = { domNode, vNode };\n        this.renderChildrenNodes(currentIntrinsicVNode, domNode, vNode, key);\n        // Add or apply attributes after children are created for select element.\n        this.applyAttributes(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.attributes, vNode.attributes);\n        this.applyStyle(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.style, vNode.style);\n        this.applyEventListeners(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.listeners, vNode.listeners);\n        this.applyProperties(domNode, currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.properties, vNode.properties);\n        if (newXmlNs) {\n            this.nsStack.pop();\n        }\n        return true;\n    }\n    getChildWithDomNode(child, childKey) {\n        const newVDom = exports.isFunctionalNode(child) || exports.isClassNode(child) ?\n            this.vdomData[exports.createComponentKey(childKey)] :\n            this.vdomData[childKey];\n        if (!newVDom) {\n            return undefined;\n        }\n        if (!newVDom.domNode && (exports.isFunctionalNode(newVDom.vNode) || exports.isClassNode(newVDom.vNode))) {\n            return this.getChildWithDomNode(newVDom.vNode, exports.createComponentKey(childKey));\n        }\n        return newVDom.domNode;\n    }\n    renderChildrenNodes(currentIntrinsicVNode, domNode, vNode, key) {\n        const previousChildren = currentIntrinsicVNode === null || currentIntrinsicVNode === void 0 ? void 0 : currentIntrinsicVNode.children;\n        const keysToRemove = {};\n        const previousVNodes = [];\n        if (previousChildren) {\n            for (let i = 0; i < previousChildren.length; i++) {\n                const child = previousChildren[i];\n                const childKey = exports.createChildKey(child, key, i);\n                keysToRemove[childKey] = child;\n                previousVNodes[i] = this.vdomData[childKey];\n            }\n        }\n        const domNodeChildren = domNode.childNodes;\n        for (let i = 0, domIndex = 0; i < vNode.children.length; i++, domIndex++) {\n            const child = vNode.children[i];\n            const childKey = exports.createChildKey(child, key, i);\n            const rendered = this.renderDom(domNode, child, childKey);\n            delete keysToRemove[childKey];\n            if (!rendered) {\n                domIndex--;\n                continue;\n            }\n            const newDomNode = this.getChildWithDomNode(child, childKey);\n            if (!newDomNode) {\n                continue;\n            }\n            if (domNodeChildren.item(domIndex) !== newDomNode) {\n                domNode.insertBefore(newDomNode, domNodeChildren.item(domIndex));\n            }\n        }\n        for (const childKey in keysToRemove) {\n            const childVDom = this.vdomData[childKey];\n            this.deleteVDomData(childVDom, childKey);\n        }\n    }\n    //// Handling DOM attributes\n    applyAttributes(domElement, currentProps, newProps) {\n        const diff = this.diffProps(currentProps, newProps);\n        for (const prop in diff.remove) {\n            domElement.removeAttribute(prop);\n        }\n        for (const prop in diff.add) {\n            domElement.setAttribute(prop, diff.add[prop]);\n        }\n        return diff;\n    }\n    //// Handle setting inline DOM CSS styles.\n    applyStyle(domElement, currentStyle, newStyle) {\n        const diff = this.diffProps(currentStyle, newStyle);\n        for (const prop in diff.remove) {\n            domElement.style.removeProperty(prop);\n        }\n        for (const prop in diff.add) {\n            domElement.style.setProperty(prop, diff.add[prop]);\n        }\n        return diff;\n    }\n    //// Handle setting event listeners on DOM elements.\n    applyEventListeners(domElement, currentListeners, newListeners) {\n        const diff = this.diffProps(currentListeners, newListeners);\n        for (const eventType in diff.remove) {\n            domElement.removeEventListener(eventType, diff.remove[eventType]);\n        }\n        for (const eventType in diff.add) {\n            domElement.addEventListener(eventType, diff.add[eventType]);\n        }\n        return diff;\n    }\n    //// Handle setting properties on DOM elements.\n    applyProperties(domElement, currentProps, newProps) {\n        const diff = this.diffProps(currentProps, newProps);\n        for (const prop in diff.remove) {\n            domElement[prop] = undefined;\n        }\n        for (const prop in diff.add) {\n            domElement[prop] = diff.add[prop];\n        }\n        return diff;\n    }\n    // Basic process for checking what has changed between current and new props.\n    diffProps(currentProps, newProps = {}) {\n        const remove = Object.assign({}, currentProps);\n        const add = {};\n        for (const prop in newProps) {\n            const currentValue = remove[prop];\n            const newValue = newProps[prop];\n            if (currentValue != undefined && currentValue === newValue) {\n                delete remove[prop];\n            }\n            else {\n                add[prop] = newValue;\n            }\n        }\n        return { remove, add };\n    }\n}\nexports.VDom = VDom;\nconst attributeIsEventListener = (attribute, value) => {\n    return attribute.startsWith('on') && typeof (value) === 'function';\n};\nconst attributeIsProperty = (attribute) => {\n    return attribute === 'value' || attribute === 'checked' || attribute === 'selected';\n};\nconst removeDomElement = (domElement) => {\n    var _a;\n    if (!domElement)\n        return;\n    (_a = domElement.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(domElement);\n};\nconst processComponentProps = (inputProps) => {\n    if (inputProps.key !== undefined) {\n        inputProps = { ...inputProps };\n        delete inputProps['key'];\n    }\n    return inputProps;\n};\nconst createChildKey = (child, parentKey, index) => {\n    if (!exports.isTextNode(child)) {\n        const childKey = child.key;\n        if (childKey != undefined) {\n            return `${parentKey}_:${childKey}`;\n        }\n    }\n    return `${parentKey}_${index}`;\n};\nexports.createChildKey = createChildKey;\nconst createComponentKey = (parentKey) => {\n    return `${parentKey}_C`;\n};\nexports.createComponentKey = createComponentKey;\nconst isIntrinsicNode = (vNode) => {\n    return !!vNode.nodeName;\n};\nexports.isIntrinsicNode = isIntrinsicNode;\nconst isClassNode = (vNode) => {\n    return !!vNode.ctor;\n};\nexports.isClassNode = isClassNode;\nconst isTextNode = (vNode) => {\n    return !!vNode.textValue;\n};\nexports.isTextNode = isTextNode;\nconst isFunctionalNode = (vNode) => {\n    return !!vNode.func;\n};\nexports.isFunctionalNode = isFunctionalNode;\n// This is only intended for internal use where the values that are given are never null!\nconst shallowEqual = (objA, objB) => {\n    if (objA === objB) {\n        return true;\n    }\n    const keysA = Object.keys(objA);\n    const keysB = Object.keys(objB);\n    if (keysA.length !== keysB.length) {\n        return false;\n    }\n    // Test for A's keys different from B.\n    for (let i = 0; i < keysA.length; i++) {\n        if (objA[keysA[i]] !== objB[keysA[i]]) {\n            return false;\n        }\n    }\n    return true;\n};\nexports.shallowEqual = shallowEqual;\n// Renders the given virtualNode into the given parent node.\n// This will clear the parent node of all its children.\nfunction render(virtualNode, parent, key) {\n    VDom.current.render(virtualNode, parent, key);\n}\nexports.render = render;\n// Helper function for creating virtual DOM object.\nfunction vdom(type, props = undefined, ...children) {\n    return VDom.current.createVDom(type, props, ...children);\n}\nexports.vdom = vdom;\nif (typeof (document) !== 'undefined') {\n    VDom.current = new VDom(document);\n}\n//# sourceMappingURL=index.js.map","//// Types\n\n// The only thing all virtual elements have in common is that they *might* have a key.\nexport interface IVirtualElement\n{\n    readonly key?: string;\n}\n\n// Interface for container virtual elements.\nexport interface IVirtualContainerElement extends IVirtualElement\n{\n    // Children can be text or another object element.\n    // We need the text special type otherwise we wouldn't have a way to specify text.\n    readonly children: VirtualElement[];\n}\n\n// Properties that an intrinsic virtual element should have.\nexport interface IntrinsicProperties\n{\n    // Value for most input elements\n    readonly value?: string;\n\n    // Checked boolean for inputs\n    readonly checked?: boolean;\n\n    // Selected boolean for option elements\n    readonly selected?: boolean;\n}\n\n// Map of intrinsic attributes\nexport interface IntrinsicAttributes\n{\n    readonly [key: string]: string | number | boolean;\n}\n\n// Generic properties that are passed to 'props' of Functional and Class components.\nexport interface ComponentProperties\n{\n    readonly [key: string]: any;\n}\n\nexport interface IntrinsicEventListeners\n{\n    readonly [eventName: string]: Function;\n}\n\nexport type IntrinsicStyles = Partial<CSSStyleDeclaration>;\n\nexport interface VirtualIntrinsicElement extends IVirtualContainerElement\n{\n    // Properties of the this virtual DOM element.\n    readonly properties: IntrinsicProperties;\n\n    // Attributes to be set on an intrinsic element.\n    readonly attributes: IntrinsicAttributes;\n\n    // Events to be added on the intrinsic element.\n    readonly listeners: IntrinsicEventListeners;\n\n    // Inline styles to be applied on the intrinsic element.\n    readonly style: IntrinsicStyles;\n\n    // The name of the node type ('div', 'span', etc)\n    readonly nodeName: string;\n}\n\nexport interface IVirtualComponent extends IVirtualContainerElement\n{\n    readonly props: ComponentProperties;\n}\n\nexport interface VirtualFunctionalElement extends IVirtualContainerElement\n{\n    readonly props: ComponentProperties;\n\n    readonly func: FunctionalComponent;\n}\n\nexport type ClassComponentConstructor = new () => ClassComponent;\nexport interface VirtualClassElement extends IVirtualContainerElement\n{\n    readonly props: ComponentProperties;\n\n    readonly ctor: ClassComponentConstructor;\n}\n\nexport interface VirtualTextElement\n{\n    readonly textValue: string;\n}\n\n//// Interface for DOM\n\nexport interface DomNodeList\n{\n    readonly length: number;\n    item(index: number): DomNode;\n}\n\nexport interface DomNode\n{\n    parentElement: DomElement | null;\n    nodeType: number;\n}\nexport interface DomText extends DomNode\n{\n    nodeValue: string | null;\n}\nexport interface DomDocument\n{\n    createElement: (type: string) => DomElement;\n    createElementNS: (namespace: any, type: string) => DomElement;\n    createTextNode: (text: string) => DomText;\n}\nexport interface DomInlineStyle\n{\n    setProperty: (key: string, value: any) => void;\n    removeProperty: (key: string) => void;\n}\nexport interface DomClassList\n{\n    readonly length: number;\n    item(index: number): string | null;\n    contains(className: string): boolean;\n    add(className: string, ...classNames: string[]): void;\n    remove(className: string, ...classNames: string[]): void;\n    toggle(className: string, force: boolean): boolean;\n}\nexport interface DomElement extends DomNode\n{\n    setAttribute: (qualifiedName: string, value: string) => void;\n    removeAttribute: (qualifiedName: string) => void;\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;\n    removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void;\n    appendChild: (node: any) => any;\n    removeChild: (node: any) => any;\n    insertBefore: (newNode: any, referenceNode: any) => any;\n    childNodes: DomNodeList;\n    style: DomInlineStyle;\n    classList: DomClassList;\n    querySelector(selectors: string): any | null;\n\n    // Value for most input elements\n    value?: string;\n\n    // Checked boolean for inputs\n    checked?: boolean;\n\n    // Selected boolean for option elements\n    selected?: boolean;\n}\n\n//// Internal Diffing Types\n\ninterface ObjectDiff\n{\n    [key: string]: any;\n}\n\nexport interface DiffResult\n{\n    readonly remove: ObjectDiff;\n    readonly add: ObjectDiff;\n}\n\nexport interface VDomData\n{\n    readonly domNode?: DomNode;\n    readonly vNode: VirtualElement;\n    readonly instance?: ClassComponent;\n}\ninterface VDomDataStore { [vdomKey: string]: VDomData };\n\n//// External Types\n\n// Represents a virtual element of either text, intrinsic, functional or class based.\nexport type VirtualElement = VirtualFunctionalElement | VirtualIntrinsicElement | VirtualTextElement | VirtualClassElement;\n\n// Our properties/attributes are just a map of string keys to any value at the moment.\nexport interface Props\n{\n    readonly [key: string]: any;\n}\n\n// Helper type for marking an interface as not being readonly. Should only be used while building an instance.\ntype Editable<T> =\n{\n    -readonly [P in keyof T]: T[P];\n}\n\n// A child virtual node is anything that a child node could be. Which could be an already created virtual element.\n// String and numbers should be turned into text nodes and a boolean should be ignored.\n// The boolean part is to support the conditional rendering of an element in TSX, eg: { condition && <div>Condition True</div> }\nexport type ChildVirtualNode = VirtualElement[] | VirtualElement | string | number | boolean;\n\n// Functional component, creates nodes based on the input.\nexport type FunctionalComponent<TProps extends Props = Props | any> = (props: TProps, children: VirtualElement[]) => VirtualElement | null | undefined;\n\n// Acceptable types for creating a virtual node, either an intrinsic type, a functional component or the constructor for a class component.\nexport type VirtualNodeType = string | FunctionalComponent | ClassComponentConstructor;\n\n// Used for triggering the final unmounting.\nexport type FinishUnmountHandler = () => void;\n\nexport abstract class ClassComponent<TProps extends Props = Props>\n{\n    public props: TProps = ({} as any);\n    public children: VirtualElement[] = [];\n    public vdom?: VDom = undefined;\n    public vdomKey: string = '';\n    public prevRenderedResult: boolean = false;\n    public unmounting: boolean = false;\n\n    public onMount() { }\n\n    // Called when unmounting. Calling finishUnmount is required to actually unmount the dom element.\n    // Calling later allows for animating something away before actually removing it.\n    public onUnmount(finishUnmount: FinishUnmountHandler) { finishUnmount(); }\n    public hasChanged(newProps: TProps)\n    {\n        return !shallowEqual(this.props, newProps);\n    }\n    public abstract render(): VirtualElement | null | undefined;\n\n    public internalRender(props: TProps, children: VirtualElement[]): VirtualElement | null | undefined\n    {\n        this.props = props;\n        this.children = children;\n\n        return this.render();\n    }\n\n    public forceUpdate()\n    {\n        if (!this.vdom)\n        {\n            return;\n        }\n\n        const domNode = this.rootDomNode();\n        if (!domNode)\n        {\n            return;\n        }\n\n        this.vdom.renderDom(domNode.parentElement as DomElement, this.render(), this.vdomKey);\n    }\n\n    public rootDomNode()\n    {\n        if (!this.vdom)\n        {\n            return null;\n        }\n\n        const vdomNode = this.vdom.vdomData[this.vdomKey];\n        if (vdomNode)\n        {\n            return (vdomNode.domNode as DomNode);\n        }\n\n        return null;\n    }\n}\n\n/**\n * VDom class represents a whole virtual DOM.\n *\n * A virtual DOM is an abstract and importantly light-weight representation of the DOM in the browser.\n * The purpose is to simplify manipulating real DOM elements by creating virtual DOM elements.\n *\n * The VDom is responsible for creating virtual elements from TSX syntax, keeping track of changes to the virtual DOM\n * and creating/manipulating DOM elements based on those changes.\n *\n * The virtual DOM is made up of virtual elements which are simple Javascript objects, for example a header with title would look like this\n *  {\n *      intrinsicType: \"h1\",\n *      props: {},\n *      children: [\n *          {\n *              text: \"Heading Text\"\n *          }\n *      ]\n *  }\n *\n * There are four kinds of virtual element types:\n * - Text: Plain text nodes, nearly all text in the DOM is done via a text node.\n * - Intrinsic: Built in supported node types, eg: h1, div, span, input, etc\n * - Functional: An element that is represented by a function where upon executing it, it will return a virtual element.\n * - Class: An element that is represented by a class instance which contains a render method which will return a virtual element.\n */\nexport class VDom\n{\n    // Static fields\n    // Keeps track of the current vdom that will be used by the default exported vdom/render functions.\n    static current: VDom;\n\n    // Keeps track of all the virtual DOM information.\n    public vdomData: VDomDataStore = {};\n    // Namespace stack, keeps track of the current (beyond the empty default) XML namespace to use.\n    // This is used for SVG support.\n    public nsStack: string[] = [];\n\n    // The document that the virtual dom is apart of.\n    public doc: DomDocument;\n\n    // Root key used to define the entry point for a virtual dom\n    public readonly rootKey: string = 'R';\n\n    // Create the VDom with the given document.\n    constructor (doc: DomDocument)\n    {\n        this.doc = doc;\n    }\n\n    // The main render function which turns a virtual element into DOM elements.\n    public render(virtualNode: VirtualElement, parent: DomElement, key?: string)\n    {\n        this.nsStack = [];\n        this.renderDom(parent, virtualNode, key || this.rootKey);\n    }\n\n    //// Create virtual DOM elements\n\n    // Main function creating virtual elements. Usually exposed through the `vdom` function.\n    public createVDom(nodeType: VirtualNodeType, props: any | undefined = undefined, ...children: ChildVirtualNode[]): VirtualElement\n    {\n        // Handle getting back an array of children. Eg: [[item1, item2]] instead of just [item1, item2].\n        const processedChildren = children.flat(Infinity)\n            .filter(child => child != undefined && typeof(child) !== 'boolean')\n            .map(this.processChildNode);\n\n        props = props || {};\n\n        if (typeof(nodeType) === 'string')\n        {\n            return this.createIntrinsicNode(nodeType, props, processedChildren);\n        }\n        if (nodeType.prototype instanceof ClassComponent)\n        {\n            return this.createClassNode(nodeType as ClassComponentConstructor, props, processedChildren);\n        }\n        if (typeof(nodeType) === 'function')\n        {\n            return this.createFunctionalNode(nodeType as FunctionalComponent, props, processedChildren);\n        }\n\n        throw new Error('Unknown virtual node type');\n    }\n\n    // Clears the virtual DOM, deleting all created DOM elements along the way.\n    public clear()\n    {\n        this.deleteVDomData(this.vdomData[this.rootKey], this.rootKey);\n        this.vdomData = {};\n        this.nsStack = [];\n    }\n\n    // Handle child virtual nodes which will either be a virtual element (already gone through createVDom) or is a plain string or number.\n    private processChildNode = (input: ChildVirtualNode): VirtualElement =>\n    {\n        // At this point we should have already checked for undefined, null and boolean,\n        // so an object here should be a virtual element, or string or a number.\n        if (typeof(input) === 'object')\n        {\n            return input as VirtualElement;\n        }\n\n        return this.createTextNode(input.toString());\n    }\n\n    // A very basic text node.\n    public createTextNode(textValue: string): VirtualTextElement\n    {\n        return { textValue }\n    }\n\n    // We want to create an intrinsic node so process the props into attributes, events, styles, values and children.\n    public createIntrinsicNode(intrinsicType: string, inputProps: Props, children: VirtualElement[]): VirtualIntrinsicElement\n    {\n        const attributes: Editable<IntrinsicAttributes> = {}\n        const eventListeners: Editable<IntrinsicEventListeners> = {};\n        const properties: Editable<IntrinsicProperties> = {};\n        let style: IntrinsicStyles = {};\n\n        for (const prop in inputProps)\n        {\n            const propValue = inputProps[prop];\n            if (attributeIsEventListener(prop, propValue))\n            {\n                eventListeners[prop.substr(2)] = propValue;\n            }\n            else if (attributeIsProperty(prop))\n            {\n                properties[prop] = propValue;\n            }\n            else if (prop === 'style')\n            {\n                style = propValue as IntrinsicStyles;\n            }\n            else if (prop === 'key')\n            {\n                // Ignore\n            }\n            else\n            {\n                attributes[prop] = propValue;\n            }\n        }\n\n        return {\n            children,\n            nodeName: intrinsicType,\n            attributes,\n            style,\n            listeners: eventListeners,\n            key: inputProps.key,\n            properties\n        }\n    }\n\n    // Create a class node from a class node constructor with props and children.\n    public createClassNode(ctor: ClassComponentConstructor, inputProps: ComponentProperties, children: VirtualElement[]): VirtualClassElement\n    {\n        const key = inputProps.key;\n        inputProps = processComponentProps(inputProps);\n\n        return {\n            children,\n            ctor,\n            props: inputProps,\n            key\n        }\n    }\n\n    // Create a functional node from a function with props and children.\n    public createFunctionalNode(renderNode: FunctionalComponent, inputProps: ComponentProperties, children: VirtualElement[]): VirtualFunctionalElement\n    {\n        const key = inputProps.key;\n        inputProps = processComponentProps(inputProps);\n\n        return {\n            children,\n            func: renderNode,\n            props: inputProps,\n            key\n        }\n    }\n\n    //// Processing virtual elements into actual DOM elements.\n\n    // Takes a virtual element and turns it into a DOM node.\n    public renderDom(parentNode: DomElement, vNode: VirtualElement | undefined | null, key: string): boolean\n    {\n        const currentVDom = this.vdomData[key];\n\n        if (this.hasVElementChanged(currentVDom?.vNode, vNode))\n        {\n            this.deleteVDomData(currentVDom, key);\n        }\n\n        if (!vNode)\n        {\n            return false;\n        }\n\n        if (isTextNode(vNode))\n        {\n            return this.renderTextNode(currentVDom, parentNode, vNode, key);\n        }\n        else if (isClassNode(vNode))\n        {\n            return this.renderClassNode(currentVDom, parentNode, vNode, key);\n        }\n        else if (isFunctionalNode(vNode))\n        {\n            return this.renderFunctionalNode(parentNode, vNode, key);\n        }\n        else if (isIntrinsicNode(vNode))\n        {\n            return this.renderIntrinsicNode(currentVDom, parentNode, vNode, key);\n        }\n\n        return false;\n    }\n\n    // Deletes a virtual element along with any created DOM elements.\n    public deleteVDomData(vdomNode: VDomData, key: string)\n    {\n        if (!vdomNode)\n        {\n            return;\n        }\n\n        if (isIntrinsicNode(vdomNode.vNode))\n        {\n            const children = vdomNode.vNode.children;\n            for (let i = 0; i < children.length; i++)\n            {\n                const childKey = createChildKey(children[i], key, i);\n                const childVDom = this.vdomData[childKey];\n                this.deleteVDomData(childVDom, childKey);\n            }\n        }\n        else if (isFunctionalNode(vdomNode.vNode) || isClassNode(vdomNode.vNode))\n        {\n            const componentChildKey = createComponentKey(key);\n            const componentChildVDom = this.vdomData[componentChildKey];\n\n            if (isClassNode(vdomNode.vNode))\n            {\n                const classComponent = vdomNode.instance as ClassComponent;\n                classComponent.unmounting = true;\n\n                classComponent.onUnmount(() =>\n                {\n                    // The component could be re-mounted whilst it's unmounting, if that changes don't actually unmount.\n                    if (classComponent.unmounting)\n                    {\n                        this.deleteVDomData(componentChildVDom, componentChildKey)\n                    }\n                });\n            }\n            else\n            {\n                this.deleteVDomData(componentChildVDom, componentChildKey);\n            }\n        }\n\n        removeDomElement(vdomNode.domNode);\n        delete this.vdomData[key];\n    }\n\n    // Check if a virtual element has fundamentally changed, either it's not the same type (functional vs class vs intrinsic).\n    // Also checks if they're same type of component if the function in the functional component is now a different function or\n    // the intrinsic node type is different.\n    public hasVElementChanged(oldNode: VirtualElement, newNode: VirtualElement | undefined | null)\n    {\n        if (!oldNode)\n        {\n            return false;\n        }\n\n        if (!newNode)\n        {\n            return true;\n        }\n\n        if (isFunctionalNode(oldNode))\n        {\n            return oldNode.func !== (newNode as VirtualFunctionalElement).func;\n        }\n        if (isClassNode(oldNode))\n        {\n            return oldNode.ctor !== (newNode as VirtualClassElement).ctor;\n        }\n        if (isIntrinsicNode(oldNode))\n        {\n            return oldNode.nodeName !== (newNode as VirtualIntrinsicElement).nodeName;\n        }\n\n        return false;\n    }\n\n    // Render a text node, either create it or update the existing one.\n    public renderTextNode(currentVDom: VDomData | undefined, parentNode: DomElement, vNode: VirtualTextElement, key: string)\n    {\n        if (!currentVDom)\n        {\n            const domNode = this.doc.createTextNode(vNode.textValue);\n            parentNode.appendChild(domNode);\n            this.vdomData[key] = { domNode, vNode }\n        }\n        else if ((currentVDom.vNode as VirtualTextElement).textValue !== vNode.textValue)\n        {\n            (currentVDom.domNode as DomText).nodeValue = vNode.textValue;\n            this.vdomData[key] = { domNode: currentVDom.domNode, vNode }\n        }\n\n        return true;\n    }\n\n    // Render a functional node.\n    public renderFunctionalNode(parentNode: DomElement, vNode: VirtualFunctionalElement, key: string)\n    {\n        const functionalChildKey = createComponentKey(key);\n        const rendered = this.renderDom(parentNode, vNode.func(vNode.props, vNode.children), functionalChildKey);\n        this.vdomData[key] = { vNode }\n\n        return rendered;\n    }\n\n    // Render a class node, mount it if it's new and checks if the props have changed and ignore further rendering.\n    public renderClassNode(currentVDom: VDomData, parentNode: DomElement, vNode: VirtualClassElement, key: string)\n    {\n        let inst = currentVDom?.instance;\n        const isNew = !inst;\n        if (!inst)\n        {\n            inst = new vNode.ctor();\n            inst.vdomKey = createComponentKey(key);\n            inst.vdom = this;\n        }\n        else if (!inst.hasChanged(vNode.props))\n        {\n            return inst.prevRenderedResult;\n        }\n\n        const renderedVNode = inst.internalRender(vNode.props, vNode.children);\n        let rendered = false;\n        if (renderedVNode)\n        {\n            rendered = this.renderDom(parentNode, renderedVNode, inst.vdomKey);\n        }\n\n        inst.prevRenderedResult = rendered;\n        this.vdomData[key] = { vNode, instance: inst }\n\n        if (isNew || inst.unmounting)\n        {\n            inst.unmounting = false;\n            inst.onMount();\n        }\n\n        return rendered;\n    }\n\n    // Renders an intrinsic node, either creates or updates it along with attributes, event listeners, inline styles or input properties.\n    public renderIntrinsicNode(currentVDom: VDomData, parentNode: DomElement, vNode: VirtualIntrinsicElement, key: string)\n    {\n        const currentIntrinsicVNode = currentVDom?.vNode as VirtualIntrinsicElement;\n\n        const newXmlNs = vNode.attributes?.xmlns;\n        if (newXmlNs)\n        {\n            this.nsStack.push(newXmlNs as string);\n        }\n\n        const newNode = !currentVDom || currentIntrinsicVNode.nodeName !== vNode.nodeName;\n\n        let domNode: DomElement;\n        if (newNode)\n        {\n            if (currentVDom)\n            {\n                removeDomElement(currentVDom.domNode);\n            }\n\n            const stackXmlNs = this.nsStack[this.nsStack.length - 1];\n            if (stackXmlNs)\n            {\n                domNode = this.doc.createElementNS(stackXmlNs, vNode.nodeName);\n            }\n            else\n            {\n                domNode = this.doc.createElement(vNode.nodeName);\n            }\n            parentNode.appendChild(domNode);\n        }\n        else\n        {\n            domNode = currentVDom.domNode as DomElement;\n        }\n\n        this.vdomData[key] = { domNode, vNode };\n\n        this.renderChildrenNodes(currentIntrinsicVNode, domNode, vNode, key);\n\n        // Add or apply attributes after children are created for select element.\n        this.applyAttributes(domNode, currentIntrinsicVNode?.attributes, vNode.attributes);\n        this.applyStyle(domNode, currentIntrinsicVNode?.style, vNode.style);\n        this.applyEventListeners(domNode, currentIntrinsicVNode?.listeners, vNode.listeners);\n        this.applyProperties(domNode, currentIntrinsicVNode?.properties, vNode.properties);\n\n        if (newXmlNs)\n        {\n            this.nsStack.pop();\n        }\n\n        return true;\n    }\n\n    protected getChildWithDomNode(child: VirtualElement, childKey: string) : DomNode | undefined\n    {\n        const newVDom = isFunctionalNode(child) || isClassNode(child) ?\n            this.vdomData[createComponentKey(childKey)] :\n            this.vdomData[childKey];\n\n        if (!newVDom)\n        {\n            return undefined;\n        }\n\n        if (!newVDom.domNode && (isFunctionalNode(newVDom.vNode) || isClassNode(newVDom.vNode)))\n        {\n            return this.getChildWithDomNode(newVDom.vNode, createComponentKey(childKey));\n        }\n\n        return newVDom.domNode;\n    }\n\n    public renderChildrenNodes(currentIntrinsicVNode: VirtualIntrinsicElement | undefined, domNode: DomElement, vNode: VirtualIntrinsicElement, key: string)\n    {\n        const previousChildren = currentIntrinsicVNode?.children;\n        const keysToRemove: { [key: string]: VirtualElement } = {};\n        const previousVNodes: VDomData[] = [];\n\n        if (previousChildren)\n        {\n            for (let i = 0; i < previousChildren.length; i++)\n            {\n                const child = previousChildren[i];\n                const childKey = createChildKey(child, key, i);\n                keysToRemove[childKey] = child;\n                previousVNodes[i] = this.vdomData[childKey];\n            }\n        }\n\n        const domNodeChildren = domNode.childNodes;\n\n        for (let i = 0, domIndex = 0; i < vNode.children.length; i++, domIndex++)\n        {\n            const child = vNode.children[i];\n            const childKey = createChildKey(child, key, i);\n            const rendered = this.renderDom(domNode, child, childKey);\n            delete keysToRemove[childKey];\n\n            if (!rendered)\n            {\n                domIndex--;\n                continue;\n            }\n\n            const newDomNode = this.getChildWithDomNode(child, childKey);\n\n            if (!newDomNode)\n            {\n                continue;\n            }\n\n            if (domNodeChildren.item(domIndex) !== newDomNode)\n            {\n                domNode.insertBefore(newDomNode, domNodeChildren.item(domIndex));\n            }\n        }\n\n        for (const childKey in keysToRemove)\n        {\n            const childVDom = this.vdomData[childKey];\n            this.deleteVDomData(childVDom, childKey);\n        }\n    }\n\n    //// Handling DOM attributes\n\n    public applyAttributes(domElement: DomElement, currentProps: IntrinsicAttributes | undefined, newProps: IntrinsicAttributes | undefined): DiffResult\n    {\n        const diff = this.diffProps(currentProps, newProps);\n\n        for (const prop in diff.remove)\n        {\n            domElement.removeAttribute(prop);\n        }\n        for (const prop in diff.add)\n        {\n            domElement.setAttribute(prop, diff.add[prop]);\n        }\n\n        return diff;\n    }\n\n    //// Handle setting inline DOM CSS styles.\n\n    public applyStyle(domElement: DomElement, currentStyle: IntrinsicStyles | undefined, newStyle: IntrinsicStyles | undefined): DiffResult\n    {\n        const diff = this.diffProps(currentStyle, newStyle);\n\n        for (const prop in diff.remove)\n        {\n            domElement.style.removeProperty(prop);\n        }\n        for (const prop in diff.add)\n        {\n            domElement.style.setProperty(prop, diff.add[prop]);\n        }\n\n        return diff;\n    }\n\n    //// Handle setting event listeners on DOM elements.\n\n    public applyEventListeners(domElement: DomElement, currentListeners: IntrinsicEventListeners | undefined, newListeners: IntrinsicEventListeners | undefined): DiffResult\n    {\n        const diff = this.diffProps(currentListeners, newListeners);\n\n        for (const eventType in diff.remove)\n        {\n            domElement.removeEventListener(eventType, diff.remove[eventType]);\n        }\n        for (const eventType in diff.add)\n        {\n            domElement.addEventListener(eventType, diff.add[eventType]);\n        }\n\n        return diff;\n    }\n\n    //// Handle setting properties on DOM elements.\n\n    public applyProperties(domElement: DomElement, currentProps: IntrinsicProperties | undefined, newProps: IntrinsicProperties | undefined): DiffResult\n    {\n        const diff = this.diffProps(currentProps, newProps);\n\n        for (const prop in diff.remove)\n        {\n            (domElement as any)[prop] = undefined;\n        }\n        for (const prop in diff.add)\n        {\n            (domElement as any)[prop] = diff.add[prop];\n        }\n\n        return diff;\n    }\n\n    // Basic process for checking what has changed between current and new props.\n    public diffProps(currentProps: Props | undefined, newProps: Props = {}): DiffResult\n    {\n        const remove: ObjectDiff = Object.assign({}, currentProps);\n        const add: ObjectDiff = {};\n\n        for (const prop in newProps)\n        {\n            const currentValue = remove[prop];\n            const newValue = newProps[prop];\n            if (currentValue != undefined && currentValue === newValue)\n            {\n                delete remove[prop];\n            }\n            else\n            {\n                add[prop] = newValue;\n            }\n        }\n\n        return { remove, add }\n    }\n}\n\nconst attributeIsEventListener = (attribute: string, value?: string | EventListener | CSSStyleDeclaration): value is EventListener =>\n{\n    return attribute.startsWith('on') && typeof(value) === 'function';\n}\n\nconst attributeIsProperty = (attribute: string): attribute is keyof IntrinsicProperties =>\n{\n    return attribute === 'value' || attribute === 'checked' || attribute === 'selected';\n}\n\nconst removeDomElement = (domElement?: DomNode) =>\n{\n    if (!domElement) return;\n\n    domElement.parentElement?.removeChild(domElement);\n}\n\nconst processComponentProps = (inputProps: ComponentProperties) =>\n{\n    if (inputProps.key !== undefined)\n    {\n        inputProps = {...inputProps};\n        delete (inputProps as any)['key'];\n    }\n    return inputProps;\n}\n\nexport const createChildKey = (child: VirtualElement, parentKey: string, index: number) =>\n{\n    if (!isTextNode(child))\n    {\n        const childKey = child.key;\n        if (childKey != undefined)\n        {\n            return `${parentKey}_:${childKey}`;\n        }\n    }\n    return `${parentKey}_${index}`;\n}\n\nexport const createComponentKey = (parentKey: string) =>\n{\n    return `${parentKey}_C`;\n}\n\nexport const isIntrinsicNode = (vNode: VirtualElement): vNode is VirtualIntrinsicElement =>\n{\n    return !!(vNode as VirtualIntrinsicElement).nodeName;\n}\n\nexport const isClassNode = (vNode: VirtualElement): vNode is VirtualClassElement =>\n{\n    return !!(vNode as VirtualClassElement).ctor;\n}\n\nexport const isTextNode = (vNode: VirtualElement): vNode is VirtualTextElement =>\n{\n    return !!(vNode as VirtualTextElement).textValue;\n}\n\nexport const isFunctionalNode = (vNode: VirtualElement): vNode is VirtualFunctionalElement =>\n{\n    return !!(vNode as VirtualFunctionalElement).func;\n}\n\n\n// This is only intended for internal use where the values that are given are never null!\nexport const shallowEqual = (objA: any, objB: any) =>\n{\n    if (objA === objB)\n    {\n        return true;\n    }\n\n    const keysA = Object.keys(objA);\n    const keysB = Object.keys(objB);\n\n    if (keysA.length !== keysB.length)\n    {\n        return false;\n    }\n\n    // Test for A's keys different from B.\n    for (let i = 0; i < keysA.length; i++)\n    {\n        if (objA[keysA[i]] !== objB[keysA[i]])\n        {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n// Renders the given virtualNode into the given parent node.\n// This will clear the parent node of all its children.\nexport function render(virtualNode: VirtualElement, parent: DomElement, key?: string)\n{\n    VDom.current.render(virtualNode, parent, key);\n}\n\n// Helper function for creating virtual DOM object.\nexport function vdom(type: VirtualNodeType, props: any | undefined = undefined, ...children: ChildVirtualNode[]): VirtualElement\n{\n    return VDom.current.createVDom(type, props, ...children);\n}\n\nif (typeof(document) !== 'undefined')\n{\n    VDom.current = new VDom(document);\n}","import DataStore, { Modifier } from 'simple-data-store';\nimport { Editable, Opaque } from './common-types';\n\nexport type PostAssetType = 'text' | 'intrinsic' | 'component';\nexport type PageId = Opaque<string, 'PageId'>;\nexport type Url = Opaque<string, 'Url'>;\n\nexport interface PostAssetAttributes\n{\n    readonly [key: string]: string;\n}\n\nexport interface PageState\n{\n    readonly id: PageId;\n    readonly title: string;\n    readonly defaultPage?: boolean;\n}\n\nexport interface PageStored extends PageState\n{\n    readonly type: \"page\";\n}\n\nexport interface ImageDimension\n{\n    readonly width: number;\n    readonly height: number;\n}\n\nexport interface PostPictureState\n{\n    readonly url: Url;\n    readonly fullSizeUrl?: Url;\n    readonly caption: string;\n    readonly dimension?: ImageDimension;\n}\n\nexport interface PostLinkState\n{\n    readonly url: Url;\n    readonly icon: string;\n    readonly title?: string;\n}\n\nexport interface PostParagraphState\n{\n    readonly text?: string[];\n    readonly list?: string[];\n    readonly pictures?: PostPictureState[];\n    readonly picturePosition?: 'left' | 'right' | 'center';\n    readonly links?: PostLinkState[];\n}\n\nexport interface PostState\n{\n    readonly pageId: PageId;\n    readonly contents: PostParagraphState[];\n}\n\nexport interface PostStored extends PostState\n{\n    readonly type: \"post\";\n}\n\nexport interface BackgroundStored\n{\n    readonly type: \"background\";\n    readonly backgroundType: \"light\" | \"dark\";\n    readonly url: string;\n}\n\nexport interface PostStateMap\n{\n    readonly [pageId: string]: PostState[];\n}\n\nexport interface Backgrounds\n{\n    readonly light: string[];\n    readonly dark: string[];\n}\n\nexport interface State\n{\n    readonly pages: PageState[];\n    readonly backgrounds: Backgrounds;\n    readonly posts: PostStateMap;\n    readonly selectedPageId: string;\n    readonly darkTheme: boolean;\n    readonly postsHeight: number;\n    readonly isMobile: boolean;\n    readonly ripplesEnabled: boolean;\n}\n\nexport type DataStored = PageStored | PostStored | BackgroundStored;\n\nexport interface WindowHistory\n{\n    readonly pageId: PageId;\n}\n\n///////\n\nexport function clearLoadedData(): Modifier<State>\n{\n    return () =>\n    {\n        return {\n            pages: [],\n            posts: {},\n            selectedPageId: '' as PageId\n        }\n    }\n}\n\nexport function setPostsHeight(postsHeight: number): Modifier<State>\n{\n    return () => { return { postsHeight } }\n}\n\nexport function setIsMobile(isMobile: boolean): Modifier<State>\n{\n    return () => { return { isMobile } }\n}\n\nexport function setSelectedPageId(selectedPageId: PageId): Modifier<State>\n{\n    return () => { return { selectedPageId } }\n}\n\nexport function setDarkTheme(darkTheme: boolean): Modifier<State>\n{\n    return () => { return { darkTheme } }\n}\n\nexport function setEnableRipples(ripplesEnabled: boolean): Modifier<State>\n{\n    return () => { return { ripplesEnabled } }\n}\n///////\n\nexport let store: DataStore<State>;\n\nexport function setStore(s: DataStore<State>)\n{\n    store = s;\n}","import \"../normalize.css\";\nimport \"../styles.scss\";\nimport \"../grid.scss\";\nimport \"./app.scss\";\nimport \"./ripples-comp.scss\";\n\nimport { FunctionalComponent, vdom } from \"simple-tsx-vdom\";\nimport { PageState, setSelectedPageId, State, store, WindowHistory } from \"../store\";\nimport { Navbar } from \"./navbar\";\nimport { Posts } from \"./posts\";\nimport RipplesComp from \"./ripples-comp\";\nimport { AllIcons } from \"./icon\";\nimport MobileBottomNavbar from \"./mobile-bottom-navbar\";\nimport MobileTopNavbar from \"./mobile-top-navbar\";\n\ninterface Props\n{\n    readonly state: State;\n}\n\nlet postsContainerEl: HTMLElement | null = null;\nlet htmlEl: HTMLElement | null = null;\n\nexport const App: FunctionalComponent<Props> = (props: Props) =>\n{\n    const { pages, posts, selectedPageId, darkTheme, isMobile, ripplesEnabled, backgrounds } = props.state;\n\n    if (postsContainerEl == undefined && typeof(window) !== 'undefined')\n    {\n        postsContainerEl = document.querySelector('.app__post-container');\n        htmlEl = document.body.parentElement;\n    }\n\n    // The extra div around posts is for handling the unmounting stage and we don't want the old posts to be suddenly after the footer (which would push it up).\n\n    return <div class='app-wrapper'>\n        <AllIcons />\n        <main class='app'>\n            { !isMobile && <Navbar\n                selectedPageId={selectedPageId}\n                pages={pages}\n                onPageChange={onPageChange}\n                darkTheme={darkTheme}\n                ripplesEnabled={ripplesEnabled} /> }\n\n            { isMobile && <MobileTopNavbar\n                darkTheme={darkTheme}\n                ripplesEnabled={ripplesEnabled} /> }\n\n            <div class='container app__post-container'>\n                <Posts key={selectedPageId} category={pages.find(c => c.id === selectedPageId)} posts={posts[selectedPageId]} />\n            </div>\n\n            { isMobile && <MobileBottomNavbar\n                selectedPageId={selectedPageId}\n                pages={pages}\n                onPageChange={onPageChange} /> }\n        </main>\n\n        {/* { ripplesEnabled &&\n        <RipplesComp\n            darkTheme={darkTheme}\n            backgrounds={backgrounds}\n            scrollElement={isMobile ? postsContainerEl : htmlEl} /> } */}\n    </div>\n}\n\nfunction onPageChange(page: PageState)\n{\n    const pushedState: WindowHistory =\n    {\n        pageId: page.id\n    }\n\n    window.history.pushState(pushedState, page.title, `/${page.id}`);\n    store.execute(setSelectedPageId(page.id));\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { PageId, PageState } from \"../store\";\nimport NavbarMenu from \"./navbar-menu\";\nimport NavbarPageButton from \"./navbar-page-button\";\nimport './navbar.scss';\n\ninterface Props\n{\n    readonly selectedPageId: PageId;\n    readonly pages: PageState[];\n    readonly darkTheme: boolean;\n    readonly ripplesEnabled: boolean;\n    readonly onPageChange: (page: PageState) => void;\n}\n\nexport class Navbar extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { pages, selectedPageId, darkTheme, ripplesEnabled } = this.props;\n\n        return <nav class='navbar'>\n            <h1>Alan Lawrey</h1>\n            <div class='navbar__page-buttons'>\n                { pages.map(page => <NavbarPageButton active={page.id === selectedPageId} page={page} onClick={this.onClickPage} />) }\n            </div>\n\n            <NavbarMenu darkTheme={darkTheme} ripplesEnabled={ripplesEnabled} />\n        </nav>\n    }\n\n    private onClickPage = (page: PageState) =>\n    {\n        this.props.onPageChange(page);\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { setDarkTheme, setEnableRipples, store } from \"../store\";\nimport CircleButton from \"./circle-button\";\nimport Menu from \"./menu\";\n\ninterface Props\n{\n    readonly darkTheme: boolean;\n    readonly ripplesEnabled: boolean;\n}\n\nexport default class NavbarMenu extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { darkTheme, ripplesEnabled } = this.props;\n\n        return <Menu>\n            <CircleButton icon='theme' text={`${darkTheme ? 'Light' : 'Dark'} Theme`} onclick={this.toggleDarkTheme} active={darkTheme} />\n            <CircleButton icon='ripples' text={ripplesEnabled ? 'Ripples Off' : 'Ripples On'} disableIcon={!ripplesEnabled} onclick={this.toggleRipples} />\n        </Menu>\n    }\n\n    private toggleDarkTheme = () =>\n    {\n        store.execute(setDarkTheme(!this.props.darkTheme));\n    }\n\n    private toggleRipples = () =>\n    {\n        store.execute(setEnableRipples(!this.props.ripplesEnabled));\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport Icon, { IconType } from \"./icon\";\nimport \"./circle-button.scss\";\n\ninterface Props\n{\n    readonly icon: IconType;\n    readonly text: string;\n    readonly onclick: () => void;\n    readonly active?: boolean;\n    readonly disabled?: boolean;\n    readonly disableIcon?: boolean;\n}\n\nexport default class CircleButton extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { icon, text, active, disableIcon, disabled } = this.props;\n\n        const classNames = `circle-button ${disabled ? 'disabled' : ''}`;\n\n        return <div class={classNames} onclick={this.onClick}>\n            <span class='circle-button__text'>{ text }</span>\n            <Icon class='circle-button__icon' icon={icon} size={32} active={active} disabled={disableIcon} />\n        </div>\n    }\n\n    private onClick = () =>\n    {\n        if (this.props.disabled)\n        {\n            return;\n        }\n\n        if (typeof(this.props.onclick) === 'function')\n        {\n            this.props.onclick();\n        }\n    }\n}","import { ClassComponent, FinishUnmountHandler, vdom } from \"simple-tsx-vdom\";\nimport \"./icon.scss\";\n\nexport type IconType = 'github' | 'npm' | 'youtube' | 'cog' | 'ripples' | 'theme';\n\ninterface Props\n{\n    readonly icon: IconType;\n    readonly size?: number;\n    readonly class?: string;\n    readonly active?: boolean;\n    readonly disabled?: boolean;\n}\n\ninterface ThemeProps\n{\n    readonly class?: string;\n}\n\nconst classesToAdd: { readonly [iconType: string]: string } = {\n    'npm': 'has-fill',\n    'github': 'fill-on-hover has-stroke',\n    'cog': 'fill-on-hover has-stroke',\n    'youtube': 'fill-on-hover has-stroke',\n    'ripples': 'has-fill',\n    'theme': 'theme-icon has-stroke'\n}\n\nconst svgXmlNs = \"http://www.w3.org/2000/svg\";\nconst viewbox = \"0 0 512 512\";\n\nexport default class Icon extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { icon, size, active, disabled } = this.props;\n\n        const style: any = {}\n        if (typeof(size) === 'number' && isFinite(size))\n        {\n            style['width'] = style['height'] = `${size}px`;\n        }\n\n        const classNames = `icon ${this.props.class || ''} ${classesToAdd[icon] || ''} ${active ? 'active' : ''}`;\n\n        if (icon === 'theme')\n        {\n            return <ThemeIcon class={classNames} />\n        }\n        return <svg xmlns={svgXmlNs} style={style} viewBox={viewbox} class={classNames}>\n            <use href={`#${icon}`}></use>\n            { disabled && <DisableIcon /> }\n        </svg>\n    }\n}\n\nclass ThemeIcon extends ClassComponent<ThemeProps>\n{\n    public render()\n    {\n        const classNames = this.props.class;\n        if (classNames?.includes('active'))\n        {\n            setTimeout(() => this.gotoMoon());\n        }\n        else\n        {\n            setTimeout(() => this.gotoSun());\n        }\n\n        return <svg class={classNames || ''} xmlns={svgXmlNs} viewBox={viewbox}>\n            <g>\n                <animateTransform class='begin-animation' attributeName=\"transform\" type=\"rotate\" dur=\"0.5\" repeatCount=\"1\" fill=\"freeze\" calcMode=\"spline\" begin=\"indefinite\" keySplines=\"0.7 0 0.3 1\" values=\"0 256 512 ; 180 256 512\"/>\n                <animateTransform class='end-animation' attributeName=\"transform\" type=\"rotate\" dur=\"0.5\" repeatCount=\"1\" fill=\"freeze\" calcMode=\"spline\" begin=\"indefinite\" keySplines=\"0.7 0 0.3 1\" values=\"180 256 512 ; 360 256 512\"/>\n\n                <path d=\"m319 897.73c68-40 92-128 53-197-40-69-128-92-197-53-23 13-42 33-55 57 57-31 138-12 171 44 32 56 23 132-48 168 26.6.1 52-5 76-19z\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n\n                <circle cx=\"256\" cy=\"256\" r=\"88\" />\n                <g stroke-linecap=\"round\">\n                    <path d=\"m395 116.85-46 46\"/>\n                    <path d=\"m452 256h-65\"/>\n                    <path d=\"m395 395-46-46\"/>\n                    <path d=\"m256 452v-65\"/>\n                    <path d=\"m116 116 46 46\"/>\n                    <path d=\"m59 256h65\"/>\n                    <path d=\"m116 395 46-46\"/>\n                    <path d=\"m256 59v65\"/>\n                </g>\n            </g>\n        </svg>\n    }\n\n    private gotoMoon = () =>\n    {\n        const beginAni = (this.rootDomNode()?.parentElement as HTMLElement)?.querySelector('.begin-animation') as SVGAnimateTransformElement;\n        if (beginAni)\n        {\n            (beginAni as any).beginElement();\n        }\n    }\n\n    private gotoSun = () =>\n    {\n        const endAni = (this.rootDomNode()?.parentElement as HTMLElement)?.querySelector('.end-animation') as SVGAnimateTransformElement;\n        if (endAni)\n        {\n            (endAni as any).beginElement();\n        }\n    }\n}\n\nclass DisableIcon extends ClassComponent\n{\n    private path: SVGPathElement | null = null;\n\n    public onMount()\n    {\n        const domElement = this.rootDomNode() as HTMLElement;\n        if (!domElement)\n        {\n            return;\n        }\n\n        this.path = domElement.querySelector('path');\n\n        if (typeof window === 'undefined')\n        {\n            this.path?.classList.add('mounted');\n        }\n        else\n        {\n            setTimeout(() =>\n                this.path?.classList.add('mounted') , 50);\n        }\n    }\n\n    public onUnmount(finishedHandler: FinishUnmountHandler)\n    {\n        if (!this.path)\n        {\n            finishedHandler();\n            return;\n        }\n\n        this.path?.classList.remove('mounted');\n        this.path?.classList.add('unmounted');\n\n        setTimeout(finishedHandler, 300);\n    }\n\n    public render()\n    {\n        return <svg xmlns={svgXmlNs} viewBox={viewbox}>\n            <path class=\"disabled-icon\" d=\"M60,60 L452,452\" stroke=\"#a50505\" stroke-width=\"36\" />\n        </svg>\n    }\n}\n\n// This keeps all the icons in one SVG atlas which can then be used by id ref by individual Icon components.\nexport class AllIcons extends ClassComponent\n{\n    public render()\n    {\n        return <svg xmlns={svgXmlNs} style={{'display': 'none'}}>\n            <defs>\n                <g id=\"github\">\n                    <path d=\"m256.04 40.719a12.101 12.101 0 01-.0586.002c-122.18 0-221.01 98.821-221.01 221.04 0 97.422 62.943 179.91 150.26 209.4.38186.0493.69175.0942.87891.10156-.003-3.4698-.11415-15.222-.20508-25.107-27.464 2.7336-47.158-5.0022-59.33-15.113-14.232-11.822-18.799-26.721-18.799-26.721l.32618.9375c-4.7106-11.964-10.209-19.009-14.23-23.041-4.0218-4.0316-5.541-4.543-5.541-4.543a12.101 12.101 0 01-1.6855-.96289c-6.1107-4.173-10.297-7.152-13.012-13.621-1.3576-3.2345-1.7567-8.1312-.04883-12.045 1.7079-3.9138 4.5608-6.0923 6.7617-7.3457 4.4017-2.5068 7.6019-2.7105 10.174-2.9941 2.572-.28365 4.7051-.25391 4.7051-.25391a12.101 12.101 0 01.69727.0293c30.762 2.1653 45.461 30.27 45.461 30.27l-.1543-.26953c8.7038 14.91 17.877 18.479 27.371 19.326 6.9177.61754 14.097-.96515 19.641-2.8203 1.117-4.7619 2.5325-9.1837 4.332-13.15-20.939-4.0467-41.963-11.405-59.438-26.117-22.933-19.308-37.99-51.035-37.99-98.162 0-25.618 8.5952-47.73 22.586-65.25-3.4062-12.042-6.7793-34.8 4.5508-63.455a12.101 12.101 0 017.5586-7.0742s3.2924-.90645 6.8887-1.0723 8.4788.0901 14.646 1.3887c11.453 2.4114 27.524 8.7025 48.361 22.156 18.177-4.5474 37.226-6.9097 56.203-7.0059a12.101 12.101 0 01.13476 0c18.951.11661 37.987 2.4616 56.186 7.0059 20.822-13.453 36.88-19.742 48.324-22.154 6.1631-1.2988 11.042-1.5566 14.637-1.3906 3.5946.16595 6.8867 1.0742 6.8867 1.0742a12.101 12.101 0 017.5508 7.0625c11.354 28.646 7.9789 51.431 4.5938 63.453 14.015 17.535 22.549 39.66 22.549 65.262 0 47.236-15.086 78.97-38.08 98.221-17.459 14.616-38.446 21.904-59.361 25.895 4.2183 9.2458 6.8164 20.618 6.8164 34.104 0 31.009-.2792 55.947-.2832 63.49.20492-.0115.50996-.0576.93555-.11914 87.287-29.535 150.2-111.97 150.2-209.39 0-122.2-98.794-221-220.99-221.04z\"/>\n                </g>\n\n                <g id=\"npm\">\n                    <path d=\"M227.6 213.1H256v57.1h-28.4z\"/><path d=\"M0 156v171.4h142.2V356H256v-28.6h256V156zm142.2 142.9h-28.4v-85.7H85.3v85.7H28.4V184.6h113.8zm142.2 0h-56.9v28.6h-56.9V184.6h113.8zm199.2 0h-28.4v-85.7h-28.4v85.7h-28.4v-85.7H370v85.7h-56.9V184.6h170.7v114.3z\"/>\n                </g>\n\n                <g id=\"youtube\">\n                    <path d=\"m254.76 102.98s-35.734-.00038-75.871 1.1914-86.398 4.2719-100.17 7.9629a12.791 12.791 0 01-.0098.004c-15.311 4.091-27.437 16.217-31.529 31.529a12.791 12.791 0 01-.002.008c-4.2204 15.748-6.7922 43.226-7.9727 66.02-1.1805 22.793-1.1816 41.16-1.1816 41.16s-.000768 18.366 1.1797 41.158c1.1805 22.793 3.7538 50.27 7.9746 66.021a12.791 12.791 0 01.0039.008c4.0921 15.312 16.216 27.437 31.529 31.529a12.791 12.791 0 01.0078.004c13.772 3.6901 60.032 6.7707 100.17 7.9629 40.137 1.1922 75.869 1.1914 75.869 1.1914s35.732.00073 75.869-1.1914c40.137-1.1921 86.398-4.2726 100.17-7.9629a12.791 12.791 0 01.008-.004c15.313-4.092 27.434-16.214 31.527-31.529a12.791 12.791 0 010-.006c4.219-15.75 6.7936-43.228 7.9746-66.021 1.181-22.794 1.1816-41.16 1.1816-41.16s-.00086-18.365-1.1816-41.158c-1.1808-22.793-3.7547-50.27-7.9746-66.021a12.791 12.791 0 010-.008c-4.0936-15.313-16.214-27.439-31.525-31.529a12.791 12.791 0 01-.01-.004c-13.77-3.691-60.031-6.7711-100.17-7.9629-40.137-1.1918-75.871-1.1914-75.871-1.1914zm-45.533 66.229a12.791 12.791 0 016.0176 1.707l119.26 68.859a12.791 12.791 0 010 22.152l-119.26 68.857a12.791 12.791 0 01-19.186-11.076v-137.72a12.791 12.791 0 0113.168-12.783z\"/>\n                </g>\n\n                <g id=\"cog\">\n                    <path d=\"m210.06 28.039-11.908 75.131c-16.509 6.2627-31.895 15.159-45.559 26.342l-71.063-27.27-45.938 79.566 59.236 47.979c-1.474 8.6613-2.2473 17.427-2.3125 26.213.02275 8.8217.75954 17.627 2.2031 26.33l-59.127 47.889 45.938 79.566 71.084-27.279c13.66 11.122 29.029 19.962 45.51 26.18l11.934 75.303h91.875l11.912-75.16c16.5-6.2589 31.877-15.146 45.535-26.32l71.08 27.277 45.939-79.564-59.24-47.982c1.4765-8.6688 2.2511-17.443 2.3164-26.236-.0227-8.814-.75818-17.612-2.1992-26.307l59.123-47.885-45.939-79.566-71.061 27.27c-13.667-11.131-29.045-19.978-45.537-26.199l-11.93-75.275zm45.938 171.23c31.331.00055 56.729 25.398 56.73 56.729-.00055 31.331-25.399 56.729-56.73 56.73-31.331-.00055-56.729-25.399-56.73-56.73.00056-31.331 25.399-56.728 56.73-56.729z\"/>\n                </g>\n\n                <g id=\"ripples\">\n                    <path d=\"m102 257c0 86 70 156 156 156 28.0.3 83-10 34-10-81.1 0-146-65-146-146.1 0-81 65-146 146-146 65 3-19-22-66-9-41 5-124 69-124 155zm94-64.1c-10 15-22 56-6 24 30-41 96-60 143-38 50 29 67 93 38 143-23 31 10-1 19-17 30-53 12-121-40-152-16-9-41.123-16-65-15-35 0-75 20-89 55zm123 17c30 30 30 79 0 110-30 30-79 30-110 0-17-22 1 8 9 16 32 32 84 32 117 0 32-32 33.085-81 1-114-10.143-14-34-29-17-12z\"/>\n                </g>\n\n            </defs>\n        </svg>\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport CircleButton from \"./circle-button\";\nimport \"./menu.scss\";\n\ninterface Props\n{\n    readonly class?: string;\n}\n\nexport default class Menu extends ClassComponent<Props>\n{\n    private showMenu: boolean = false;\n\n    public hasChanged(newProps: Props): boolean\n    {\n        return true;\n    }\n\n    public render()\n    {\n        const classNames = `menu ${this.props.class || ''} ${this.showMenu ? 'active' : ''}`;\n        const rowClassNames = `menu__row ${this.showMenu ? '' : 'disabled'}`;\n\n        return <div class={classNames}>\n            <CircleButton onclick={this.toggleMenu} icon='cog' active={this.showMenu} />\n\n            <div class='menu__dropdown'>\n                { this.children.map((c, index) =>\n                {\n                    let showIndex = index + 1;\n                    if (!this.showMenu)\n                    {\n                        showIndex = this.children.length - showIndex;\n                    }\n\n                    const style = { 'transition-delay': (showIndex * 0.1) + 's' }\n\n                    return <div class={rowClassNames} style={style}>{c}</div>\n                }) }\n            </div>\n        </div>\n    }\n\n    private toggleMenu = () =>\n    {\n        this.showMenu = !this.showMenu;\n        this.forceUpdate();\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { PageState } from \"../store\";\nimport \"./navbar-page-button.scss\";\n\ninterface Props\n{\n    readonly active: boolean;\n    readonly page: PageState;\n    readonly onClick: (page: PageState) => void;\n}\n\nexport default class NavbarPageButton extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { page, active } = this.props;\n\n        return <a class={`navbar-page-button ${active ? 'is--active' : ''}`} href={`/${page.id}`} onclick={this.onClick}>{page.title}</a>\n    }\n\n    private onClick = (e: MouseEvent) =>\n    {\n        if (e.button === 0)\n        {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n\n        this.props.onClick(this.props.page);\n    }\n}","import { ClassComponent, FinishUnmountHandler, vdom } from \"simple-tsx-vdom\";\nimport { PageState, PostState, setPostsHeight, store } from \"../store\";\nimport { Footer } from \"./footer\";\nimport { Post } from \"./post\";\nimport './posts.scss';\n\ninterface Props\n{\n    readonly category?: PageState;\n    readonly posts: PostState[];\n}\n\nexport class Posts extends ClassComponent<Props>\n{\n    public onMount()\n    {\n        const domElement = this.rootDomNode() as HTMLElement;\n        if (!domElement)\n        {\n            return;\n        }\n\n        if (typeof window === 'undefined')\n        {\n            domElement.classList.add('mounted');\n        }\n        else\n        {\n            setTimeout(() => {\n                domElement.classList.add('mounted');\n                const bounds = domElement.getBoundingClientRect();\n                store.execute(setPostsHeight(bounds.height));\n            }, 50);\n        }\n    }\n\n    public onUnmount(finishedHandler: FinishUnmountHandler)\n    {\n        const domElement = this.rootDomNode() as HTMLElement;\n        if (!domElement)\n        {\n            finishedHandler();\n            return;\n        }\n\n        domElement.classList.remove('mounted');\n        domElement.classList.add('unmounted');\n\n        setTimeout(() =>\n            finishedHandler(), 300);\n    }\n\n    public render()\n    {\n        const { posts, category } = this.props;\n\n        return <div class='posts'>\n            <div class='posts__content'>\n                { category && <h2>{category.title}</h2> }\n                {posts && posts.map(post => <Post key={post.pageId} post={post} />)}\n                <Footer />\n            </div>\n        </div>\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport \"./footer.scss\";\n\ninterface Props\n{\n}\n\nexport class Footer extends ClassComponent<Props>\n{\n    public render()\n    {\n        return <footer class='footer container'>\n            Alan Lawrey 2024\n        </footer>\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { PostState } from \"../store\";\nimport { PostParagraph } from \"./post-paragraph\";\nimport './post.scss';\n\ninterface Props\n{\n    readonly post: PostState;\n}\n\nexport class Post extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { contents } = this.props.post;\n\n        return <div class='post'>\n            <div>{contents.map(content => <PostParagraph content={content} />)}</div>\n        </div>\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { PostParagraphState } from \"../store\";\nimport { PostPicture } from \"./post-picture\";\nimport PostLink from \"./post-link\";\nimport FormattedText from \"./formatted-text\";\nimport \"./post-paragraph.scss\";\n\ninterface Props\n{\n    readonly content: PostParagraphState;\n}\n\nexport class PostParagraph extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { text, pictures, list, picturePosition, links } = this.props.content;\n\n        return <div class={`post-paragraph is--${picturePosition || 'right'}`}>\n\n            { (text || list || links) && <div class='post-paragraph__text-content'>\n                { this.processText() }\n                { links && <div class='post-paragraph__links'>\n                    { links.map(link => <PostLink link={link} />) }\n                </div> }\n            </div>}\n\n            { pictures && <div class='post-paragraph__pictures'>\n                { pictures.map(picture => <PostPicture picture={picture} />) }\n            </div> }\n\n        </div>\n    }\n\n    private processText = () =>\n    {\n        const { text } = this.props.content;\n        if (!text)\n        {\n            return null;\n        }\n\n        const result: any[] = [];\n\n        let listChildren: string[] | null = null;\n        for (const line of text)\n        {\n            if (line.length === 0)\n            {\n                continue;\n            }\n\n            if (line[0] === '*')\n            {\n                if (listChildren === null)\n                {\n                    listChildren = [];\n                }\n\n                listChildren.push(line.substr(1).trimLeft());\n            }\n            else\n            {\n                if (listChildren !== null)\n                {\n                    result.push(this.createList(listChildren));\n                    listChildren = null;\n                }\n                result.push(<div class='post-paragraph__line'>{FormattedText.processText(line)}</div>);\n            }\n        }\n\n        if (listChildren !== null)\n        {\n            result.push(this.createList(listChildren));\n        }\n\n        return result;\n    }\n\n    private createList = (items: string[]) =>\n    {\n        return (<ul>\n            { items.map(c => <li>{FormattedText.processText(c)}</li>)}\n        </ul>);\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { PostPictureState } from \"../store\";\nimport './post-picture.scss';\nimport { hoverOutElement, hoverOverElement } from \"./signals\";\n\ninterface Props\n{\n    readonly picture: PostPictureState;\n}\n\nexport class PostPicture extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { url, fullSizeUrl, caption } = this.props.picture;\n\n        const imgElement = <img loading='lazy' src={url} alt={caption} />;\n\n        return <div class='post-picture' onmouseenter={this.onMouseEnter} onmouseleave={this.onMouseLeave}>\n            { fullSizeUrl ? <a href={fullSizeUrl} target='_blank'>{imgElement}</a> : imgElement }\n            {caption && <div class='post-picture__caption'>{caption}</div>}\n        </div>\n    }\n\n    private onMouseEnter = (e: MouseEvent) =>\n    {\n        const el = e.target as HTMLElement;\n        hoverOverElement.trigger(el);\n    }\n\n    private onMouseLeave = (e: MouseEvent) =>\n    {\n        const el = e.target as HTMLElement;\n        hoverOutElement.trigger(el);\n    }\n}","import Signal from \"simple-signals\";\n\nexport const hoverOverElement = new Signal<HTMLElement>();\nexport const hoverOutElement = new Signal<HTMLElement>();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A signal represents a single kind of event.\n * Signals also have a type associated with them.\n *\n * Currently TypeScript does not support variadic generics which would make it\n * easier to allow multiple argument listeners and triggers.\n * This should be coming in TypeScript 4.\n *\n * Signals can be listened for and triggered.\n */\nclass Signal {\n    constructor() {\n        this.listeners = [];\n        /**\n         * Returns the number of listeners.\n         */\n        this.length = () => this.listeners.length;\n    }\n    /**\n     * Adds a new listener to this signal, this will be called when the `trigger` method\n     * is called.\n     *\n     * @param listener A listener function.\n     * @returns A function to remove the listener from the signal.\n     */\n    add(listener) {\n        this.listeners.push(listener);\n        return () => {\n            const index = this.listeners.indexOf(listener);\n            if (index >= 0) {\n                this.listeners.splice(index, 1);\n            }\n        };\n    }\n    /**\n     * Triggers all the listeners with the value given.\n     *\n     * @param value The value to pass to all the listeners\n     */\n    trigger(value) {\n        for (const listener of this.listeners) {\n            if (listener(value) === false) {\n                break;\n            }\n        }\n    }\n}\nexports.default = Signal;\n//# sourceMappingURL=index.js.map","// Listener for when a signal is dispatched.\n// Can return false to stop the next signal from triggering.\nexport type SignalListener<T> = (value: T) => void | boolean;\n\n// A function used to remove a listener from the signal.\nexport type RemoveListener = () => void;\n\n/**\n * A signal represents a single kind of event.\n * Signals also have a type associated with them.\n *\n * Currently TypeScript does not support variadic generics which would make it\n * easier to allow multiple argument listeners and triggers.\n * This should be coming in TypeScript 4.\n *\n * Signals can be listened for and triggered.\n */\nexport default class Signal<T>\n{\n    private readonly listeners: SignalListener<T>[] = [];\n\n    /**\n     * Returns the number of listeners.\n     */\n    public length = () => this.listeners.length;\n\n    /**\n     * Adds a new listener to this signal, this will be called when the `trigger` method\n     * is called.\n     *\n     * @param listener A listener function.\n     * @returns A function to remove the listener from the signal.\n     */\n    public add(listener: SignalListener<T>) : RemoveListener\n    {\n        this.listeners.push(listener);\n\n        return () =>\n        {\n            const index = this.listeners.indexOf(listener)\n            if (index >= 0)\n            {\n                this.listeners.splice(index, 1);\n            }\n        }\n    }\n\n    /**\n     * Triggers all the listeners with the value given.\n     *\n     * @param value The value to pass to all the listeners\n     */\n    public trigger(value: T)\n    {\n        for (const listener of this.listeners)\n        {\n            if (listener(value) === false)\n            {\n                break;\n            }\n        }\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { PostLinkState } from \"../store\";\nimport Icon from \"./icon\";\nimport \"./post-link.scss\";\n\ninterface Props\n{\n    readonly link: PostLinkState;\n}\n\nexport default class PostLink extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { url, icon, title } = this.props.link;\n        const extraProps: { [key: string]: any } = {};\n        if (title)\n        {\n            extraProps.title = title;\n        }\n\n        return <div class='post-link'>\n            <a href={url} target='_blank' {...extraProps}>\n                <Icon icon={icon} />\n            </a>\n        </div>\n    }\n}","import { vdom } from \"simple-tsx-vdom\";\nimport \"./formatted-text.scss\";\n\nconst formattingRegex = /(\\[([^\\]]+)\\]\\(([^\\)]+)\\))/;\nconst globalFormattingRegex = new RegExp(formattingRegex, 'g');\n\nexport default class FormattedText\n{\n    public static processText(text: string)\n    {\n        if (text.indexOf('[') < 0)\n        {\n            return [text];\n        }\n\n        const result: any[] = [];\n        const split = text.split(globalFormattingRegex);\n\n        for (let i = 0; i < split.length; i++)\n        {\n            const token = split[i];\n\n            if (!token)\n            {\n                continue;\n            }\n\n            if (token[0] === '[' && formattingRegex.test(token))\n            {\n                // Handle token\n                const type = split[i + 1];\n                const value = split[i + 2];\n                i += 2;\n\n                if (type === 'link')\n                {\n                    const linkSplit = value.split('|');\n                    const text = linkSplit[0].trim();\n                    const url = linkSplit[1].trim();\n\n                    result.push(<a href={url}>{text}</a>);\n                }\n                else if (type === 'post-header')\n                {\n                    const headerSplit = value.split('|');\n\n                    const header = headerSplit[0].trim();\n                    const period = headerSplit[1].trim();\n                    result.push(<div class='post-header'>\n                        <h3>{header}</h3> <small>{period}</small>\n                    </div>);\n                }\n                else if (type === 'strong' || type === 'h1' || type === 'h2' || type === 'h3')\n                {\n                    result.push(vdom(type, {}, value));\n                }\n            }\n            else\n            {\n                result.push(token);\n            }\n        }\n\n        return result;\n    }\n}\n","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport { PageId, PageState } from \"../store\";\nimport NavbarPageButton from \"./navbar-page-button\";\nimport './mobile-bottom-navbar.scss';\n\ninterface Props\n{\n    readonly selectedPageId: PageId;\n    readonly pages: PageState[];\n    readonly onPageChange: (page: PageState) => void;\n}\n\nexport default class MobileBottomNavbar extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { pages, selectedPageId } = this.props;\n\n        return <nav class='mobile-bottom-navbar'>\n            <div class='mobile-bottom-navbar__page-buttons'>\n                { pages.map(page => <NavbarPageButton active={page.id === selectedPageId} page={page} onClick={this.onClickPage} />) }\n            </div>\n        </nav>\n    }\n\n    private onClickPage = (page: PageState) =>\n    {\n        this.props.onPageChange(page);\n    }\n}","import { ClassComponent, vdom } from \"simple-tsx-vdom\";\nimport NavbarMenu from \"./navbar-menu\";\nimport \"./mobile-top-navbar.scss\";\n\ninterface Props\n{\n    readonly darkTheme: boolean;\n    readonly ripplesEnabled: boolean;\n}\n\nexport default class MobileTopNavbar extends ClassComponent<Props>\n{\n    public render()\n    {\n        const { darkTheme, ripplesEnabled } = this.props;\n\n        return <div class='mobile-top-navbar'>\n            <h1>Alan Lawrey</h1>\n\n            <NavbarMenu darkTheme={darkTheme} ripplesEnabled={ripplesEnabled} />\n        </div>\n    }\n}","import DataStore, { Modifier } from \"simple-data-store\";\nimport { PostState, PostStateMap, setStore, State } from \"./store\";\nimport { AboutMe } from './data/aboutme';\nimport { Projects } from './data/projects';\nimport { Work } from './data/work';\nimport { Pages } from './data/pages';\nimport { Editable } from \"./common-types\";\n\nfunction combinePosts(input: PostState[])\n{\n    const posts: Editable<PostStateMap> = {};\n    for (const post of input)\n    {\n        const list = posts[post.pageId] || (posts[post.pageId] = [])\n        list.push(post);\n    }\n    return posts;\n}\n\nconst posts = [... AboutMe, ...Projects, ...Work];\nlet initialPageId = '';\nfor (const page of Pages)\n{\n    if (page.defaultPage)\n    {\n        initialPageId = page.id;\n        break;\n    }\n}\n\nsetStore(new DataStore<State>({\n    pages: Pages,\n    posts: combinePosts(posts),\n    backgrounds: {\n        dark: [],\n        light: []\n    },\n    selectedPageId: initialPageId,\n    darkTheme: false,\n    postsHeight: 0,\n    isMobile: false,\n    ripplesEnabled: true\n}));\n\nexport function setInitialState(state: State): Modifier<State>\n{\n    return () => { return state; }\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmptyModifier = void 0;\n// An empty modifier, recommended to use when you want to return a modifier that does nothing.\nconst EmptyModifier = () => null;\nexports.EmptyModifier = EmptyModifier;\n/**\n * The main data store class. Keeps track of the current state, any subscriptions and optionally a history of the state.\n *\n * By default history is disabled.\n */\nclass DataStore {\n    /**\n     * Creates a new DataStore.\n     *\n     * @param initialState The starting values for the data store.\n     */\n    constructor(initialState) {\n        this.subscriptions = [];\n        /**\n         * Returns the current state.\n         *\n         * @returns The current state.\n         */\n        this.state = () => this.currentState;\n        this.currentState = initialState;\n    }\n    /**\n     * Executes a modifier on the state.\n     * The modifier is recommended to return a partial state that is merged.\n     *\n     * If the modifier returns the same state (as compared with strict equals) or null then\n     * the state is not updated nor is any subscription triggered.\n     *\n     * @param modifier Modifier function to update the state with.\n     * @param isNewState Marks if this state is a new one. Can be used for history subscriptions to know if to record this state update or not.\n     */\n    execute(modifier, isNewState = true) {\n        const newState = modifier(this.currentState);\n        if (newState === null || newState === undefined || newState === this.currentState) {\n            return;\n        }\n        this.currentState = Object.assign({}, this.currentState, newState);\n        this.triggerSubscriptions(modifier, isNewState);\n    }\n    /**\n     * Subscribe to when a part of the state has changed. This will be called on all dispatches.\n     *\n     * @param selector A function for picking the values out of the store you want to check has changed.\n     * @param subscription A callback that will be triggered when the values returned in the selector have changed.\n     * @param comparer An optional comparer for old and new values, these values will the old and new results from the selector, *NOT* the state as a whole.\n     * @param selectorName An optional name to link with the selector to help with debugging.\n     * @returns A function to remove the subscription from the store.\n     */\n    subscribe(selector, subscription, comparer, selectorName) {\n        const startValue = selector(this.currentState);\n        const obj = { selector: new SelectorContext(selector, startValue, comparer, selectorName), subscription };\n        this.subscriptions.push(obj);\n        return () => {\n            const index = this.subscriptions.indexOf(obj);\n            if (index >= 0) {\n                this.subscriptions.splice(index, 1);\n            }\n        };\n    }\n    /**\n     * Adds a callback for anytime the store has changed.\n     *\n     * @param callback A callback for when the store has changed.\n     * @param selectorName An optional name to link with the selector to help with debugging.\n     * @returns A function to remove the subscription from the store.\n     */\n    subscribeAny(callback, selectorName) {\n        return this.subscribe((state) => state, callback, undefined, selectorName);\n    }\n    /**\n     * Removes all subscriptions.\n     */\n    unsubscribeAll() {\n        this.subscriptions = [];\n    }\n    /**\n     * Trigger all the subscriptions that an update has executed.\n     *\n     * @param isNewState Marks if this update is for a new state or not. Used by history subscriptions to know if to record the state change or not.\n     */\n    triggerSubscriptions(modifier, isNewState) {\n        for (const subscription of this.subscriptions) {\n            const newValue = subscription.selector.getValue(this.currentState);\n            if (subscription.selector.checkIfChanged(newValue)) {\n                subscription.subscription(this.currentState, newValue, modifier, isNewState);\n            }\n        }\n    }\n}\nexports.default = DataStore;\n/**\n * A selector context is a pairing of a selector function, a comparer and a previous value.\n * This is used to actual keep track of when something has changed and the way to compare the change.\n *\n * NOTE: Not indented to be a public class.\n */\nclass SelectorContext {\n    constructor(selector, startValue = undefined, comparer, name) {\n        /**\n         * Select the value from the state using the selector function provided.\n         *\n         * @param state The state to get the value from.\n         * @returns Whatever the selector returns.\n         */\n        this.getValue = (state) => this.selector(state);\n        this.selector = selector;\n        this.prevValue = startValue;\n        this.comparer = comparer;\n        this.name = name;\n    }\n    /**\n     * Check if the new value is different from the old one using the comparer.\n     *\n     * @param newValue The new value from the selector.\n     */\n    checkIfChanged(newValue) {\n        let result = false;\n        if (this.comparer !== undefined) {\n            result = !this.comparer(this.prevValue, newValue);\n        }\n        else {\n            result = newValue !== this.prevValue;\n        }\n        this.prevValue = newValue;\n        return result;\n    }\n}\n//# sourceMappingURL=index.js.map","// A function to create a patch for the state.\n// Meaning this should return a partial state to be merged with the current state.\nexport type Modifier<TState> = (state: TState) => Partial<TState> | null;\n\n// A function that takes part of the state and returns a sub set of that state.\n// Used to look for specific parts of the state that have changed.\nexport type Selector<TState, TValue> = (state: TState) => TValue;\n\n// A function used to compare if two parts of the state have actually changed.\n// By default a strict equals is used when comparing however sometimes something more complex is needed.\n// The TValue refers to the value returned by the Selector.\nexport type SelectorComparer<TValue> = (prevValue: TValue, newValue: TValue) => boolean;\n\n// A callback function to be triggered when a selector has returned a new value.\n// The callback is given the new state and result of the selector that triggered the callback.\n// The TValue refers to the value returned by the Selector.\nexport type Subscription<TState, TValue> = (state: TState, newValue: TValue, triggeringModifier: Modifier<TState>, isNewState: boolean) => void;\n\n// A function used to remove a subscription. This can be called multiple times.\nexport type RemoveSubscription = () => void;\n\n// An empty modifier, recommended to use when you want to return a modifier that does nothing.\nexport const EmptyModifier: Modifier<any> = () => null;\n\n// Pairing of the selector function and subscription callback.\ninterface SubscriptionSelectorPair<TState, TValue>\n{\n    readonly selector: SelectorContext<TState, TValue>;\n    readonly subscription: Subscription<TState, TValue>;\n}\n\n/**\n * The main data store class. Keeps track of the current state, any subscriptions and optionally a history of the state.\n *\n * By default history is disabled.\n */\nexport default class DataStore<TState>\n{\n    private currentState: TState;\n    private subscriptions: Array<SubscriptionSelectorPair<TState, any>> = [];\n\n    /**\n     * Creates a new DataStore.\n     *\n     * @param initialState The starting values for the data store.\n     */\n    public constructor (initialState: TState)\n    {\n        this.currentState = initialState;\n    }\n\n    /**\n     * Returns the current state.\n     *\n     * @returns The current state.\n     */\n    public state = (): Readonly<TState> => this.currentState;\n\n    /**\n     * Executes a modifier on the state.\n     * The modifier is recommended to return a partial state that is merged.\n     *\n     * If the modifier returns the same state (as compared with strict equals) or null then\n     * the state is not updated nor is any subscription triggered.\n     *\n     * @param modifier Modifier function to update the state with.\n     * @param isNewState Marks if this state is a new one. Can be used for history subscriptions to know if to record this state update or not.\n     */\n    public execute(modifier: Modifier<TState>, isNewState: boolean = true)\n    {\n        const newState = modifier(this.currentState);\n        if (newState === null || newState === undefined || newState === this.currentState)\n        {\n            return;\n        }\n\n        this.currentState = Object.assign({}, this.currentState, newState);\n        this.triggerSubscriptions(modifier, isNewState);\n    }\n\n    /**\n     * Subscribe to when a part of the state has changed. This will be called on all dispatches.\n     *\n     * @param selector A function for picking the values out of the store you want to check has changed.\n     * @param subscription A callback that will be triggered when the values returned in the selector have changed.\n     * @param comparer An optional comparer for old and new values, these values will the old and new results from the selector, *NOT* the state as a whole.\n     * @param selectorName An optional name to link with the selector to help with debugging.\n     * @returns A function to remove the subscription from the store.\n     */\n    public subscribe<TValue>(selector: Selector<TState, TValue>, subscription: Subscription<TState, TValue>, comparer?: SelectorComparer<TValue>, selectorName?: string): RemoveSubscription\n    {\n        const startValue = selector(this.currentState);\n        const obj = { selector: new SelectorContext(selector, startValue, comparer, selectorName), subscription };\n        this.subscriptions.push(obj);\n\n        return () =>\n        {\n            const index = this.subscriptions.indexOf(obj);\n            if (index >= 0)\n            {\n                this.subscriptions.splice(index, 1);\n            }\n        };\n    }\n\n    /**\n     * Adds a callback for anytime the store has changed.\n     *\n     * @param callback A callback for when the store has changed.\n     * @param selectorName An optional name to link with the selector to help with debugging.\n     * @returns A function to remove the subscription from the store.\n     */\n    public subscribeAny (callback: Subscription<TState, TState>, selectorName?: string): RemoveSubscription\n    {\n        return this.subscribe((state) => state, callback, undefined, selectorName);\n    }\n\n    /**\n     * Removes all subscriptions.\n     */\n    public unsubscribeAll ()\n    {\n        this.subscriptions = [];\n    }\n\n    /**\n     * Trigger all the subscriptions that an update has executed.\n     *\n     * @param isNewState Marks if this update is for a new state or not. Used by history subscriptions to know if to record the state change or not.\n     */\n    private triggerSubscriptions(modifier: Modifier<TState>, isNewState: boolean)\n    {\n        for (const subscription of this.subscriptions)\n        {\n            const newValue = subscription.selector.getValue(this.currentState);\n            if (subscription.selector.checkIfChanged(newValue))\n            {\n                subscription.subscription(this.currentState, newValue, modifier, isNewState);\n            }\n        }\n    }\n}\n\n/**\n * A selector context is a pairing of a selector function, a comparer and a previous value.\n * This is used to actual keep track of when something has changed and the way to compare the change.\n *\n * NOTE: Not indented to be a public class.\n */\nclass SelectorContext<TState, TValue>\n{\n    public readonly selector: Selector<TState, TValue>;\n    public readonly comparer?: SelectorComparer<TValue>;\n    public readonly name?: string;\n    private prevValue: any;\n\n    constructor (selector: Selector<TState, TValue>, startValue: any = undefined, comparer?: SelectorComparer<TValue>, name?: string)\n    {\n        this.selector = selector;\n        this.prevValue = startValue;\n        this.comparer = comparer;\n        this.name = name;\n    }\n\n    /**\n     * Select the value from the state using the selector function provided.\n     *\n     * @param state The state to get the value from.\n     * @returns Whatever the selector returns.\n     */\n    public getValue = (state: TState): any => this.selector(state);\n\n    /**\n     * Check if the new value is different from the old one using the comparer.\n     *\n     * @param newValue The new value from the selector.\n     */\n    public checkIfChanged (newValue: any): boolean\n    {\n        let result = false;\n        if (this.comparer !== undefined)\n        {\n            result = !this.comparer(this.prevValue, newValue);\n        }\n        else\n        {\n            result = newValue !== this.prevValue;\n        }\n\n        this.prevValue = newValue;\n        return result;\n    }\n}","import { PageId, PostState, Url } from \"../store\";\n\nexport const AboutMe: PostState[] = [\n    {\n        \"pageId\": \"about\" as PageId,\n        \"contents\": [\n            {\n                \"text\": [\n                    \"Software developer from Melbourne Australia.\",\n                    \"I've previously worked at [link](migenius | https://www.migenius.com/), [link](Rome2rio | https://rome2rio.com) and [link](Metro Trains Melbourne | https://metrotrains.com.au).\",\n                    \"You can contact me via [link](email | mailto:alan.lawrey@gmail.com) or find me on [link](Twitter | https://twitter.com/Alan_Lawrey), [link](LinkedIn | https://www.linkedin.com/in/alan-lawrey-b7509b21/) or [link](reddit | https://www.reddit.com/user/astrellon3/).\",\n                    \"These are the things I enjoy working on:\",\n                    \"* Making websites, working on both the frontend and backend.\",\n                    \"* Creating tooling for processing data, both the processes and the UI for controlling those processes.\",\n                    \"* Mentoring in software development.\",\n                    \"* Creating small games. [link](I have a small itch.io page. | https://astrellon.itch.io/)\",\n                    \"* Artwork [link](Instagram | https://www.instagram.com/astrellon_art/), [link](Redbubble | https://astrellon.redbubble.com), [link](TeePublic | https://teepublic.com/user/astrellonart) and [link](Society6 | https://society6.com/astrellon_art).\"\n                ],\n                \"pictures\": [{\n                    \"url\": \"/assets/alanlawrey2021.jpg\" as Url,\n                    \"caption\": \"Me at the beach.\"\n                }]\n            },\n            {\n                \"text\": [\n                    \"I also like learning about how things are done.\",\n                    \"As part of that I've re-created several systems for learning purposes.\",\n                    \"This website is an example of that, it is built using my own state management ([link](simple-data-store | https://www.npmjs.com/package/simple-data-store)), virtual dom ([link](simple-tsx-vdom | https://www.npmjs.com/package/simple-tsx-vdom)) with server side rendering and hydration.\",\n                    \"The source for [link](this data driven website | https://github.com/astrellon/astrellon.github.io) along with the [link](data repo | https://github.com/astrellon/simple-portfolio-data).\",\n                    \"The background ripples effect is ported from sirxemic's [link](jQuery Ripples Plugin | https://github.com/sirxemic/jquery.ripples/).\"\n                ]\n            }\n        ]\n    }\n]","import { PageId, PostState, Url } from \"../store\";\n\nexport const Projects: PostState[] = [\n    {\n        \"pageId\": \"projects\" as PageId,\n        \"contents\": [\n            {\n                \"text\": [\n                    \"[h3](Lysithea)\",\n                    \"A scripting language designed to live inside other systems to glue them together\",\n                    \"Main features:\",\n                    \"* Lisp style syntax.\",\n                    \"* Builtin support for booleans, doubles, strings, lists and key-value-pair objects.\",\n                    \"* Conditionals as expressions, use an if or switch statement like a function.\",\n                    \"* Virtual machine is very light weight and allows for using many at the same time.\",\n                    \"* Script execution can be controlled by the host environment, limit how many code lines can execute at a time.\",\n                    \"* Simple code, easy to port to new host systems.\",\n                    \"* Ported to C#, C++ and TypeScript. Examples written for Unity.\",\n                    \"* Reasonably good performance, compared to other NLua or MoonSharp for C#.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://www.npmjs.com/package/lysithea-vm\" as Url,\n                    \"icon\": \"npm\",\n                    \"title\": \"NPM Page\"\n                }, {\n                    \"url\": \"https://github.com/astrellon/lysithea-vm\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                }, {\n                    \"url\": \"https://www.youtube.com/watch?v=xeuKEHhp0jc\" as Url,\n                    \"icon\": \"youtube\",\n                    \"title\": \"Devlog\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/lysitheaCode.png\" as Url,\n                    \"caption\": \"Example of code in Lysithea\",\n                    \"fullSizeUrl\": \"/assets/lysitheaCode.png\" as Url\n                }],\n                \"picturePosition\": \"right\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Tailspin)\",\n                    \"A space game about going on an adventure and exploring space with some smart animal companions.\",\n                    \"Main features:\",\n                    \"* Flying your own spaceship from the cockpit.\",\n                    \"* Walk around the interior of your spaceship and interact with different components.\",\n                    \"* Fly around large spaces, past stars, black holes, into nebulae, land on planets and dock with space stations.\",\n                    \"* Dock a smaller ship in your larger ship for different away missions.\",\n                    \"* Explore space to find old shipwrecks to find salvageable parts.\",\n                    \"* Find asteroids to mine for resources that can be used for crafting new parts.\",\n                    \"* Be self-sufficient in deep space by looking after your ship.\",\n                    \"* Made in Unity 2020\",\n                    \"Some of these features are still being worked on, however I am keeping a devlog on YouTube.\",\n                    \"It's very ambitious and who knows how far I'll get, but I've already gotten a lot further than I thought I would.\",\n                    \"Currently I'm not planning on releasing the source code as it also contains paid for Unity assets.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://www.youtube.com/playlist?list=PLTf8ZRLo3EcNqP13W1UTFdxuNUngYzYCV\" as Url,\n                    \"icon\": \"youtube\",\n                    \"title\": \"Devlog Playlist\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/tailspinStarPlanetThumbnail.jpg\" as Url,\n                    \"caption\": \"A scene showing a nearby planet and the star at the center of the system.\",\n                    \"fullSizeUrl\": \"/assets/tailspinStarPlanet.jpg\" as Url\n                }, {\n                    \"url\": \"/assets/tailspinTractorBeamsThumbnail.jpg\" as Url,\n                    \"caption\": \"A ship using it's tractor beams to pull in some rocks that have just been mined from an asteroid.\",\n                    \"fullSizeUrl\": \"/assets/tailspinTractorBeams.jpg\" as Url\n                }, {\n                    \"url\": \"/assets/tailspinEquipmentThumbnail.jpg\" as Url,\n                    \"caption\": \"An example of a ship engine sitting outside of it's hardpoint before it's installed into the ship.\",\n                    \"fullSizeUrl\": \"/assets/tailspinEquipment.jpg\" as Url\n                }],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Simple Virtual DOM)\",\n                    \"I made my own virtual DOM (simple-tsx-vdom) inspired by [link](React | https://reactjs.org/) and [link](Preact | https://preactjs.com/).\",\n                    \"It was created for learning but I wanted to take it to the point where I could build something non-trivial with it so this portfolio is the biggest example of it right now.\",\n                    \"You can find the source for this portfolio page on [link](GitHub | https://github.com/astrellon/simple-portfolio).\",\n                    \"Main features:\",\n                    \"* Small filesize (about 2.5kb after compression) written with no dependencies.\",\n                    \"* Written in fairly straight forward TypeScript that is all class based and can be extended.\",\n                    \"* TSX support (hence the name, also simple-vdom was taken).\",\n                    \"* Optional server-side rendering and client side hydration with the help of two extra packages.\",\n                    \"* A simple diffing algorithm to reduce DOM manipulations.\",\n                    \"* SVG support\",\n                    \"* Supports both class and functional components.\",\n                    \"* Supports custom handling of removed elements. For example if an element is removed from the vdom you can control how it's removed from the DOM, such as via animation before it's completely removed.\",\n                    \"While I have created this website it in it is definitely [strong](NOT) intended for production use!\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://www.npmjs.com/package/simple-tsx-vdom\" as Url,\n                    \"icon\": \"npm\",\n                    \"title\": \"NPM Page\"\n                }, {\n                    \"url\": \"https://github.com/astrellon/simple-tsx-vdom\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/simpleTsxVdom.jpg\" as Url,\n                    \"caption\": \"A code snippet from this website.\"\n                }]\n            },\n            {\n                \"text\": [\n                    \"[h3](Simple Data Store)\",\n                    \"I like what [link](redux | https://redux.js.org/) and other functional state management libraries have done for UI but I found them too unstructured and too generalised. So I put together my own version that is still general but puts just enough structure to fulfil my needs.\",\n                    \"Unlike simple-tsx-vdom I have used simple-data-store in production to good effect, even without the extra features of browser devtools.\",\n                    \"Main features:\",\n                    \"* Small filesize (about 0.5kb after compression) written with no dependencies.\",\n                    \"* Immutable data structures.\",\n                    \"* Selector support, similar to reselect for redux.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://www.npmjs.com/package/simple-data-store\" as Url,\n                    \"icon\": \"npm\",\n                    \"title\": \"NPM Page\"\n                }, {\n                    \"url\": \"https://github.com/astrellon/simple-data-store\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/simpleDataStore.jpg\" as Url,\n                    \"caption\": \"An example of a really simple counter store.\"\n                }],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Space Doggo)\",\n                    \"A space adventure/exploration game that I've been working on for a while now.\",\n                    \"The main goal is to explore space and to find things. The scope is deliberately small so that [strong](hopefully) I'll finish it one day.\",\n                    \"Main features:\",\n                    \"* Features flying ships, floating around inside ships, teleporting to planets and walking around on planets.\",\n                    \"* Uses 'space portals' to view other star systems and seamlessly move between locations without loading screens.\",\n                    \"* A compendium of animals and things to fill up that makes use 'live photos' that takes a copy of each object in view so that they can be animated later on.\",\n                    \"* Written in C++ using [link](SFML | https://www.sfml-dev.org/) for cross platform support.\",\n                    \"* Makes use of [link](Box2D | https://box2d.org/) for physics, and [link](earcut | https://github.com/mapbox/earcut.hpp) for creating polygons for collisions.\",\n                    \"* Tile based planets that use [link](tmxlite | https://github.com/fallahn/tmxlite) for loading [link](Tiled | https://www.mapeditor.org/) maps.\",\n                    \"* Uses [link](yoga | https://yogalayout.com/) for UI layout and [link](Dear ImGui | https://github.com/ocornut/imgui) for debug UI.\",\n                    \"* All data is stored in plain JSON and loaded using [link](nlohmann JSON | https://github.com/nlohmann/json) for parsing.\",\n                    \"I've also been keeping a dev log about my progress and uploading them to YouTube.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://github.com/astrellon/simple-space\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                },\n                {\n                    \"url\": \"https://www.youtube.com/playlist?list=PLTf8ZRLo3EcP7A2US2CpGMTsEW_Kzezx8\" as Url,\n                    \"icon\": \"youtube\",\n                    \"title\": \"Devlog Playlist\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/spaceDoggoShipInteriorThumbnail.jpg\" as Url,\n                    \"caption\": \"The inside of a ship that you can pilot along with the dog player.\",\n                    \"fullSizeUrl\": \"/assets/spaceDoggoShipInterior.png\" as Url\n                },\n                {\n                    \"url\": \"/assets/spaceDoggoPortalThumbnail.jpg\" as Url,\n                    \"caption\": \"A spaceship near a portal showing what is visible on the other side.\",\n                    \"fullSizeUrl\": \"/assets/spaceDoggoPortal.png\" as Url\n                },\n                {\n                    \"url\": \"/assets/spaceDoggoPlanetSurfaceThumbnail.jpg\" as Url,\n                    \"caption\": \"A planet surface with some local birds eating their food next to a nest.\",\n                    \"fullSizeUrl\": \"/assets/spaceDoggoPlanetSurface.png\" as Url\n                }],\n                \"picturePosition\": \"right\"\n            },\n            {\n                \"text\": [\n                    \"[h3](LOSS: Lua Operating SyStem)\",\n                    \"A project to create an operating system that's built around using Lua with the intention of being light weight.\",\n                    \"The main use case was for a game where you may want many simple in-game operating systems that look like a *NIX shell but without actually running a VM.\",\n                    \"Main features:\",\n                    \"* A modified version of the Lua VM that supports running multiple Lua States in the same thread using Boost Coroutines\",\n                    \"* A virtual file system the supports mounting different types of file systems.\",\n                    \"* A [link](tmpfs | https://en.wikipedia.org/wiki/Tmpfs) for virtual files (such as /dev and /proc)\",\n                    \"* A persistent file system for long term storage.\",\n                    \"* A [link](Fuse | https://en.wikipedia.org/wiki/Filesystem_in_Userspace) implementation that allows for mounting the persistent hard drives and modifying them outside of the VM.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://github.com/astrellon/loss\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/loss.png\" as Url,\n                    \"caption\": \"An example of starting the VM with an init.d file that just prints some text.\",\n                    \"fullSizeUrl\": \"/assets/loss.png\" as Url\n                }],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](LOSS v0)\",\n                    \"An earlier attempt at creating an OS for use in a game, specifically for a space game. This was a relatively naive approach that used NLua which is a C# implementation of Lua for use in Unity.\",\n                    \"Main features:\",\n                    \"* Basic shell for running Lua.\",\n                    \"* A simple [link](VT100 | https://en.wikipedia.org/wiki/VT100) terminal emulator that used built in Unity components for text rendering.\",\n                    \"* A very simple file system, however it did not support mounting.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://github.com/astrellon/ScalingOctoDubstep\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/scalingOctoDubstep_small.jpg\" as Url,\n                    \"caption\": \"A screenshot of the UI in Unity.\",\n                    \"fullSizeUrl\": \"/assets/scalingOctoDubstep.png\" as Url\n                }],\n                \"picturePosition\": \"right\"\n            },\n            {\n                \"text\": [\n                    \"[h3](Unity Voxel Engine)\",\n                    \"A [strong](small) voxel engine aim at being able to create and edit levels entirely within Unity. It performed well enough for the scale of the levels I wanted to created, however getting the editor tools to behave the way I wanted proved to be the most tricky aspect\",\n                    \"Original intended to be in the style of [link](Might and Magic | https://en.wikipedia.org/wiki/Might_and_Magic) series which is why the original repository is called 'mm'\",\n                    \"Main features:\",\n                    \"* Chunked editing and loading. Maps are stored as individual binary files which is optimised for updating chunks during editing.\",\n                    \"* Multiple different shapes beyond a cube such as ramps and different corners to allow for smoother terrain.\",\n                    \"* Unity editing support for creating levels without needing additional tools.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://github.com/astrellon/mm\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/mmVoxels_small.png\" as Url,\n                    \"caption\": \"A screenshot of the Voxel Engine UI in Unity.\",\n                    \"fullSizeUrl\": \"/assets/mmVoxels.png\" as Url\n                }],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[h3](RPG Game)\",\n                    \"A topdown 2D RPG game engine written in C++ built using minimal dependencies for the purpose of learning.\",\n                    \"This is a fairly old project now, but it does represent a lot of learning in terms of C++, integrating a scripting language, handling modding, dealing with complex UI and handling an audio system.\",\n                    \"Main features:\",\n                    \"* Tile based 2D graphics with a tile overlapping system for blending between tiles.\",\n                    \"* Sound system that supports streaming OGG and WAV files.\",\n                    \"* Lua Bindings for controlling just about every aspect of the game. From how a new game is created and loaded to how a door should behave when interacted with.\",\n                    \"* Maps are created through Lua and has a mechanism for determining if the map is being played new or loaded from disk, allowing for map scripts to upgrade old save files.\",\n                    \"* A dialogue system based on The Elder Scrolls: Morrowind with topics, keywords and actions bound to those keywords.\",\n                    \"* HTML documentation taken from the C++ comments using a Python script.\",\n                    \"* In game text uses a simplistic CSS and HTML system for rich text.\",\n                    \"* An in game map editor for creating new levels.\"\n                ],\n                \"links\": [{\n                    \"url\": \"https://github.com/astrellon/rouge\" as Url,\n                    \"icon\": \"github\",\n                    \"title\": \"Github Repository\"\n                }],\n                \"pictures\": [{\n                    \"url\": \"/assets/rouge.png\" as Url,\n                    \"caption\": \"A screenshot of the RPG game\",\n                    \"fullSizeUrl\": \"/assets/rouge.png\" as Url\n                },\n                {\n                    \"url\": \"/assets/rougeMapEditor.png\" as Url,\n                    \"caption\": \"A screenshot of the in game map editor\",\n                    \"fullSizeUrl\": \"/assets/rougeMapEditor.png\" as Url\n                }],\n                \"picturePosition\": \"right\"\n            }\n        ]\n    }\n]","import { PageId, PostState, Url } from \"../store\";\n\nexport const Work: PostState[] = [\n    {\n        \"pageId\": \"work\" as PageId,\n        \"contents\": [\n            {\n                \"text\": [\n                    \"[post-header](Three Divers | JAN 2020 - PRESENT)\",\n                    \"Working on a freight multi-modal routing application for finding how to get cargo from A to B.\",\n                    \"Currently not released to the public so can't go into details too much.\",\n                    \"My work included:\",\n                    \"* A content server for processing data from multiple data sources into a unified structure that can then be manipulated further manually.\",\n                    \"* A main server for using the processed data for routing and cataloging relationships between the data.\",\n                    \"* A frontend for manipulating the data on in the content server.\",\n                    \"* Hosted on AWS using EC2, load balancers, RDS and S3.\"\n                ],\n                \"pictures\": [{\n                    \"url\": \"/assets/threeDiversMockThumbnail.jpg\" as Url,\n                    \"caption\": \"A basic graphic of routing across different modes.\",\n                    \"fullSizeUrl\": \"/assets/threeDiversMock.jpg\" as Url\n                }],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[post-header](Metro Trains Melbourne | SEP 2018 - NOV 2020)\",\n                    \"Metro Trains Melbourne needed a tool for monitoring real time voltages and currents for testing their new trains.\",\n                    \"This work combined hardware installed in the field (created by my co-worker) and a server with a front end (created by me)\",\n                    \"The hardware was made up of an industrial PC with a USB oscilloscope and 4G modem\",\n                    \"My work included:\",\n                    \"* Creating a backend in .Net Core that received the data.\",\n                    \"* Creating the frontend for use on a PC or mobile, built using Typescript and React.\",\n                    \"* Handling displaying live data of up to 120k samples on a mobile device.\",\n                    \"* Storing, retrieving and processes all the data, which ranged between 40k samples per second to 120k samples per second.\",\n                    \"* Utilising various Amazon Web Services such as EC2 to host the server, RDS to host the database for users and config, S3 for long term storage of raw data and SQS as a backup connection should the server go down.\"\n                ],\n                \"pictures\": [{\n                    \"url\": \"/assets/mtmGraphs_small.jpg\" as Url,\n                    \"caption\": \"An example of live data from field units being displayed on a web UI.\"\n                },\n                {\n                    \"url\": \"/assets/mtmDataLookup_small.jpg\" as Url,\n                    \"caption\": \"An example of the data lookup UI for retrieving old data.\"\n                },\n                {\n                    \"url\": \"/assets/mtmDataLookup2_small.jpg\" as Url,\n                    \"caption\": \"An example of old data that has been looked up.\"\n                }]\n            },\n            {\n                \"text\": [\n                    \"[post-header](Rome2rio | OCT 2014 - JUL 2018)\",\n                    \"Rome2rio is a travel search website used for finding and comparing different routes from anywhere in the world. It specialised in ground transport.\",\n                    \"I focused on adding timetables, buying tickets and working on internal tools for updating and creating routes live.\",\n                    \"My work included:\",\n                    \"* Adding schedule information and the ability to buy tickets directly through Rome2rio for UK trains.\",\n                    \"* Internal tools for modifying their data through a web UI (not pictured).\",\n                    \"* Expanding upon and improved the infrastructure of their tooling.\",\n                    \"* For two years I mentored someone which resulted in them being able to shift from a non-dev role into a junior software dev.\"\n                ],\n                \"pictures\": [{\n                    \"url\": \"/assets/rome2rioTickets_small.png\" as Url,\n                    \"caption\": \"An example of buying a train ticket in the UK directly with Rome2rio.\"\n                },\n                {\n                    \"url\": \"/assets/rome2rioSchedules.png\" as Url,\n                    \"caption\": \"An example of a train timetable in Melbourne.\"\n                }],\n                \"picturePosition\": \"left\"\n            },\n            {\n                \"text\": [\n                    \"[post-header](miGenius and mental images | JAN 2008 - OCT - 2014)\",\n                    \"mental images are a company that specialises in photographic rendering using ray and path tracing software.\",\n                    \"After 3 years the Melbourne office split off to form the company migenius which continued to do the same work and allowed for working on stand alone products.\",\n                    \"Bloom Unit was their first product and combined the ease of using SketchUp's 3d editing with real time photographic images.\",\n                    \"My work included:\",\n                    \"* The interface between SketchUp (ruby) and Bloom Unit (C++) for keeping the 3d scene in sync.\",\n                    \"* The UI (Internet Explorer 6) for adjusting the render settings and configuring the materials.\",\n                    \"We also worked on other projects for various clients:\",\n                    \"* Integrating Bloom Unit into Autodesk Revit for Oldcastle.\",\n                    \"* Web visualisation projects for Obayashi Corporation and Shimizu Corporation.\",\n                    \"* A product visualiser for Takemoto products. [link](Bottle 3d Visualiser | http://www3d1.takemotokk.co.jp/takemoto/?lang=en)\",\n                    \"* A product visualiser for Christ Jewellery. [link](Ring Configurator | https://www.christ.de/)\"\n                ],\n                \"pictures\": [{\n                    \"url\": \"/assets/bloomunit_small.jpg\" as Url,\n                    \"caption\": \"A screenshot of SketchUp with Bloom Unit running.\"},\n                {\n                    \"url\": \"/assets/takemoto_small.jpg\" as Url,\n                    \"caption\": \"A screenshot of Takemoto's 3d Visualizer being used.\"\n                },\n                {\n                    \"url\": \"/assets/christRingConfigurator_small.jpg\" as Url,\n                    \"caption\": \"A screenshot of Christ Ring Configurator being used.\"\n                }]\n            }\n        ]\n    }\n]","import { PageId, PageState } from \"../store\"\n\nexport const Pages: PageState[] = [\n    {\n        \"id\": \"about\" as PageId,\n        \"title\": \"About\",\n        \"defaultPage\": true\n    },\n    {\n        \"id\": \"work\" as PageId,\n        \"title\": \"Work\"\n    },\n    {\n        \"id\": \"projects\" as PageId,\n        \"title\": \"Projects\"\n    }\n]","export const LightBackground = \"data:image/png;base64,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\";\nexport const DarkBackground = \"data:image/png;base64,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\";\nexport const LightBackgroundUrl = \"url(\" + LightBackground + \")\";\nexport const DarkBackgroundUrl = \"url(\" + DarkBackground + \")\";\n\ntype LoadCallback = (image: HTMLImageElement) => void;\n\nclass InternalImage\n{\n    public readonly image = new Image();\n    public loaded: boolean = false;\n    private callback?: LoadCallback;\n\n    public onLoaded(callback: LoadCallback)\n    {\n        if (this.loaded)\n        {\n            callback(this.image);\n        }\n        else\n        {\n            this.callback = callback;\n        }\n    }\n\n    public load(url: string)\n    {\n        this.image.onload = () =>\n        {\n            this.loaded = true;\n            if (this.callback)\n            {\n                this.callback(this.image);\n            }\n        }\n        this.image.onerror = (e) =>\n        {\n            console.error('Failed to load image', url, e);\n        }\n        this.image.src = url;\n        return this;\n    }\n}\n\nexport const LightBackgroundImage = new InternalImage().load(LightBackground);\nexport const DarkBackgroundImage = new InternalImage().load(DarkBackground);","import { Color } from './color';\nimport { Simulation } from './simulation';\nimport type { Config } from './types';\n\nclass WebGLFluidEnhanced {\n  private container: HTMLElement;\n  private simulation: Simulation;\n  constructor(container: HTMLElement = document.body) {\n    this.container = container;\n    this.container.style.outline = 'none';\n    this.container.style.display = 'flex';\n    this.container.style.justifyContent = 'center';\n    this.container.style.alignItems = 'center';\n\n    this.simulation = new Simulation(container);\n  }\n\n  public start() {\n    if (this.simulation.hasStarted) return;\n    this.simulation.start();\n  }\n\n  public stop() {\n    if (!this.simulation.hasStarted) return;\n    this.simulation.stop();\n  }\n\n  public togglePause(drawWhilePaused = false): boolean {\n    if (!this.simulation.hasStarted) return false;\n    this.simulation.paused = !this.simulation.paused;\n    if (this.simulation.paused) {\n      this.simulation.drawWhilePaused = drawWhilePaused;\n    }\n    return this.simulation.paused;\n  }\n\n  public multipleSplats(amount: number) {\n    if (!this.simulation.hasStarted) return;\n    this.simulation.multipleSplats(amount);\n  }\n\n  public splatAtLocation(\n    x: number,\n    y: number,\n    dx: number,\n    dy: number,\n    HEXColor?: string,\n  ) {\n    if (!this.simulation.hasStarted) return;\n\n    const normalizedX = x / this.simulation.canvas.width;\n    const normalizedY = 1.0 - y / this.simulation.canvas.clientHeight;\n\n    let color = HEXColor ? Color.HEXtoRGB(HEXColor) : undefined;\n\n    if (!color) {\n      color = Color.generateColor(\n        this.simulation.colorPalette,\n        this.simulation.brightness,\n      );\n    }\n\n    color.r *= 10.0;\n    color.g *= 10.0;\n    color.b *= 10.0;\n\n    this.simulation.splat(normalizedX, normalizedY, dx, dy, color);\n  }\n\n  public downloadScreenshot() {\n    if (!this.simulation.hasStarted) return;\n    this.simulation.captureScreenshot();\n  }\n\n  public setConfig(config: Config) {\n    if (config.simResolution !== undefined) {\n      this.simulation.simResolution = config.simResolution;\n    }\n    if (config.dyeResolution !== undefined) {\n      this.simulation.dyeResolution = config.dyeResolution;\n    }\n    if (config.captureResolution !== undefined) {\n      this.simulation.captureResolution = config.captureResolution;\n    }\n    if (config.densityDissipation !== undefined) {\n      this.simulation.densityDissipation = config.densityDissipation;\n    }\n    if (config.velocityDissipation !== undefined) {\n      this.simulation.velocityDissipation = config.velocityDissipation;\n    }\n    if (config.pressure !== undefined) {\n      this.simulation.pressure = config.pressure;\n    }\n    if (config.pressureIterations !== undefined) {\n      this.simulation.pressureIterations = config.pressureIterations;\n    }\n    if (config.curl !== undefined) {\n      this.simulation.curl = config.curl;\n    }\n    if (config.splatRadius !== undefined) {\n      this.simulation.splatRadius = config.splatRadius;\n    }\n    if (config.splatForce !== undefined) {\n      this.simulation.splatForce = config.splatForce;\n    }\n    if (config.shading !== undefined) {\n      this.simulation.shading = config.shading;\n    }\n    if (config.colorful !== undefined) {\n      this.simulation.colorful = config.colorful;\n    }\n    if (config.colorUpdateSpeed !== undefined) {\n      this.simulation.colorUpdateSpeed = config.colorUpdateSpeed;\n    }\n    if (config.colorPalette !== undefined) {\n      this.simulation.colorPalette = config.colorPalette;\n    }\n    if (config.hover !== undefined) {\n      this.simulation.hover = config.hover;\n    }\n    if (config.backgroundColor !== undefined) {\n      this.simulation.backgroundColor = config.backgroundColor;\n    }\n    if (config.inverted !== undefined) {\n      this.simulation.inverted = config.inverted;\n    }\n    if (config.transparent !== undefined) {\n      this.simulation.transparent = config.transparent;\n    }\n    if (config.brightness !== undefined) {\n      this.simulation.brightness = config.brightness;\n    }\n    if (config.bloom !== undefined) {\n      this.simulation.bloom = config.bloom;\n    }\n    if (config.bloomIterations !== undefined) {\n      this.simulation.bloomIterations = config.bloomIterations;\n    }\n    if (config.bloomResolution !== undefined) {\n      this.simulation.bloomResolution = config.bloomResolution;\n    }\n    if (config.bloomIntensity !== undefined) {\n      this.simulation.bloomIntensity = config.bloomIntensity;\n    }\n    if (config.bloomThreshold !== undefined) {\n      this.simulation.bloomThreshold = config.bloomThreshold;\n    }\n    if (config.bloomSoftKnee !== undefined) {\n      this.simulation.bloomSoftKnee = config.bloomSoftKnee;\n    }\n\n    if (!this.simulation.hasStarted) return;\n\n    if (\n      config.dyeResolution !== undefined ||\n      config.simResolution !== undefined\n    ) {\n      this.simulation.initFramebuffers();\n    }\n\n    if (\n      config.shading !== undefined ||\n      config.bloom !== undefined\n    ) {\n      this.simulation.updateKeywords();\n    }\n  }\n}\n\nexport * from './config';\nexport default WebGLFluidEnhanced;\n","import type { HSVColor, RGBColor } from './types';\n\nclass Color {\n  public static generateColor(\n    colorPalette: string[],\n    brightness: number,\n  ): RGBColor {\n    let hue: number;\n    let saturation: number;\n    if (!(colorPalette.length > 0)) {\n      hue = Math.random();\n      saturation = 1.0;\n    } else {\n      const randomIndex = Math.floor(Math.random() * colorPalette.length);\n      const color = colorPalette[randomIndex]!;\n      const HSVcolor = Color.HEXtoHSV(color);\n      hue = HSVcolor.h;\n      saturation = HSVcolor.s;\n    }\n\n    const c = Color.HSVtoRGB(hue, saturation, brightness);\n    c.r *= 0.15;\n    c.g *= 0.15;\n    c.b *= 0.15;\n    return c;\n  }\n\n  public static HEXtoHSV(hex: string): HSVColor {\n    hex = hex.replace('#', '');\n\n    const r = parseInt(hex.substring(0, 2), 16) / 255;\n    const g = parseInt(hex.substring(2, 4), 16) / 255;\n    const b = parseInt(hex.substring(4, 6), 16) / 255;\n\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n\n    let h: number, s: number;\n\n    if (max === min) {\n      h = 0;\n    } else if (max === r) {\n      h = ((g - b) / (max - min) + 6) % 6;\n    } else if (max === g) {\n      h = (b - r) / (max - min) + 2;\n    } else {\n      h = (r - g) / (max - min) + 4;\n    }\n    h /= 6;\n\n    if (max === 0) {\n      s = 0;\n    } else {\n      s = (max - min) / max;\n    }\n\n    const v = max;\n\n    return { h, s, v };\n  }\n\n  public static HEXtoRGB(hex: string): RGBColor {\n    hex = hex.replace('#', '');\n\n    const r = parseInt(hex.substring(0, 2), 16);\n    const g = parseInt(hex.substring(2, 4), 16);\n    const b = parseInt(hex.substring(4, 6), 16);\n\n    return { r, g, b };\n  }\n\n  public static HSVtoRGB(h: number, s: number, v: number): RGBColor {\n    let r = 0,\n      g = 0,\n      b = 0;\n    const i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        (r = v), (g = t), (b = p);\n        break;\n      case 1:\n        (r = q), (g = v), (b = p);\n        break;\n      case 2:\n        (r = p), (g = v), (b = t);\n        break;\n      case 3:\n        (r = p), (g = q), (b = v);\n        break;\n      case 4:\n        (r = t), (g = p), (b = v);\n        break;\n      case 5:\n        (r = v), (g = p), (b = q);\n        break;\n    }\n\n    return {\n      r,\n      g,\n      b,\n    };\n  }\n\n  public static normalizeColor(input: RGBColor): RGBColor {\n    const output = {\n      r: input.r / 255,\n      g: input.g / 255,\n      b: input.b / 255,\n    };\n    return output;\n  }\n}\n\nexport { Color };\n","import { Color } from './color';\nimport { defaultConfig } from './config';\nimport { Material } from './material';\nimport { Pointer } from './pointer';\nimport { Programs } from './programs';\nimport { Shaders } from './shaders';\nimport { Texture } from './texture';\nimport type {\n  DoubleFBO,\n  ExtraContext,\n  FBO,\n  RGBColor,\n  TextureInfo,\n} from './types';\n\nclass Simulation {\n  public hasStarted = false;\n  public simResolution = defaultConfig.simResolution;\n  public dyeResolution = defaultConfig.dyeResolution;\n  public captureResolution = defaultConfig.captureResolution;\n  public densityDissipation = defaultConfig.densityDissipation;\n  public velocityDissipation = defaultConfig.velocityDissipation;\n  public pressure = defaultConfig.pressure;\n  public pressureIterations = defaultConfig.pressureIterations;\n  public curl = defaultConfig.curl;\n  public splatRadius = defaultConfig.splatRadius;\n  public splatForce = defaultConfig.splatForce;\n  public shading = defaultConfig.shading;\n  public colorful = defaultConfig.colorful;\n  public colorUpdateSpeed = defaultConfig.colorUpdateSpeed;\n  public colorPalette: string[] = defaultConfig.colorPalette;\n  public hover = defaultConfig.hover;\n  public backgroundColor = defaultConfig.backgroundColor;\n  public transparent = defaultConfig.transparent;\n  public brightness = defaultConfig.brightness;\n  public bloom = defaultConfig.bloom;\n  public bloomIterations = defaultConfig.bloomIterations;\n  public bloomResolution = defaultConfig.bloomResolution;\n  public bloomIntensity = defaultConfig.bloomIntensity;\n  public bloomThreshold = defaultConfig.bloomThreshold;\n  public bloomSoftKnee = defaultConfig.bloomSoftKnee;\n  public paused = false;\n  public drawWhilePaused = false;\n  public canvas: HTMLCanvasElement;\n  private gl: WebGL2RenderingContext;\n  private ext: ExtraContext;\n  private splatStack: number[] = [];\n  private pointers: Pointer[] = [];\n  private programs: Programs;\n  private bloomFramebuffers: FBO[] = [];\n  private ditheringTexture: TextureInfo;\n  private displayMaterial: Material;\n  private lastUpdateTime: number = Date.now();\n  private colorUpdateTimer = 0.0;\n  private _dye!: DoubleFBO;\n  private _velocity!: DoubleFBO;\n  private _divergence!: FBO;\n  private _curl!: FBO;\n  private _pressure!: DoubleFBO;\n  private _bloom!: FBO;\n  private animationFrameId!: number;\n\n  constructor(container: HTMLElement) {\n    let canvas = container.querySelector('canvas');\n    if (!canvas)\n    {\n        canvas = document.createElement('canvas');\n        container.appendChild(canvas);\n    }\n    this.canvas = canvas;\n    this.canvas.style.width = '100%';\n    this.canvas.style.height = '100%';\n    this.resizeCanvas();\n\n    const { gl, ext } = this.getWebGLContext();\n    this.gl = gl;\n    this.ext = ext;\n\n    if (this.isMobile()) {\n      this.dyeResolution /= 2;\n    }\n    if (!this.ext.supportLinearFiltering) {\n      this.dyeResolution /= 2;\n      this.shading = false;\n      this.bloom = false;\n    }\n\n    const shaders = new Shaders(this.gl, this.ext);\n\n    this.blitInit();\n\n    this.ditheringTexture = Texture.ditheringTexture(this.gl);\n\n    this.programs = new Programs(this.gl, shaders);\n\n    this.displayMaterial = new Material(\n      shaders.baseVertexShader,\n      shaders.displayShaderSource,\n      this.gl,\n    );\n\n    this.update = this.update.bind(this);\n  }\n\n  public start() {\n    this.pointers.push(new Pointer(this.colorPalette, this.brightness));\n\n    this.updateKeywords();\n    this.initFramebuffers();\n\n    this.update();\n\n    window.addEventListener('mousedown', this.handleMouseDown);\n    window.addEventListener('mousemove', this.handleMouseMove);\n    window.addEventListener('mouseup', this.handleMouseUp);\n    window.addEventListener('touchstart', this.handleTouchStart, {\n      passive: false,\n      capture: true,\n    });\n    window.addEventListener('touchmove', this.handleTouchMove, {\n      passive: false,\n      capture: true,\n    });\n    window.addEventListener('touchend', this.handleTouchEnd);\n\n    this.hasStarted = true;\n  }\n\n  public stop() {\n    this.pointers = [];\n\n    cancelAnimationFrame(this.animationFrameId);\n\n    window.removeEventListener('mousedown', this.handleMouseDown);\n    window.removeEventListener('mousemove', this.handleMouseMove);\n    window.removeEventListener('mouseup', this.handleMouseUp);\n    window.removeEventListener('touchstart', this.handleTouchStart);\n    window.removeEventListener('touchmove', this.handleTouchMove);\n    window.removeEventListener('touchend', this.handleTouchEnd);\n\n    this.hasStarted = false;\n  }\n\n  private handleMouseDown = (event: MouseEvent) => {\n    const posX = this.scaleByPixelRatio(event.clientX);\n    const posY = this.scaleByPixelRatio(event.clientY);\n    let pointer = this.pointers.find((p) => p.id == -1);\n    if (!pointer) {\n      pointer = new Pointer(this.colorPalette, this.brightness);\n    }\n    pointer.updatePointerDownData(\n      -1,\n      posX,\n      posY,\n      this.canvas,\n      this.colorPalette,\n      this.brightness,\n    );\n  };\n\n  private handleMouseMove = (event: MouseEvent) => {\n    const posX = this.scaleByPixelRatio(event.clientX);\n    const posY = this.scaleByPixelRatio(event.clientY);\n    let pointer = this.pointers.find((p) => p.id == -1);\n    if (!pointer) {\n      pointer = new Pointer(this.colorPalette, this.brightness);\n    }\n    pointer.updatePointerMoveData(posX, posY, this.canvas, this.hover);\n  };\n\n  private handleMouseUp = () => {\n    if (!this.hover) {\n      this.pointers[0]!.updatePointerUpData();\n    }\n  };\n\n  private handleTouchStart = (event: TouchEvent) => {\n    const touches = event.targetTouches;\n    while (touches.length >= this.pointers.length)\n      this.pointers.push(new Pointer(this.colorPalette, this.brightness));\n    for (let i = 0; i < touches.length; i++) {\n      const posX = this.scaleByPixelRatio(touches[i]!.pageX);\n      const posY = this.scaleByPixelRatio(touches[i]!.pageY);\n      this.pointers[i + 1]!.updatePointerDownData(\n        touches[i]!.identifier,\n        posX,\n        posY,\n        this.canvas,\n        this.colorPalette,\n        this.brightness,\n      );\n    }\n  };\n\n  private handleTouchMove = (event: TouchEvent) => {\n    const touches = event.targetTouches;\n    for (let i = 0; i < touches.length; i++) {\n      const pointer = this.pointers[i + 1]!;\n      const posX = this.scaleByPixelRatio(touches[i]!.pageX);\n      const posY = this.scaleByPixelRatio(touches[i]!.pageY);\n      pointer.updatePointerMoveData(posX, posY, this.canvas, this.hover);\n    }\n  };\n\n  private handleTouchEnd = (event: TouchEvent) => {\n    const touches = event.changedTouches;\n    for (const touch of touches) {\n      const pointer = this.pointers.find(\n        (pointer) => pointer.id === touch.identifier,\n      );\n      if (!pointer) continue;\n      pointer.updatePointerUpData();\n    }\n  };\n\n  private scaleByPixelRatio(input: number): number {\n    const pixelRatio = window.devicePixelRatio || 1;\n    return Math.floor(input * pixelRatio);\n  }\n\n  private resizeCanvas(): boolean {\n    const width = this.scaleByPixelRatio(this.canvas.clientWidth);\n    const height = this.scaleByPixelRatio(this.canvas.clientHeight);\n    if (this.canvas.width != width || this.canvas.height != height) {\n      this.canvas.width = width;\n      this.canvas.height = height;\n      return true;\n    }\n    return false;\n  }\n\n  private supportRenderTextureFormat(\n    gl: WebGL2RenderingContext,\n    internalFormat: number,\n    format: number,\n    type: number,\n  ): boolean {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      0,\n      internalFormat,\n      4,\n      4,\n      0,\n      format,\n      type,\n      null,\n    );\n\n    const fbo = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\n    gl.framebufferTexture2D(\n      gl.FRAMEBUFFER,\n      gl.COLOR_ATTACHMENT0,\n      gl.TEXTURE_2D,\n      texture,\n      0,\n    );\n\n    const status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n    return status == gl.FRAMEBUFFER_COMPLETE;\n  }\n\n  private getSupportedFormat(\n    gl: WebGL2RenderingContext,\n    internalFormat: number,\n    format: number,\n    type: number,\n  ): { internalFormat: number; format: number } | null {\n    if (!this.supportRenderTextureFormat(gl, internalFormat, format, type)) {\n      switch (internalFormat) {\n        case gl.R16F:\n          return this.getSupportedFormat(gl, gl.RG16F, gl.RG, type);\n        case gl.RG16F:\n          return this.getSupportedFormat(gl, gl.RGBA16F, gl.RGBA, type);\n        default:\n          return null;\n      }\n    }\n\n    return {\n      internalFormat,\n      format,\n    };\n  }\n\n  private getWebGLContext(): { gl: WebGL2RenderingContext; ext: ExtraContext } {\n    const params = {\n      alpha: true,\n      depth: false,\n      stencil: false,\n      antialias: false,\n      preserveDrawingBuffer: false,\n    };\n\n    let gl = this.canvas.getContext('webgl2', params) as WebGL2RenderingContext;\n    const isWebGL2 = !!gl;\n    if (!isWebGL2)\n      gl =\n        (this.canvas.getContext('webgl', params) as WebGL2RenderingContext) ??\n        (this.canvas.getContext(\n          'experimental-webgl',\n          params,\n        ) as WebGLRenderingContext);\n\n    let halfFloat;\n    let supportLinearFiltering;\n    if (isWebGL2) {\n      gl.getExtension('EXT_color_buffer_float');\n      supportLinearFiltering = gl.getExtension('OES_texture_float_linear')!;\n    } else {\n      halfFloat = gl.getExtension('OES_texture_half_float');\n      supportLinearFiltering = gl.getExtension(\n        'OES_texture_half_float_linear',\n      )!;\n    }\n\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n\n    const halfFloatTexType = isWebGL2\n      ? gl.HALF_FLOAT\n      : halfFloat\n        ? halfFloat.HALF_FLOAT_OES\n        : 0;\n    let formatRGBA;\n    let formatRG;\n    let formatR;\n\n    if (isWebGL2) {\n      formatRGBA = this.getSupportedFormat(\n        gl,\n        gl.RGBA16F,\n        gl.RGBA,\n        halfFloatTexType,\n      )!;\n      formatRG = this.getSupportedFormat(\n        gl,\n        gl.RG16F,\n        gl.RG,\n        halfFloatTexType,\n      )!;\n      formatR = this.getSupportedFormat(gl, gl.R16F, gl.RED, halfFloatTexType)!;\n    } else {\n      formatRGBA = this.getSupportedFormat(\n        gl,\n        gl.RGBA,\n        gl.RGBA,\n        halfFloatTexType,\n      )!;\n      formatRG = this.getSupportedFormat(\n        gl,\n        gl.RGBA,\n        gl.RGBA,\n        halfFloatTexType,\n      )!;\n      formatR = this.getSupportedFormat(\n        gl,\n        gl.RGBA,\n        gl.RGBA,\n        halfFloatTexType,\n      )!;\n    }\n\n    return {\n      gl,\n      ext: {\n        formatRGBA,\n        formatRG,\n        formatR,\n        halfFloatTexType,\n        supportLinearFiltering,\n      },\n    };\n  }\n\n  private isMobile() {\n    return /Mobi|Android/i.test(navigator.userAgent);\n  }\n\n  public updateKeywords() {\n    const displayKeywords: string[] = [];\n    if (this.shading) displayKeywords.push('SHADING');\n    if (this.bloom) displayKeywords.push('BLOOM');\n    this.displayMaterial.setKeywords(displayKeywords);\n  }\n\n  public initFramebuffers() {\n    const simRes = this.getResolution(this.simResolution);\n    const dyeRes = this.getResolution(this.dyeResolution);\n\n    const texType = this.ext.halfFloatTexType;\n    const rgba = this.ext.formatRGBA;\n    const rg = this.ext.formatRG;\n    const r = this.ext.formatR;\n    const filtering = this.ext.supportLinearFiltering\n      ? this.gl.LINEAR\n      : this.gl.NEAREST;\n\n    this.gl.disable(this.gl.BLEND);\n\n    if (!this._dye)\n      this._dye = this.createDoubleFBO(\n        dyeRes.width,\n        dyeRes.height,\n        rgba.internalFormat,\n        rgba.format,\n        texType,\n        filtering,\n      );\n    else\n      this._dye = this.resizeDoubleFBO(\n        this._dye,\n        dyeRes.width,\n        dyeRes.height,\n        rgba.internalFormat,\n        rgba.format,\n        texType,\n        filtering,\n      );\n\n    if (!this._velocity)\n      this._velocity = this.createDoubleFBO(\n        simRes.width,\n        simRes.height,\n        rg.internalFormat,\n        rg.format,\n        texType,\n        filtering,\n      );\n    else\n      this._velocity = this.resizeDoubleFBO(\n        this._velocity,\n        simRes.width,\n        simRes.height,\n        rg.internalFormat,\n        rg.format,\n        texType,\n        filtering,\n      );\n\n    this._divergence = this.createFBO(\n      simRes.width,\n      simRes.height,\n      r.internalFormat,\n      r.format,\n      texType,\n      this.gl.NEAREST,\n    );\n    this._curl = this.createFBO(\n      simRes.width,\n      simRes.height,\n      r.internalFormat,\n      r.format,\n      texType,\n      this.gl.NEAREST,\n    );\n    this._pressure = this.createDoubleFBO(\n      simRes.width,\n      simRes.height,\n      r.internalFormat,\n      r.format,\n      texType,\n      this.gl.NEAREST,\n    );\n\n    this.initBloomFramebuffers();\n  }\n\n  private getResolution(resolution: number): {\n    width: number;\n    height: number;\n  } {\n    let aspectRatio = this.gl.drawingBufferWidth / this.gl.drawingBufferHeight;\n    if (aspectRatio < 1) {\n      aspectRatio = 1.0 / aspectRatio;\n    }\n\n    const min = Math.round(resolution);\n    const max = Math.round(resolution * aspectRatio);\n\n    if (this.gl.drawingBufferWidth > this.gl.drawingBufferHeight)\n      return { width: max, height: min };\n    else return { width: min, height: max };\n  }\n\n  private createDoubleFBO(\n    w: number,\n    h: number,\n    internalFormat: number,\n    format: number,\n    type: number,\n    param: number,\n  ): DoubleFBO {\n    let fbo1 = this.createFBO(w, h, internalFormat, format, type, param);\n    let fbo2 = this.createFBO(w, h, internalFormat, format, type, param);\n\n    return {\n      width: w,\n      height: h,\n      texelSizeX: fbo1.texelSizeX,\n      texelSizeY: fbo1.texelSizeY,\n      get read() {\n        return fbo1;\n      },\n      set read(value) {\n        fbo1 = value;\n      },\n      get write() {\n        return fbo2;\n      },\n      set write(value) {\n        fbo2 = value;\n      },\n      swap() {\n        const temp = fbo1;\n        fbo1 = fbo2;\n        fbo2 = temp;\n      },\n    };\n  }\n\n  private resizeFBO(\n    target: FBO,\n    w: number,\n    h: number,\n    internalFormat: number,\n    format: number,\n    type: number,\n    param: number,\n  ): FBO {\n    const newFBO = this.createFBO(w, h, internalFormat, format, type, param);\n    this.programs.copyProgram.bind();\n    this.gl.uniform1i(\n      this.programs.copyProgram.uniforms.uTexture!,\n      target.attach(0),\n    );\n    this.blit(newFBO);\n    return newFBO;\n  }\n\n  private resizeDoubleFBO(\n    target: DoubleFBO,\n    w: number,\n    h: number,\n    internalFormat: number,\n    format: number,\n    type: number,\n    param: number,\n  ): DoubleFBO {\n    if (target.width === w && target.height === h) return target;\n    target.read = this.resizeFBO(\n      target.read,\n      w,\n      h,\n      internalFormat,\n      format,\n      type,\n      param,\n    );\n    target.write = this.createFBO(w, h, internalFormat, format, type, param);\n    target.width = w;\n    target.height = h;\n    target.texelSizeX = 1.0 / w;\n    target.texelSizeY = 1.0 / h;\n    return target;\n  }\n\n  private createFBO(\n    w: number,\n    h: number,\n    internalFormat: number,\n    format: number,\n    type: number,\n    param: number,\n  ): FBO {\n    this.gl.activeTexture(this.gl.TEXTURE0);\n    const texture = this.gl.createTexture();\n    this.gl.bindTexture(this.gl.TEXTURE_2D, texture);\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MIN_FILTER,\n      param,\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_MAG_FILTER,\n      param,\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_S,\n      this.gl.CLAMP_TO_EDGE,\n    );\n    this.gl.texParameteri(\n      this.gl.TEXTURE_2D,\n      this.gl.TEXTURE_WRAP_T,\n      this.gl.CLAMP_TO_EDGE,\n    );\n    this.gl.texImage2D(\n      this.gl.TEXTURE_2D,\n      0,\n      internalFormat,\n      w,\n      h,\n      0,\n      format,\n      type,\n      null,\n    );\n\n    const fbo: WebGLFramebuffer | null = this.gl.createFramebuffer();\n    this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, fbo);\n    this.gl.framebufferTexture2D(\n      this.gl.FRAMEBUFFER,\n      this.gl.COLOR_ATTACHMENT0,\n      this.gl.TEXTURE_2D,\n      texture,\n      0,\n    );\n    this.gl.viewport(0, 0, w, h);\n    this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n\n    const texelSizeX = 1.0 / w;\n    const texelSizeY = 1.0 / h;\n\n    const gl = this.gl;\n    return {\n      texture,\n      fbo,\n      width: w,\n      height: h,\n      texelSizeX,\n      texelSizeY,\n      attach(id) {\n        gl.activeTexture(gl.TEXTURE0 + id);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        return id;\n      },\n    };\n  }\n\n  private initBloomFramebuffers() {\n    const res = this.getResolution(this.bloomResolution);\n\n    const texType = this.ext.halfFloatTexType;\n    const rgba = this.ext.formatRGBA;\n    const filtering = this.ext.supportLinearFiltering\n      ? this.gl.LINEAR\n      : this.gl.NEAREST;\n\n    this._bloom = this.createFBO(\n      res.width,\n      res.height,\n      rgba.internalFormat,\n      rgba.format,\n      texType,\n      filtering,\n    );\n\n    this.bloomFramebuffers.length = 0;\n    for (let i = 0; i < this.bloomIterations; i++) {\n      const width = res.width >> (i + 1);\n      const height = res.height >> (i + 1);\n\n      if (width < 2 || height < 2) break;\n\n      const fbo = this.createFBO(\n        width,\n        height,\n        rgba.internalFormat,\n        rgba.format,\n        texType,\n        filtering,\n      );\n      this.bloomFramebuffers.push(fbo);\n    }\n  }\n\n  private blitInit() {\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.gl.createBuffer());\n    this.gl.bufferData(\n      this.gl.ARRAY_BUFFER,\n      new Float32Array([-1, -1, -1, 1, 1, 1, 1, -1]),\n      this.gl.STATIC_DRAW,\n    );\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.gl.createBuffer());\n    this.gl.bufferData(\n      this.gl.ELEMENT_ARRAY_BUFFER,\n      new Uint16Array([0, 1, 2, 0, 2, 3]),\n      this.gl.STATIC_DRAW,\n    );\n    this.gl.vertexAttribPointer(0, 2, this.gl.FLOAT, false, 0, 0);\n    this.gl.enableVertexAttribArray(0);\n  }\n\n  private blit(target: FBO | null, clear = false) {\n    if (target === null) {\n      this.gl.viewport(\n        0,\n        0,\n        this.gl.drawingBufferWidth,\n        this.gl.drawingBufferHeight,\n      );\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);\n    } else {\n      this.gl.viewport(0, 0, target.width, target.height);\n      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, target.fbo);\n    }\n    if (clear) {\n      this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n    }\n    this.gl.drawElements(this.gl.TRIANGLES, 6, this.gl.UNSIGNED_SHORT, 0);\n  }\n\n  public multipleSplats(amount: number) {\n    for (let i = 0; i < amount; i++) {\n      const color = Color.generateColor(this.colorPalette, this.brightness);\n      color.r *= 10.0;\n      color.g *= 10.0;\n      color.b *= 10.0;\n      const x = Math.random();\n      const y = Math.random();\n      const dx = 1000 * (Math.random() - 0.5);\n      const dy = 1000 * (Math.random() - 0.5);\n      this.splat(x, y, dx, dy, color);\n    }\n  }\n\n  public splat(x: number, y: number, dx: number, dy: number, color: RGBColor) {\n    this.programs.splatProgram.bind();\n    this.gl.uniform1i(\n      this.programs.splatProgram.uniforms.uTarget!,\n      this._velocity.read.attach(0),\n    );\n    this.gl.uniform1f(\n      this.programs.splatProgram.uniforms.aspectRatio!,\n      this.canvas.width / this.canvas.height,\n    );\n    this.gl.uniform2f(this.programs.splatProgram.uniforms.point!, x, y);\n    this.gl.uniform3f(this.programs.splatProgram.uniforms.color!, dx, dy, 0.0);\n    this.gl.uniform1f(\n      this.programs.splatProgram.uniforms.radius!,\n      this.correctRadius(this.splatRadius / 100.0),\n    );\n    this.blit(this._velocity.write);\n    this._velocity.swap();\n\n    this.gl.uniform1i(\n      this.programs.splatProgram.uniforms.uTarget!,\n      this._dye.read.attach(0),\n    );\n    this.gl.uniform3f(\n      this.programs.splatProgram.uniforms.color!,\n      color.r,\n      color.g,\n      color.b,\n    );\n    this.blit(this._dye.write);\n    this._dye.swap();\n  }\n\n  private correctRadius(radius: number): number {\n    const aspectRatio = this.canvas.width / this.canvas.height;\n    if (aspectRatio > 1) {\n      radius *= aspectRatio;\n    }\n    return radius;\n  }\n\n  private update() {\n    const dt = this.calcDeltaTime();\n    if (this.resizeCanvas()) this.initFramebuffers();\n\n    this.updateColors(dt);\n    this.applyInputs();\n\n    if (!this.paused) this.step(dt);\n\n    this.render(null);\n\n    // This is bound in the constructor, so it's safe to call here\n    // eslint-disable-next-line\n    this.animationFrameId = requestAnimationFrame(this.update);\n  }\n\n  private calcDeltaTime(): number {\n    const now = Date.now();\n    let dt = (now - this.lastUpdateTime) / 1000;\n    dt = Math.min(dt, 0.016666);\n    this.lastUpdateTime = now;\n    return dt;\n  }\n\n  private updateColors(dt: number) {\n    if (!this.colorful) return;\n\n    this.colorUpdateTimer += dt * this.colorUpdateSpeed;\n    if (this.colorUpdateTimer >= 1) {\n      this.colorUpdateTimer = this.wrap(this.colorUpdateTimer, 0, 1);\n      this.pointers.forEach((p: Pointer) => {\n        p.color = Color.generateColor(this.colorPalette, this.brightness);\n      });\n    }\n  }\n\n  private wrap(value: number, min: number, max: number): number {\n    const range: number = max - min;\n    if (range == 0) return min;\n    return ((value - min) % range) + min;\n  }\n\n  private applyInputs() {\n    if (this.splatStack.length > 0) {\n      this.multipleSplats(this.splatStack.pop()!);\n    }\n    this.pointers.forEach((p) => {\n      if (p.moved) {\n        p.moved = false;\n        this.splatPointer(p);\n      }\n    });\n  }\n\n  private splatPointer(pointer: Pointer) {\n    if (this.paused && !this.drawWhilePaused) return;\n    const dx = pointer.deltaX * this.splatForce;\n    const dy = pointer.deltaY * this.splatForce;\n    this.splat(pointer.texcoordX, pointer.texcoordY, dx, dy, pointer.color);\n  }\n\n  private step(dt: number) {\n    this.gl.disable(this.gl.BLEND);\n\n    this.programs.curlProgram.bind();\n    this.gl.uniform2f(\n      this.programs.curlProgram.uniforms.texelSize!,\n      this._velocity.texelSizeX,\n      this._velocity.texelSizeY,\n    );\n    this.gl.uniform1i(\n      this.programs.curlProgram.uniforms.uVelocity!,\n      this._velocity.read.attach(0),\n    );\n    this.blit(this._curl);\n\n    this.programs.vorticityProgram.bind();\n    this.gl.uniform2f(\n      this.programs.vorticityProgram.uniforms.texelSize!,\n      this._velocity.texelSizeX,\n      this._velocity.texelSizeY,\n    );\n    this.gl.uniform1i(\n      this.programs.vorticityProgram.uniforms.uVelocity!,\n      this._velocity.read.attach(0),\n    );\n    this.gl.uniform1i(\n      this.programs.vorticityProgram.uniforms.uCurl!,\n      this._curl.attach(1),\n    );\n    this.gl.uniform1f(this.programs.vorticityProgram.uniforms.curl!, this.curl);\n    this.gl.uniform1f(this.programs.vorticityProgram.uniforms.dt!, dt);\n    this.blit(this._velocity.write);\n    this._velocity.swap();\n\n    this.programs.divergenceProgram.bind();\n    this.gl.uniform2f(\n      this.programs.divergenceProgram.uniforms.texelSize!,\n      this._velocity.texelSizeX,\n      this._velocity.texelSizeY,\n    );\n    this.gl.uniform1i(\n      this.programs.divergenceProgram.uniforms.uVelocity!,\n      this._velocity.read.attach(0),\n    );\n    this.blit(this._divergence);\n\n    this.programs.clearProgram.bind();\n    this.gl.uniform1i(\n      this.programs.clearProgram.uniforms.uTexture!,\n      this._pressure.read.attach(0),\n    );\n    this.gl.uniform1f(\n      this.programs.clearProgram.uniforms.value!,\n      this.pressure,\n    );\n    this.blit(this._pressure.write);\n    this._pressure.swap();\n\n    this.programs.pressureProgram.bind();\n    this.gl.uniform2f(\n      this.programs.pressureProgram.uniforms.texelSize!,\n      this._velocity.texelSizeX,\n      this._velocity.texelSizeY,\n    );\n    this.gl.uniform1i(\n      this.programs.pressureProgram.uniforms.uDivergence!,\n      this._divergence.attach(0),\n    );\n    for (let i = 0; i < this.pressureIterations; i++) {\n      this.gl.uniform1i(\n        this.programs.pressureProgram.uniforms.uPressure!,\n        this._pressure.read.attach(1),\n      );\n      this.blit(this._pressure.write);\n      this._pressure.swap();\n    }\n\n    this.programs.gradienSubtractProgram.bind();\n    this.gl.uniform2f(\n      this.programs.gradienSubtractProgram.uniforms.texelSize!,\n      this._velocity.texelSizeX,\n      this._velocity.texelSizeY,\n    );\n    this.gl.uniform1i(\n      this.programs.gradienSubtractProgram.uniforms.uPressure!,\n      this._pressure.read.attach(0),\n    );\n    this.gl.uniform1i(\n      this.programs.gradienSubtractProgram.uniforms.uVelocity!,\n      this._velocity.read.attach(1),\n    );\n    this.blit(this._velocity.write);\n    this._velocity.swap();\n\n    this.programs.advectionProgram.bind();\n    this.gl.uniform2f(\n      this.programs.advectionProgram.uniforms.texelSize!,\n      this._velocity.texelSizeX,\n      this._velocity.texelSizeY,\n    );\n    if (!this.ext.supportLinearFiltering)\n      this.gl.uniform2f(\n        this.programs.advectionProgram.uniforms.dyeTexelSize!,\n        this._velocity.texelSizeX,\n        this._velocity.texelSizeY,\n      );\n    const velocityId = this._velocity.read.attach(0);\n    this.gl.uniform1i(\n      this.programs.advectionProgram.uniforms.uVelocity!,\n      velocityId,\n    );\n    this.gl.uniform1i(\n      this.programs.advectionProgram.uniforms.uSource!,\n      velocityId,\n    );\n    this.gl.uniform1f(this.programs.advectionProgram.uniforms.dt!, dt);\n    this.gl.uniform1f(\n      this.programs.advectionProgram.uniforms.dissipation!,\n      this.velocityDissipation,\n    );\n    this.blit(this._velocity.write);\n    this._velocity.swap();\n\n    if (!this.ext.supportLinearFiltering)\n      this.gl.uniform2f(\n        this.programs.advectionProgram.uniforms.dyeTexelSize!,\n        this._dye.texelSizeX,\n        this._dye.texelSizeY,\n      );\n    this.gl.uniform1i(\n      this.programs.advectionProgram.uniforms.uVelocity!,\n      this._velocity.read.attach(0),\n    );\n    this.gl.uniform1i(\n      this.programs.advectionProgram.uniforms.uSource!,\n      this._dye.read.attach(1),\n    );\n    this.gl.uniform1f(\n      this.programs.advectionProgram.uniforms.dissipation!,\n      this.densityDissipation,\n    );\n    this.blit(this._dye.write);\n    this._dye.swap();\n  }\n\n  private render(target: FBO | null) {\n    if (this.bloom) this.applyBloom(this._dye.read, this._bloom);\n\n    if (target === null || !this.transparent) {\n      this.gl.blendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n      this.gl.enable(this.gl.BLEND);\n    } else {\n      this.gl.disable(this.gl.BLEND);\n    }\n\n    if (!this.transparent)\n      this.drawColor(\n        target,\n        Color.normalizeColor(Color.HEXtoRGB(this.backgroundColor)),\n      );\n    this.drawDisplay(target);\n  }\n\n  private drawColor(target: FBO | null, color: RGBColor) {\n    this.programs.colorProgram.bind();\n    this.gl.uniform4f(\n      this.programs.colorProgram.uniforms.color!,\n      color.r,\n      color.g,\n      color.b,\n      1,\n    );\n    this.blit(target);\n  }\n\n  private drawDisplay(target: FBO | null) {\n    const width = target === null ? this.gl.drawingBufferWidth : target.width;\n    const height =\n      target === null ? this.gl.drawingBufferHeight : target.height;\n\n    this.displayMaterial.bind();\n    if (this.shading)\n      this.gl.uniform2f(\n        this.displayMaterial.uniforms.texelSize!,\n        1.0 / width,\n        1.0 / height,\n      );\n    this.gl.uniform1i(\n      this.displayMaterial.uniforms.uTexture!,\n      this._dye.read.attach(0),\n    );\n    if (this.bloom) {\n      this.gl.uniform1i(\n        this.displayMaterial.uniforms.uBloom!,\n        this._bloom.attach(1),\n      );\n      this.gl.uniform1i(\n        this.displayMaterial.uniforms.uDithering!,\n        this.ditheringTexture.attach(2),\n      );\n      const scale = Texture.getTextureScale(\n        this.ditheringTexture,\n        width,\n        height,\n      );\n      this.gl.uniform2f(\n        this.displayMaterial.uniforms.ditherScale!,\n        scale.x,\n        scale.y,\n      );\n    }\n    this.blit(target);\n  }\n\n  private applyBloom(source: FBO, destination: FBO) {\n    if (this.bloomFramebuffers.length < 2) return;\n\n    let last = destination;\n\n    this.gl.disable(this.gl.BLEND);\n    this.programs.bloomPrefilterProgram.bind();\n    const knee = this.bloomThreshold * this.bloomSoftKnee + 0.0001;\n    const curve0 = this.bloomThreshold - knee;\n    const curve1 = knee * 2;\n    const curve2 = 0.25 / knee;\n    this.gl.uniform3f(\n      this.programs.bloomPrefilterProgram.uniforms.curve!,\n      curve0,\n      curve1,\n      curve2,\n    );\n    this.gl.uniform1f(\n      this.programs.bloomPrefilterProgram.uniforms.threshold!,\n      this.bloomThreshold,\n    );\n    this.gl.uniform1i(\n      this.programs.bloomPrefilterProgram.uniforms.uTexture!,\n      source.attach(0),\n    );\n    this.blit(last);\n\n    this.programs.bloomBlurProgram.bind();\n    for (const dest of this.bloomFramebuffers) {\n      if (!dest) continue;\n      this.gl.uniform2f(\n        this.programs.bloomBlurProgram.uniforms.texelSize!,\n        last.texelSizeX,\n        last.texelSizeY,\n      );\n      this.gl.uniform1i(\n        this.programs.bloomBlurProgram.uniforms.uTexture!,\n        last.attach(0),\n      );\n      this.blit(dest);\n      last = dest;\n    }\n\n    this.gl.blendFunc(this.gl.ONE, this.gl.ONE);\n    this.gl.enable(this.gl.BLEND);\n\n    for (let i = this.bloomFramebuffers.length - 2; i >= 0; i--) {\n      const baseTex = this.bloomFramebuffers[i]!;\n      this.gl.uniform2f(\n        this.programs.bloomBlurProgram.uniforms.texelSize!,\n        last.texelSizeX,\n        last.texelSizeY,\n      );\n      this.gl.uniform1i(\n        this.programs.bloomBlurProgram.uniforms.uTexture!,\n        last.attach(0),\n      );\n      this.gl.viewport(0, 0, baseTex.width, baseTex.height);\n      this.blit(baseTex);\n      last = baseTex;\n    }\n\n    this.gl.disable(this.gl.BLEND);\n    this.programs.bloomFinalProgram.bind();\n    this.gl.uniform2f(\n      this.programs.bloomFinalProgram.uniforms.texelSize!,\n      last.texelSizeX,\n      last.texelSizeY,\n    );\n    this.gl.uniform1i(\n      this.programs.bloomFinalProgram.uniforms.uTexture!,\n      last.attach(0),\n    );\n\n    this.gl.uniform1f(\n      this.programs.bloomFinalProgram.uniforms.intensity!,\n      this.bloomIntensity,\n    );\n    this.blit(destination);\n  }\n}\n\nexport { Simulation };\n","const defaultConfig = {\n  simResolution: 128,\n  dyeResolution: 1024,\n  captureResolution: 512,\n  densityDissipation: 1,\n  velocityDissipation: 0.2,\n  pressure: 0.8,\n  pressureIterations: 20,\n  curl: 30,\n  splatRadius: 0.25,\n  splatForce: 6000,\n  shading: true,\n  colorful: true,\n  colorUpdateSpeed: 10,\n  colorPalette: [],\n  hover: true,\n  backgroundColor: '#000000',\n  transparent: false,\n  brightness: 0.5,\n  bloom: true,\n  bloomIterations: 8,\n  bloomResolution: 256,\n  bloomIntensity: 0.8,\n  bloomThreshold: 0.6,\n  bloomSoftKnee: 0.7\n};\n\nexport { defaultConfig };\n","import { Shader } from './shader';\n\nclass Material {\n  public gl: WebGL2RenderingContext;\n  public vertexShader: WebGLShader;\n  public fragmentShaderSource: string;\n  public programs: WebGLProgram[];\n  public activeProgram: WebGLProgram | null;\n  public uniforms: Record<string, WebGLUniformLocation>;\n  constructor(\n    vertexShader: WebGLShader,\n    fragmentShaderSource: string,\n    gl: WebGL2RenderingContext,\n  ) {\n    this.gl = gl;\n    this.vertexShader = vertexShader;\n    this.fragmentShaderSource = fragmentShaderSource;\n    this.programs = [];\n    this.activeProgram = null;\n    this.uniforms = {};\n  }\n\n  public setKeywords(keywords: string[]) {\n    let hash = 0;\n    for (const keyword of keywords) {\n      hash += this.hashCode(keyword);\n    }\n\n    let program = this.programs[hash];\n    if (program == null) {\n      const fragmentShader = Shader.compileShader(\n        this.gl,\n        this.gl.FRAGMENT_SHADER,\n        this.fragmentShaderSource,\n        keywords,\n      )!;\n      program = Shader.createProgram(\n        this.vertexShader,\n        fragmentShader,\n        this.gl,\n      );\n      this.programs[hash] = program;\n    }\n\n    if (program == this.activeProgram) return;\n\n    this.uniforms = Shader.getUniforms(program, this.gl);\n    this.activeProgram = program;\n  }\n\n  private hashCode(s: string): number {\n    if (s.length === 0) return 0;\n    let hash = 0;\n    for (let i = 0; i < s.length; i++) {\n      hash = (hash << 5) - hash + s.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n    return hash;\n  }\n\n  public bind() {\n    this.gl.useProgram(this.activeProgram);\n  }\n}\n\nexport { Material };\n","class Shader {\n  public static getUniforms(\n    program: WebGLProgram,\n    gl: WebGL2RenderingContext,\n  ): Record<string, WebGLUniformLocation> {\n    const uniforms: Record<string, WebGLUniformLocation> = {};\n    const uniformCount = gl.getProgramParameter(\n      program,\n      gl.ACTIVE_UNIFORMS,\n    ) as number;\n    for (let i = 0; i < uniformCount; i++) {\n      const uniformName = gl.getActiveUniform(program, i)!.name;\n      uniforms[uniformName] = gl.getUniformLocation(program, uniformName)!;\n    }\n    return uniforms;\n  }\n\n  public static createProgram(\n    vertexShader: WebGLShader,\n    fragmentShader: WebGLShader,\n    gl: WebGL2RenderingContext,\n  ): WebGLProgram {\n    const program = gl.createProgram()!;\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n      console.trace(gl.getProgramInfoLog(program));\n\n    return program;\n  }\n\n  public static compileShader(\n    gl: WebGL2RenderingContext,\n    type: GLenum,\n    source: string,\n    keywords?: string[] | null,\n  ): WebGLShader | null {\n    source = Shader.addKeywords(source, keywords);\n\n    const shader = gl.createShader(type)!;\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      console.trace(gl.getShaderInfoLog(shader));\n      return null;\n    }\n\n    return shader;\n  }\n\n  private static addKeywords(\n    source: string,\n    keywords?: string[] | null,\n  ): string {\n    if (keywords == null) return source;\n    let keywordsString = '';\n    keywords.forEach((keyword) => {\n      keywordsString += '#define ' + keyword + '\\n';\n    });\n    return keywordsString + source;\n  }\n}\n\nexport { Shader };\n","import { Color } from './color';\n\nclass Pointer {\n  public id = -1;\n  public texcoordX = 0;\n  public texcoordY = 0;\n  public prevTexcoordX = 0;\n  public prevTexcoordY = 0;\n  public deltaX = 0;\n  public deltaY = 0;\n  public down = false;\n  public moved = false;\n  public color;\n\n  constructor(colorPalette: string[], brightness: number) {\n    this.color = Color.generateColor(colorPalette, brightness);\n  }\n\n  public updatePointerDownData(\n    id: number,\n    posX: number,\n    posY: number,\n    canvas: HTMLCanvasElement,\n    colorPalette: string[],\n    brightness: number,\n  ) {\n    this.id = id;\n    this.down = true;\n    this.moved = false;\n    this.texcoordX = posX / canvas.width;\n    this.texcoordY = 1.0 - posY / canvas.height;\n    this.prevTexcoordX = this.texcoordX;\n    this.prevTexcoordY = this.texcoordY;\n    this.deltaX = 0;\n    this.deltaY = 0;\n    this.color = Color.generateColor(colorPalette, brightness);\n  }\n\n  public updatePointerMoveData(\n    posX: number,\n    posY: number,\n    canvas: HTMLCanvasElement,\n    hover: boolean,\n  ) {\n    this.prevTexcoordX = this.texcoordX;\n    this.prevTexcoordY = this.texcoordY;\n    this.texcoordX = posX / canvas.width;\n    this.texcoordY = 1.0 - posY / canvas.height;\n    this.deltaX = this.correctDeltaX(\n      this.texcoordX - this.prevTexcoordX,\n      canvas,\n    );\n    this.deltaY = this.correctDeltaY(\n      this.texcoordY - this.prevTexcoordY,\n      canvas,\n    );\n    if (hover) {\n      this.moved = Math.abs(this.deltaX) > 0 || Math.abs(this.deltaY) > 0;\n    } else {\n      this.moved = this.down;\n    }\n  }\n\n  public updatePointerUpData() {\n    this.down = false;\n  }\n\n  private correctDeltaX(delta: number, canvas: HTMLCanvasElement): number {\n    const aspectRatio = canvas.width / canvas.height;\n    if (aspectRatio < 1) delta *= aspectRatio;\n    return delta;\n  }\n\n  private correctDeltaY(delta: number, canvas: HTMLCanvasElement): number {\n    const aspectRatio = canvas.width / canvas.height;\n    if (aspectRatio > 1) delta /= aspectRatio;\n    return delta;\n  }\n}\n\nexport { Pointer };\n","import { Program } from './program';\nimport type { Shaders } from './shaders';\n\nclass Programs {\n  public blurProgram: Program;\n  public copyProgram: Program;\n  public clearProgram: Program;\n  public colorProgram: Program;\n  public bloomPrefilterProgram: Program;\n  public bloomBlurProgram: Program;\n  public bloomFinalProgram: Program;\n  public splatProgram: Program;\n  public advectionProgram: Program;\n  public divergenceProgram: Program;\n  public curlProgram: Program;\n  public vorticityProgram: Program;\n  public pressureProgram: Program;\n  public gradienSubtractProgram: Program;\n\n  constructor(gl: WebGL2RenderingContext, shaders: Shaders) {\n    this.blurProgram = new Program(\n      shaders.blurVertexShader,\n      shaders.blurShader,\n      gl,\n    );\n\n    this.copyProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.copyShader,\n      gl,\n    );\n\n    this.clearProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.clearShader,\n      gl,\n    );\n\n    this.colorProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.colorShader,\n      gl,\n    );\n\n    this.bloomPrefilterProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.bloomPrefilterShader,\n      gl,\n    );\n\n    this.bloomBlurProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.bloomBlurShader,\n      gl,\n    );\n\n    this.bloomFinalProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.bloomFinalShader,\n      gl,\n    );\n\n    this.splatProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.splatShader,\n      gl,\n    );\n\n    this.advectionProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.advectionShader,\n      gl,\n    );\n\n    this.divergenceProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.divergenceShader,\n      gl,\n    );\n\n    this.curlProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.curlShader,\n      gl,\n    );\n\n    this.vorticityProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.vorticityShader,\n      gl,\n    );\n\n    this.pressureProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.pressureShader,\n      gl,\n    );\n\n    this.gradienSubtractProgram = new Program(\n      shaders.baseVertexShader,\n      shaders.gradientSubtractShader,\n      gl,\n    );\n  }\n}\n\nexport { Programs };\n","import { Shader } from './shader';\n\nclass Program {\n  public gl: WebGL2RenderingContext;\n  public program: WebGLProgram;\n  public uniforms: Record<string, WebGLUniformLocation>;\n  constructor(\n    vertexShader: WebGLShader,\n    fragmentShader: WebGLShader,\n    gl: WebGL2RenderingContext,\n  ) {\n    this.gl = gl;\n    this.uniforms = {};\n    this.program = Shader.createProgram(vertexShader, fragmentShader, gl);\n    this.uniforms = Shader.getUniforms(this.program, gl);\n  }\n\n  public bind() {\n    this.gl.useProgram(this.program);\n  }\n}\n\nexport { Program };\n","import { Shader } from './shader';\nimport type { ExtraContext } from './types';\n\nclass Shaders {\n  public displayShaderSource: string;\n  public baseVertexShader: WebGLShader;\n  public blurVertexShader: WebGLShader;\n  public blurShader: WebGLShader;\n  public copyShader: WebGLShader;\n  public clearShader: WebGLShader;\n  public colorShader: WebGLShader;\n  public bloomPrefilterShader: WebGLShader;\n  public bloomBlurShader: WebGLShader;\n  public bloomFinalShader: WebGLShader;\n  public splatShader: WebGLShader;\n  public advectionShader: WebGLShader;\n  public divergenceShader: WebGLShader;\n  public curlShader: WebGLShader;\n  public vorticityShader: WebGLShader;\n  public pressureShader: WebGLShader;\n  public gradientSubtractShader: WebGLShader;\n\n  constructor(gl: WebGL2RenderingContext, ext: ExtraContext) {\n    this.displayShaderSource = `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform sampler2D uBloom;\n    uniform sampler2D uDithering;\n    uniform vec2 ditherScale;\n    uniform vec2 texelSize;\n\n    vec3 linearToGamma (vec3 color) {\n    color = max(color, vec3(0));\n    return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));\n    }\n\n    void main () {\n    vec3 c = texture2D(uTexture, vUv).rgb;\n\n    #ifdef SHADING\n    vec3 lc = texture2D(uTexture, vL).rgb;\n    vec3 rc = texture2D(uTexture, vR).rgb;\n    vec3 tc = texture2D(uTexture, vT).rgb;\n    vec3 bc = texture2D(uTexture, vB).rgb;\n\n    float dx = length(rc) - length(lc);\n    float dy = length(tc) - length(bc);\n\n    vec3 n = normalize(vec3(dx, dy, length(texelSize)));\n    vec3 l = vec3(0.0, 0.0, 1.0);\n\n    float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n    c *= diffuse;\n    #endif\n\n    #ifdef BLOOM\n    vec3 bloom = texture2D(uBloom, vUv).rgb;\n    float noise = texture2D(uDithering, vUv * ditherScale).r;\n    noise = noise * 2.0 - 1.0;\n    bloom += noise / 255.0;\n    bloom = linearToGamma(bloom);\n    c += bloom;\n    #endif\n\n    float a = max(c.r, max(c.g, c.b));\n    gl_FragColor = vec4(c, a);\n    }\n    `;\n\n    this.baseVertexShader = Shader.compileShader(\n      gl,\n      gl.VERTEX_SHADER,\n      `\n    precision highp float;\n\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform vec2 texelSize;\n\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        vL = vUv - vec2(texelSize.x, 0.0);\n        vR = vUv + vec2(texelSize.x, 0.0);\n        vT = vUv + vec2(0.0, texelSize.y);\n        vB = vUv - vec2(0.0, texelSize.y);\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`,\n    )!;\n\n    this.blurVertexShader = Shader.compileShader(\n      gl,\n      gl.VERTEX_SHADER,\n      `\n    precision highp float;\n\n    attribute vec2 aPosition;\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform vec2 texelSize;\n\n    void main () {\n        vUv = aPosition * 0.5 + 0.5;\n        float offset = 1.33333333;\n        vL = vUv - texelSize * offset;\n        vR = vUv + texelSize * offset;\n        gl_Position = vec4(aPosition, 0.0, 1.0);\n    }\n`,\n    )!;\n\n    this.blurShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    uniform sampler2D uTexture;\n\n    void main () {\n        vec4 sum = texture2D(uTexture, vUv) * 0.29411764;\n        sum += texture2D(uTexture, vL) * 0.35294117;\n        sum += texture2D(uTexture, vR) * 0.35294117;\n        gl_FragColor = sum;\n    }\n`,\n    )!;\n\n    this.copyShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n\n    void main () {\n        gl_FragColor = texture2D(uTexture, vUv);\n    }\n`,\n    )!;\n\n    this.clearShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform float value;\n\n    void main () {\n        gl_FragColor = value * texture2D(uTexture, vUv);\n    }\n`,\n    )!;\n\n    this.colorShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n\n    uniform vec4 color;\n\n    void main () {\n        gl_FragColor = color;\n    }\n`,\n    )!;\n\n    this.bloomPrefilterShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTexture;\n    uniform vec3 curve;\n    uniform float threshold;\n\n    void main () {\n        vec3 c = texture2D(uTexture, vUv).rgb;\n        float br = max(c.r, max(c.g, c.b));\n        float rq = clamp(br - curve.x, 0.0, curve.y);\n        rq = curve.z * rq * rq;\n        c *= max(rq, br - threshold) / max(br, 0.0001);\n        gl_FragColor = vec4(c, 0.0);\n    }\n`,\n    )!;\n\n    this.bloomBlurShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum;\n    }\n`,\n    )!;\n\n    this.bloomFinalShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uTexture;\n    uniform float intensity;\n\n    void main () {\n        vec4 sum = vec4(0.0);\n        sum += texture2D(uTexture, vL);\n        sum += texture2D(uTexture, vR);\n        sum += texture2D(uTexture, vT);\n        sum += texture2D(uTexture, vB);\n        sum *= 0.25;\n        gl_FragColor = sum * intensity;\n    }\n`,\n    )!;\n\n    this.splatShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uTarget;\n    uniform float aspectRatio;\n    uniform vec3 color;\n    uniform vec2 point;\n    uniform float radius;\n\n    void main () {\n        vec2 p = vUv - point.xy;\n        p.x *= aspectRatio;\n        vec3 splat = exp(-dot(p, p) / radius) * color;\n        vec3 base = texture2D(uTarget, vUv).xyz;\n        gl_FragColor = vec4(base + splat, 1.0);\n    }\n`,\n    )!;\n\n    this.advectionShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uSource;\n    uniform vec2 texelSize;\n    uniform vec2 dyeTexelSize;\n    uniform float dt;\n    uniform float dissipation;\n\n    vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {\n        vec2 st = uv / tsize - 0.5;\n\n        vec2 iuv = floor(st);\n        vec2 fuv = fract(st);\n\n        vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n        vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n        vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n        vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\n        return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n    }\n\n    void main () {\n    #ifdef MANUAL_FILTERING\n        vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;\n        vec4 result = bilerp(uSource, coord, dyeTexelSize);\n    #else\n        vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n        vec4 result = texture2D(uSource, coord);\n    #endif\n        float decay = 1.0 + dissipation * dt;\n        gl_FragColor = result / decay;\n    }`,\n      ext.supportLinearFiltering ? null : ['MANUAL_FILTERING'],\n    )!;\n\n    this.divergenceShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uVelocity, vL).x;\n        float R = texture2D(uVelocity, vR).x;\n        float T = texture2D(uVelocity, vT).y;\n        float B = texture2D(uVelocity, vB).y;\n\n        vec2 C = texture2D(uVelocity, vUv).xy;\n        if (vL.x < 0.0) { L = -C.x; }\n        if (vR.x > 1.0) { R = -C.x; }\n        if (vT.y > 1.0) { T = -C.y; }\n        if (vB.y < 0.0) { B = -C.y; }\n\n        float div = 0.5 * (R - L + T - B);\n        gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n    }\n`,\n    )!;\n\n    this.curlShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uVelocity, vL).y;\n        float R = texture2D(uVelocity, vR).y;\n        float T = texture2D(uVelocity, vT).x;\n        float B = texture2D(uVelocity, vB).x;\n        float vorticity = R - L - T + B;\n        gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n    }\n`,\n    )!;\n\n    this.vorticityShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision highp float;\n    precision highp sampler2D;\n\n    varying vec2 vUv;\n    varying vec2 vL;\n    varying vec2 vR;\n    varying vec2 vT;\n    varying vec2 vB;\n    uniform sampler2D uVelocity;\n    uniform sampler2D uCurl;\n    uniform float curl;\n    uniform float dt;\n\n    void main () {\n        float L = texture2D(uCurl, vL).x;\n        float R = texture2D(uCurl, vR).x;\n        float T = texture2D(uCurl, vT).x;\n        float B = texture2D(uCurl, vB).x;\n        float C = texture2D(uCurl, vUv).x;\n\n        vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n        force /= length(force) + 0.0001;\n        force *= curl * C;\n        force.y *= -1.0;\n\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity += force * dt;\n        velocity = min(max(velocity, -1000.0), 1000.0);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`,\n    )!;\n\n    this.pressureShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uDivergence;\n\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        float C = texture2D(uPressure, vUv).x;\n        float divergence = texture2D(uDivergence, vUv).x;\n        float pressure = (L + R + B + T - divergence) * 0.25;\n        gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n    }\n`,\n    )!;\n\n    this.gradientSubtractShader = Shader.compileShader(\n      gl,\n      gl.FRAGMENT_SHADER,\n      `\n    precision mediump float;\n    precision mediump sampler2D;\n\n    varying highp vec2 vUv;\n    varying highp vec2 vL;\n    varying highp vec2 vR;\n    varying highp vec2 vT;\n    varying highp vec2 vB;\n    uniform sampler2D uPressure;\n    uniform sampler2D uVelocity;\n\n    void main () {\n        float L = texture2D(uPressure, vL).x;\n        float R = texture2D(uPressure, vR).x;\n        float T = texture2D(uPressure, vT).x;\n        float B = texture2D(uPressure, vB).x;\n        vec2 velocity = texture2D(uVelocity, vUv).xy;\n        velocity.xy -= vec2(R - L, T - B);\n        gl_FragColor = vec4(velocity, 0.0, 1.0);\n    }\n`,\n    )!;\n  }\n}\n\nexport { Shaders };\n","import type { TextureInfo } from './types';\n\nclass Texture {\n  public static ditheringTexture(gl: WebGL2RenderingContext) {\n    return Texture.createTextureAsync(\n      'data:image/png;base64,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',\n      gl,\n    );\n  }\n\n  public static getTextureScale(\n    texture: { width: number; height: number },\n    width: number,\n    height: number,\n  ): { x: number; y: number } {\n    return {\n      x: width / texture.width,\n      y: height / texture.height,\n    };\n  }\n\n  private static createTextureAsync(\n    url: string,\n    gl: WebGL2RenderingContext,\n  ): TextureInfo {\n    const texture: WebGLTexture = gl.createTexture()!;\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n    gl.texImage2D(\n      gl.TEXTURE_2D,\n      0,\n      gl.RGB,\n      1,\n      1,\n      0,\n      gl.RGB,\n      gl.UNSIGNED_BYTE,\n      new Uint8Array([255, 255, 255]),\n    );\n\n    const obj: TextureInfo = {\n      texture,\n      width: 1,\n      height: 1,\n      attach(id: number) {\n        gl.activeTexture(gl.TEXTURE0 + id);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        return id;\n      },\n    };\n\n    const image: HTMLImageElement = new Image();\n    image.onload = () => {\n      obj.width = image.width;\n      obj.height = image.height;\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, gl.RGB, gl.UNSIGNED_BYTE, image);\n    };\n    image.src = url;\n\n    return obj;\n  }\n}\n\nexport { Texture };\n"],"names":["$565bb8264fce4bd8$export$6f57813fe9f31bf9","$parcel$interopDefault","a","__esModule","default","$ac586b1394cc16ea$exports","Object","defineProperty","value","vdom","render","shallowEqual","isFunctionalNode","isTextNode","isClassNode","isIntrinsicNode","createComponentKey","createChildKey","VDom","ClassComponent","$ac586b1394cc16ea$var$ClassComponent","constructor","props","children","undefined","vdomKey","prevRenderedResult","unmounting","onMount","onUnmount","finishUnmount","hasChanged","newProps","internalRender","forceUpdate","domNode","rootDomNode","renderDom","parentElement","vdomNode","vdomData","$ac586b1394cc16ea$var$VDom","doc","nsStack","rootKey","processChildNode","input","createTextNode","toString","virtualNode","parent","key","createVDom","nodeType","processedChildren","flat","Infinity","filter","child","map","createIntrinsicNode","prototype","createClassNode","createFunctionalNode","Error","clear","deleteVDomData","textValue","intrinsicType","inputProps","attributes","eventListeners","properties","style","prop","propValue","$ac586b1394cc16ea$var$attributeIsEventListener","substr","$ac586b1394cc16ea$var$attributeIsProperty","nodeName","listeners","ctor","$ac586b1394cc16ea$var$processComponentProps","renderNode","func","parentNode","vNode","currentVDom","hasVElementChanged","renderTextNode","renderClassNode","renderFunctionalNode","renderIntrinsicNode","i","length","childKey","childVDom","componentChildKey","componentChildVDom","classComponent","instance","$ac586b1394cc16ea$var$removeDomElement","oldNode","newNode","nodeValue","appendChild","functionalChildKey","rendered","inst","isNew","renderedVNode","_a","currentIntrinsicVNode","newXmlNs","xmlns","push","stackXmlNs","createElementNS","createElement","renderChildrenNodes","applyAttributes","applyStyle","applyEventListeners","applyProperties","pop","getChildWithDomNode","newVDom","previousChildren","keysToRemove","previousVNodes","domNodeChildren","childNodes","domIndex","newDomNode","item","insertBefore","domElement","currentProps","diff","diffProps","remove","removeAttribute","add","setAttribute","currentStyle","newStyle","removeProperty","setProperty","currentListeners","newListeners","eventType","removeEventListener","addEventListener","assign","currentValue","newValue","attribute","startsWith","removeChild","$565bb8264fce4bd8$export$723f3965683bce1e","selectedPageId","parentKey","index","objA","objB","keysA","keys","keysB","current","type","document","$c1574a56fc59efc2$var$classesToAdd","$c1574a56fc59efc2$var$svgXmlNs","$c1574a56fc59efc2$var$viewbox","$c1574a56fc59efc2$export$2e2bcd8739ae039","icon","size","active","disabled","isFinite","classNames","class","$c1574a56fc59efc2$var$ThemeIcon","viewBox","href","$c1574a56fc59efc2$var$DisableIcon","includes","setTimeout","gotoMoon","gotoSun","attributeName","dur","repeatCount","fill","calcMode","begin","keySplines","values","d","cx","cy","r","args","beginAni","querySelector","beginElement","endAni","path","window","classList","finishedHandler","stroke","$c1574a56fc59efc2$export$a1c7fef0d68f3d45","id","$daecbb779ee31d50$export$2e2bcd8739ae039","text","disableIcon","onclick","onClick","$c19085c8d25843b8$export$2e2bcd8739ae039","showMenu","rowClassNames","toggleMenu","c","showIndex","$0662600351afa8ef$export$2e2bcd8739ae039","darkTheme","ripplesEnabled","toggleDarkTheme","toggleRipples","execute","$2a6d69e55f240f95$export$2e2bcd8739ae039","page","title","e","button","preventDefault","stopPropagation","$26a14be0a203a6c0$export$42cfbb80f7861e77","pages","onClickPage","onPageChange","$35370380133e286e$export$a06f1c675e846f6f","$38ae70e57cd32e91$exports","listener","indexOf","splice","trigger","$62e1e9e90dbfcd00$export$5b39060336a11a8b","$62e1e9e90dbfcd00$export$55cdd3303710b5e1","$0808fc33ad601887$export$3129a105b878e9d6","url","fullSizeUrl","caption","picture","imgElement","loading","src","alt","onmouseenter","onMouseEnter","onmouseleave","onMouseLeave","target","el","$f2ccf0c51d5f03df$export$2e2bcd8739ae039","link","extraProps","$beedf5b8b74b50b8$var$formattingRegex","$beedf5b8b74b50b8$var$globalFormattingRegex","RegExp","$beedf5b8b74b50b8$export$2e2bcd8739ae039","processText","result","split","token","test","linkSplit","trim","headerSplit","header","period","$8f05a5688f618ec6$export$ada6dfafcb2dc824","pictures","list","picturePosition","links","content","listChildren","line","trimLeft","createList","items","$a0a8b37a4e1c5fc8$export$e3cb9ef4a0c00f93","contents","post","$956a685afb70a429$export$d074f14c5fd21603","postsHeight","bounds","getBoundingClientRect","height","posts","category","pageId","$8fcbb6e240ba1c0e$export$2e2bcd8739ae039","$1471fd671fa71dfa$export$2e2bcd8739ae039","$f449f0b23fbc743a$var$postsContainerEl","$f449f0b23fbc743a$export$86fbec116b87613f","isMobile","backgrounds","state","body","$f449f0b23fbc743a$var$onPageChange","find","pushedState","history","pushState","$606a849e5fc4e0cb$exports","EmptyModifier","initialState","subscriptions","currentState","modifier","isNewState","newState","triggerSubscriptions","subscribe","selector","subscription","comparer","selectorName","startValue","obj","$606a849e5fc4e0cb$var$SelectorContext","subscribeAny","callback","unsubscribeAll","getValue","checkIfChanged","name","prevValue","$9da19770fa74e87d$export$c717c2ee03fc6c49","$f6c5ad660fb3ac27$var$initialPageId","defaultPage","$f6c5ad660fb3ac27$var$combinePosts","dark","light","$e14ef26123a5e7d3$export$91b4748c274f6aab","$e14ef26123a5e7d3$export$ede4ebd46660008d","$e14ef26123a5e7d3$export$1d4a845b6574681a","$e14ef26123a5e7d3$export$1882b020a5eb10ec","$e14ef26123a5e7d3$var$InternalImage","onLoaded","loaded","image","load","onload","onerror","console","error","Image","$b2dae528be745350$export$892596cec99bc70e","generateColor","colorPalette","brightness","hue","saturation","randomIndex","Math","floor","random","color","HSVcolor","HEXtoHSV","h","s","HSVtoRGB","g","b","hex","parseInt","replace","substring","max","min","v","HEXtoRGB","f","p","q","t","normalizeColor","$c85e4e7d4c00b36f$export$462bb059fed9d9e5","getUniforms","program","gl","uniforms","uniformCount","getProgramParameter","ACTIVE_UNIFORMS","uniformName","getActiveUniform","getUniformLocation","createProgram","vertexShader","fragmentShader","attachShader","linkProgram","LINK_STATUS","trace","getProgramInfoLog","compileShader","source","keywords","addKeywords","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","keywordsString","forEach","keyword","$137c410d0534d21d$export$a2d8b23205c25948","fragmentShaderSource","programs","activeProgram","setKeywords","hash","hashCode","FRAGMENT_SHADER","charCodeAt","bind","useProgram","$9457981fb44ac169$export$b56007f12edf0c17","texcoordX","texcoordY","prevTexcoordX","prevTexcoordY","deltaX","deltaY","down","moved","updatePointerDownData","posX","posY","canvas","width","updatePointerMoveData","hover","correctDeltaX","correctDeltaY","abs","updatePointerUpData","delta","aspectRatio","$d3cfde90817ef108$export$b6c59b989905b650","$1de11c59caf3a7db$export$2f2344543032b459","shaders","blurProgram","blurVertexShader","blurShader","copyProgram","baseVertexShader","copyShader","clearProgram","clearShader","colorProgram","colorShader","bloomPrefilterProgram","bloomPrefilterShader","bloomBlurProgram","bloomBlurShader","bloomFinalProgram","bloomFinalShader","splatProgram","splatShader","advectionProgram","advectionShader","divergenceProgram","divergenceShader","curlProgram","curlShader","vorticityProgram","vorticityShader","pressureProgram","pressureShader","gradienSubtractProgram","gradientSubtractShader","$cc792d2a70ad2070$export$a40ce7f85e84d230","ext","displayShaderSource","VERTEX_SHADER","supportLinearFiltering","$3613876b5dd1839b$export$5431306cf43de24a","ditheringTexture","createTextureAsync","getTextureScale","texture","x","y","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","texImage2D","RGB","UNSIGNED_BYTE","Uint8Array","attach","activeTexture","TEXTURE0","$707cc163de5d58b7$export$156b30a852a4aab","container","hasStarted","simResolution","dyeResolution","captureResolution","densityDissipation","velocityDissipation","pressure","pressureIterations","curl","splatRadius","splatForce","shading","colorful","colorUpdateSpeed","backgroundColor","transparent","bloom","bloomIterations","bloomResolution","bloomIntensity","bloomThreshold","bloomSoftKnee","paused","drawWhilePaused","splatStack","pointers","bloomFramebuffers","lastUpdateTime","Date","now","colorUpdateTimer","handleMouseDown","event","scaleByPixelRatio","clientX","clientY","pointer","handleMouseMove","handleMouseUp","handleTouchStart","touches","targetTouches","pageX","pageY","identifier","handleTouchMove","handleTouchEnd","touch","changedTouches","resizeCanvas","getWebGLContext","blitInit","displayMaterial","update","start","updateKeywords","initFramebuffers","passive","capture","stop","cancelAnimationFrame","animationFrameId","devicePixelRatio","clientWidth","clientHeight","supportRenderTextureFormat","internalFormat","format","NEAREST","CLAMP_TO_EDGE","fbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","status","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","getSupportedFormat","R16F","RG16F","RG","RGBA16F","RGBA","halfFloat","formatRGBA","formatRG","formatR","params","alpha","depth","stencil","antialias","preserveDrawingBuffer","getContext","isWebGL2","getExtension","clearColor","halfFloatTexType","HALF_FLOAT","HALF_FLOAT_OES","RED","navigator","userAgent","displayKeywords","simRes","getResolution","dyeRes","texType","rgba","rg","filtering","disable","BLEND","_dye","resizeDoubleFBO","createDoubleFBO","_velocity","_divergence","createFBO","_curl","_pressure","initBloomFramebuffers","resolution","drawingBufferWidth","drawingBufferHeight","round","w","param","fbo1","fbo2","texelSizeX","texelSizeY","read","write","swap","temp","resizeFBO","newFBO","uniform1i","uTexture","blit","viewport","COLOR_BUFFER_BIT","res","_bloom","bindBuffer","ARRAY_BUFFER","createBuffer","bufferData","Float32Array","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","Uint16Array","vertexAttribPointer","FLOAT","enableVertexAttribArray","drawElements","TRIANGLES","UNSIGNED_SHORT","multipleSplats","amount","dx","dy","splat","uTarget","uniform1f","uniform2f","point","uniform3f","radius","correctRadius","dt","calcDeltaTime","updateColors","applyInputs","step","requestAnimationFrame","wrap","value1","range","splatPointer","texelSize","uVelocity","uCurl","uDivergence","uPressure","dyeTexelSize","velocityId","uSource","dissipation","applyBloom","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","enable","drawColor","drawDisplay","uniform4f","uBloom","uDithering","scale","ditherScale","destination","last","knee","curve0","dest","curve","threshold","baseTex","intensity","$85d03f9da7ea0cfc$export$2e2bcd8739ae039","outline","display","justifyContent","alignItems","simulation","togglePause","splatAtLocation","HEXColor","normalizedX","normalizedY","downloadScreenshot","captureScreenshot","setConfig","config","inverted","globalThis","__store","$70fc9a727fa662ae$var$initialState","__state","$70fc9a727fa662ae$var$renderApp","toggle","backgroundImage","cookie","offsetWidth","log","stateData","$70fc9a727fa662ae$var$fluid","getElementById"],"version":3,"file":"index.10437f45.js.map"}